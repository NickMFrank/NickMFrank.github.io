function Zb(i,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in i)){const s=Object.getOwnPropertyDescriptor(n,r);s&&Object.defineProperty(i,r,s.get?s:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function MM(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function $b(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(n){var r=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return i[n]}})}),t}var oy={exports:{}},ad={},ay={exports:{}},Qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1;function e2(){if(H1)return Qt;H1=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(k){return k===null||typeof k!="object"?null:(k=g&&k[g]||k["@@iterator"],typeof k=="function"?k:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,w={};function S(k,Q,K){this.props=k,this.context=Q,this.refs=w,this.updater=K||x}S.prototype.isReactComponent={},S.prototype.setState=function(k,Q){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Q,"setState")},S.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function E(){}E.prototype=S.prototype;function b(k,Q,K){this.props=k,this.context=Q,this.refs=w,this.updater=K||x}var T=b.prototype=new E;T.constructor=b,A(T,S.prototype),T.isPureReactComponent=!0;var R=Array.isArray,I=Object.prototype.hasOwnProperty,F={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function D(k,Q,K){var ae,Me={},Pe=null,le=null;if(Q!=null)for(ae in Q.ref!==void 0&&(le=Q.ref),Q.key!==void 0&&(Pe=""+Q.key),Q)I.call(Q,ae)&&!z.hasOwnProperty(ae)&&(Me[ae]=Q[ae]);var Ge=arguments.length-2;if(Ge===1)Me.children=K;else if(1<Ge){for(var Ne=Array(Ge),Qe=0;Qe<Ge;Qe++)Ne[Qe]=arguments[Qe+2];Me.children=Ne}if(k&&k.defaultProps)for(ae in Ge=k.defaultProps,Ge)Me[ae]===void 0&&(Me[ae]=Ge[ae]);return{$$typeof:i,type:k,key:Pe,ref:le,props:Me,_owner:F.current}}function O(k,Q){return{$$typeof:i,type:k.type,key:Q,ref:k.ref,props:k.props,_owner:k._owner}}function G(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function Y(k){var Q={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(K){return Q[K]})}var he=/\/+/g;function ie(k,Q){return typeof k=="object"&&k!==null&&k.key!=null?Y(""+k.key):Q.toString(36)}function $(k,Q,K,ae,Me){var Pe=typeof k;(Pe==="undefined"||Pe==="boolean")&&(k=null);var le=!1;if(k===null)le=!0;else switch(Pe){case"string":case"number":le=!0;break;case"object":switch(k.$$typeof){case i:case e:le=!0}}if(le)return le=k,Me=Me(le),k=ae===""?"."+ie(le,0):ae,R(Me)?(K="",k!=null&&(K=k.replace(he,"$&/")+"/"),$(Me,Q,K,"",function(Qe){return Qe})):Me!=null&&(G(Me)&&(Me=O(Me,K+(!Me.key||le&&le.key===Me.key?"":(""+Me.key).replace(he,"$&/")+"/")+k)),Q.push(Me)),1;if(le=0,ae=ae===""?".":ae+":",R(k))for(var Ge=0;Ge<k.length;Ge++){Pe=k[Ge];var Ne=ae+ie(Pe,Ge);le+=$(Pe,Q,K,Ne,Me)}else if(Ne=y(k),typeof Ne=="function")for(k=Ne.call(k),Ge=0;!(Pe=k.next()).done;)Pe=Pe.value,Ne=ae+ie(Pe,Ge++),le+=$(Pe,Q,K,Ne,Me);else if(Pe==="object")throw Q=String(k),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return le}function ce(k,Q,K){if(k==null)return k;var ae=[],Me=0;return $(k,ae,"","",function(Pe){return Q.call(K,Pe,Me++)}),ae}function ge(k){if(k._status===-1){var Q=k._result;Q=Q(),Q.then(function(K){(k._status===0||k._status===-1)&&(k._status=1,k._result=K)},function(K){(k._status===0||k._status===-1)&&(k._status=2,k._result=K)}),k._status===-1&&(k._status=0,k._result=Q)}if(k._status===1)return k._result.default;throw k._result}var ve={current:null},V={transition:null},re={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:V,ReactCurrentOwner:F};return Qt.Children={map:ce,forEach:function(k,Q,K){ce(k,function(){Q.apply(this,arguments)},K)},count:function(k){var Q=0;return ce(k,function(){Q++}),Q},toArray:function(k){return ce(k,function(Q){return Q})||[]},only:function(k){if(!G(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Qt.Component=S,Qt.Fragment=t,Qt.Profiler=r,Qt.PureComponent=b,Qt.StrictMode=n,Qt.Suspense=f,Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,Qt.cloneElement=function(k,Q,K){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var ae=A({},k.props),Me=k.key,Pe=k.ref,le=k._owner;if(Q!=null){if(Q.ref!==void 0&&(Pe=Q.ref,le=F.current),Q.key!==void 0&&(Me=""+Q.key),k.type&&k.type.defaultProps)var Ge=k.type.defaultProps;for(Ne in Q)I.call(Q,Ne)&&!z.hasOwnProperty(Ne)&&(ae[Ne]=Q[Ne]===void 0&&Ge!==void 0?Ge[Ne]:Q[Ne])}var Ne=arguments.length-2;if(Ne===1)ae.children=K;else if(1<Ne){Ge=Array(Ne);for(var Qe=0;Qe<Ne;Qe++)Ge[Qe]=arguments[Qe+2];ae.children=Ge}return{$$typeof:i,type:k.type,key:Me,ref:Pe,props:ae,_owner:le}},Qt.createContext=function(k){return k={$$typeof:a,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:s,_context:k},k.Consumer=k},Qt.createElement=D,Qt.createFactory=function(k){var Q=D.bind(null,k);return Q.type=k,Q},Qt.createRef=function(){return{current:null}},Qt.forwardRef=function(k){return{$$typeof:l,render:k}},Qt.isValidElement=G,Qt.lazy=function(k){return{$$typeof:p,_payload:{_status:-1,_result:k},_init:ge}},Qt.memo=function(k,Q){return{$$typeof:d,type:k,compare:Q===void 0?null:Q}},Qt.startTransition=function(k){var Q=V.transition;V.transition={};try{k()}finally{V.transition=Q}},Qt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Qt.useCallback=function(k,Q){return ve.current.useCallback(k,Q)},Qt.useContext=function(k){return ve.current.useContext(k)},Qt.useDebugValue=function(){},Qt.useDeferredValue=function(k){return ve.current.useDeferredValue(k)},Qt.useEffect=function(k,Q){return ve.current.useEffect(k,Q)},Qt.useId=function(){return ve.current.useId()},Qt.useImperativeHandle=function(k,Q,K){return ve.current.useImperativeHandle(k,Q,K)},Qt.useInsertionEffect=function(k,Q){return ve.current.useInsertionEffect(k,Q)},Qt.useLayoutEffect=function(k,Q){return ve.current.useLayoutEffect(k,Q)},Qt.useMemo=function(k,Q){return ve.current.useMemo(k,Q)},Qt.useReducer=function(k,Q,K){return ve.current.useReducer(k,Q,K)},Qt.useRef=function(k){return ve.current.useRef(k)},Qt.useState=function(k){return ve.current.useState(k)},Qt.useSyncExternalStore=function(k,Q,K){return ve.current.useSyncExternalStore(k,Q,K)},Qt.useTransition=function(){return ve.current.useTransition()},Qt.version="18.2.0",Qt}var V1;function lh(){return V1||(V1=1,ay.exports=e2()),ay.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W1;function t2(){if(W1)return ad;W1=1;var i=lh(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,r=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(l,f,d){var p,g={},y=null,x=null;d!==void 0&&(y=""+d),f.key!==void 0&&(y=""+f.key),f.ref!==void 0&&(x=f.ref);for(p in f)n.call(f,p)&&!s.hasOwnProperty(p)&&(g[p]=f[p]);if(l&&l.defaultProps)for(p in f=l.defaultProps,f)g[p]===void 0&&(g[p]=f[p]);return{$$typeof:e,type:l,key:y,ref:x,props:g,_owner:r.current}}return ad.Fragment=t,ad.jsx=a,ad.jsxs=a,ad}var j1;function n2(){return j1||(j1=1,oy.exports=t2()),oy.exports}var ne=n2(),Z=lh();const Gd=MM(Z),i2=Zb({__proto__:null,default:Gd},[Z]);var Lm={},ly={exports:{}},Dr={},uy={exports:{}},cy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J1;function r2(){return J1||(J1=1,function(i){function e(V,re){var k=V.length;V.push(re);e:for(;0<k;){var Q=k-1>>>1,K=V[Q];if(0<r(K,re))V[Q]=re,V[k]=K,k=Q;else break e}}function t(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var re=V[0],k=V.pop();if(k!==re){V[0]=k;e:for(var Q=0,K=V.length,ae=K>>>1;Q<ae;){var Me=2*(Q+1)-1,Pe=V[Me],le=Me+1,Ge=V[le];if(0>r(Pe,k))le<K&&0>r(Ge,Pe)?(V[Q]=Ge,V[le]=k,Q=le):(V[Q]=Pe,V[Me]=k,Q=Me);else if(le<K&&0>r(Ge,k))V[Q]=Ge,V[le]=k,Q=le;else break e}}return re}function r(V,re){var k=V.sortIndex-re.sortIndex;return k!==0?k:V.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();i.unstable_now=function(){return a.now()-l}}var f=[],d=[],p=1,g=null,y=3,x=!1,A=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(V){for(var re=t(d);re!==null;){if(re.callback===null)n(d);else if(re.startTime<=V)n(d),re.sortIndex=re.expirationTime,e(f,re);else break;re=t(d)}}function R(V){if(w=!1,T(V),!A)if(t(f)!==null)A=!0,ge(I);else{var re=t(d);re!==null&&ve(R,re.startTime-V)}}function I(V,re){A=!1,w&&(w=!1,E(D),D=-1),x=!0;var k=y;try{for(T(re),g=t(f);g!==null&&(!(g.expirationTime>re)||V&&!Y());){var Q=g.callback;if(typeof Q=="function"){g.callback=null,y=g.priorityLevel;var K=Q(g.expirationTime<=re);re=i.unstable_now(),typeof K=="function"?g.callback=K:g===t(f)&&n(f),T(re)}else n(f);g=t(f)}if(g!==null)var ae=!0;else{var Me=t(d);Me!==null&&ve(R,Me.startTime-re),ae=!1}return ae}finally{g=null,y=k,x=!1}}var F=!1,z=null,D=-1,O=5,G=-1;function Y(){return!(i.unstable_now()-G<O)}function he(){if(z!==null){var V=i.unstable_now();G=V;var re=!0;try{re=z(!0,V)}finally{re?ie():(F=!1,z=null)}}else F=!1}var ie;if(typeof b=="function")ie=function(){b(he)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ce=$.port2;$.port1.onmessage=he,ie=function(){ce.postMessage(null)}}else ie=function(){S(he,0)};function ge(V){z=V,F||(F=!0,ie())}function ve(V,re){D=S(function(){V(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(V){V.callback=null},i.unstable_continueExecution=function(){A||x||(A=!0,ge(I))},i.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<V?Math.floor(1e3/V):5},i.unstable_getCurrentPriorityLevel=function(){return y},i.unstable_getFirstCallbackNode=function(){return t(f)},i.unstable_next=function(V){switch(y){case 1:case 2:case 3:var re=3;break;default:re=y}var k=y;y=re;try{return V()}finally{y=k}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(V,re){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var k=y;y=V;try{return re()}finally{y=k}},i.unstable_scheduleCallback=function(V,re,k){var Q=i.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?Q+k:Q):k=Q,V){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=k+K,V={id:p++,callback:re,priorityLevel:V,startTime:k,expirationTime:K,sortIndex:-1},k>Q?(V.sortIndex=k,e(d,V),t(f)===null&&V===t(d)&&(w?(E(D),D=-1):w=!0,ve(R,k-Q))):(V.sortIndex=K,e(f,V),A||x||(A=!0,ge(I))),V},i.unstable_shouldYield=Y,i.unstable_wrapCallback=function(V){var re=y;return function(){var k=y;y=re;try{return V.apply(this,arguments)}finally{y=k}}}}(cy)),cy}var X1;function s2(){return X1||(X1=1,uy.exports=r2()),uy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K1;function o2(){if(K1)return Dr;K1=1;var i=lh(),e=s2();function t(o){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+o,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,r={};function s(o,u){a(o,u),a(o+"Capture",u)}function a(o,u){for(r[o]=u,o=0;o<u.length;o++)n.add(u[o])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function y(o){return f.call(g,o)?!0:f.call(p,o)?!1:d.test(o)?g[o]=!0:(p[o]=!0,!1)}function x(o,u,m,_){if(m!==null&&m.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return _?!1:m!==null?!m.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function A(o,u,m,_){if(u===null||typeof u>"u"||x(o,u,m,_))return!0;if(_)return!1;if(m!==null)switch(m.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function w(o,u,m,_,C,B,N){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=_,this.attributeNamespace=C,this.mustUseProperty=m,this.propertyName=o,this.type=u,this.sanitizeURL=B,this.removeEmptyString=N}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){S[o]=new w(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var u=o[0];S[u]=new w(u,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){S[o]=new w(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){S[o]=new w(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){S[o]=new w(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){S[o]=new w(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){S[o]=new w(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){S[o]=new w(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){S[o]=new w(o,5,!1,o.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function b(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var u=o.replace(E,b);S[u]=new w(u,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var u=o.replace(E,b);S[u]=new w(u,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var u=o.replace(E,b);S[u]=new w(u,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){S[o]=new w(o,1,!1,o.toLowerCase(),null,!1,!1)}),S.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){S[o]=new w(o,1,!1,o.toLowerCase(),null,!0,!0)});function T(o,u,m,_){var C=S.hasOwnProperty(u)?S[u]:null;(C!==null?C.type!==0:_||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(A(u,m,C,_)&&(m=null),_||C===null?y(u)&&(m===null?o.removeAttribute(u):o.setAttribute(u,""+m)):C.mustUseProperty?o[C.propertyName]=m===null?C.type===3?!1:"":m:(u=C.attributeName,_=C.attributeNamespace,m===null?o.removeAttribute(u):(C=C.type,m=C===3||C===4&&m===!0?"":""+m,_?o.setAttributeNS(_,u,m):o.setAttribute(u,m))))}var R=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),F=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),Y=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),V=Symbol.iterator;function re(o){return o===null||typeof o!="object"?null:(o=V&&o[V]||o["@@iterator"],typeof o=="function"?o:null)}var k=Object.assign,Q;function K(o){if(Q===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);Q=u&&u[1]||""}return`
`+Q+o}var ae=!1;function Me(o,u){if(!o||ae)return"";ae=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Ae){var _=Ae}Reflect.construct(o,[],u)}else{try{u.call()}catch(Ae){_=Ae}o.call(u.prototype)}else{try{throw Error()}catch(Ae){_=Ae}o()}}catch(Ae){if(Ae&&_&&typeof Ae.stack=="string"){for(var C=Ae.stack.split(`
`),B=_.stack.split(`
`),N=C.length-1,X=B.length-1;1<=N&&0<=X&&C[N]!==B[X];)X--;for(;1<=N&&0<=X;N--,X--)if(C[N]!==B[X]){if(N!==1||X!==1)do if(N--,X--,0>X||C[N]!==B[X]){var ee=`
`+C[N].replace(" at new "," at ");return o.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",o.displayName)),ee}while(1<=N&&0<=X);break}}}finally{ae=!1,Error.prepareStackTrace=m}return(o=o?o.displayName||o.name:"")?K(o):""}function Pe(o){switch(o.tag){case 5:return K(o.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return o=Me(o.type,!1),o;case 11:return o=Me(o.type.render,!1),o;case 1:return o=Me(o.type,!0),o;default:return""}}function le(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case z:return"Fragment";case F:return"Portal";case O:return"Profiler";case D:return"StrictMode";case ie:return"Suspense";case $:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Y:return(o.displayName||"Context")+".Consumer";case G:return(o._context.displayName||"Context")+".Provider";case he:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ce:return u=o.displayName||null,u!==null?u:le(o.type)||"Memo";case ge:u=o._payload,o=o._init;try{return le(o(u))}catch{}}return null}function Ge(o){var u=o.type;switch(o.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=u.render,o=o.displayName||o.name||"",u.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(u);case 8:return u===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Ne(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Qe(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Oe(o){var u=Qe(o)?"checked":"value",m=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),_=""+o[u];if(!o.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var C=m.get,B=m.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return C.call(this)},set:function(N){_=""+N,B.call(this,N)}}),Object.defineProperty(o,u,{enumerable:m.enumerable}),{getValue:function(){return _},setValue:function(N){_=""+N},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function Ye(o){o._valueTracker||(o._valueTracker=Oe(o))}function Ee(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var m=u.getValue(),_="";return o&&(_=Qe(o)?o.checked?"true":"false":o.value),o=_,o!==m?(u.setValue(o),!0):!1}function we(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function ze(o,u){var m=u.checked;return k({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??o._wrapperState.initialChecked})}function rt(o,u){var m=u.defaultValue==null?"":u.defaultValue,_=u.checked!=null?u.checked:u.defaultChecked;m=Ne(u.value!=null?u.value:m),o._wrapperState={initialChecked:_,initialValue:m,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Ke(o,u){u=u.checked,u!=null&&T(o,"checked",u,!1)}function mt(o,u){Ke(o,u);var m=Ne(u.value),_=u.type;if(m!=null)_==="number"?(m===0&&o.value===""||o.value!=m)&&(o.value=""+m):o.value!==""+m&&(o.value=""+m);else if(_==="submit"||_==="reset"){o.removeAttribute("value");return}u.hasOwnProperty("value")?at(o,u.type,m):u.hasOwnProperty("defaultValue")&&at(o,u.type,Ne(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(o.defaultChecked=!!u.defaultChecked)}function gt(o,u,m){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var _=u.type;if(!(_!=="submit"&&_!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+o._wrapperState.initialValue,m||u===o.value||(o.value=u),o.defaultValue=u}m=o.name,m!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,m!==""&&(o.name=m)}function at(o,u,m){(u!=="number"||we(o.ownerDocument)!==o)&&(m==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+m&&(o.defaultValue=""+m))}var kt=Array.isArray;function Ot(o,u,m,_){if(o=o.options,u){u={};for(var C=0;C<m.length;C++)u["$"+m[C]]=!0;for(m=0;m<o.length;m++)C=u.hasOwnProperty("$"+o[m].value),o[m].selected!==C&&(o[m].selected=C),C&&_&&(o[m].defaultSelected=!0)}else{for(m=""+Ne(m),u=null,C=0;C<o.length;C++){if(o[C].value===m){o[C].selected=!0,_&&(o[C].defaultSelected=!0);return}u!==null||o[C].disabled||(u=o[C])}u!==null&&(u.selected=!0)}}function J(o,u){if(u.dangerouslySetInnerHTML!=null)throw Error(t(91));return k({},u,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function U(o,u){var m=u.value;if(m==null){if(m=u.children,u=u.defaultValue,m!=null){if(u!=null)throw Error(t(92));if(kt(m)){if(1<m.length)throw Error(t(93));m=m[0]}u=m}u==null&&(u=""),m=u}o._wrapperState={initialValue:Ne(m)}}function xe(o,u){var m=Ne(u.value),_=Ne(u.defaultValue);m!=null&&(m=""+m,m!==o.value&&(o.value=m),u.defaultValue==null&&o.defaultValue!==m&&(o.defaultValue=m)),_!=null&&(o.defaultValue=""+_)}function ke(o){var u=o.textContent;u===o._wrapperState.initialValue&&u!==""&&u!==null&&(o.value=u)}function He(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(o,u){return o==null||o==="http://www.w3.org/1999/xhtml"?He(u):o==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var _t,Ze=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,m,_,C){MSApp.execUnsafeLocalFunction(function(){return o(u,m,_,C)})}:o}(function(o,u){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=u;else{for(_t=_t||document.createElement("div"),_t.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=_t.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;u.firstChild;)o.appendChild(u.firstChild)}});function be(o,u){if(u){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=u;return}}o.textContent=u}var ct={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},St=["Webkit","ms","Moz","O"];Object.keys(ct).forEach(function(o){St.forEach(function(u){u=u+o.charAt(0).toUpperCase()+o.substring(1),ct[u]=ct[o]})});function lt(o,u,m){return u==null||typeof u=="boolean"||u===""?"":m||typeof u!="number"||u===0||ct.hasOwnProperty(o)&&ct[o]?(""+u).trim():u+"px"}function xt(o,u){o=o.style;for(var m in u)if(u.hasOwnProperty(m)){var _=m.indexOf("--")===0,C=lt(m,u[m],_);m==="float"&&(m="cssFloat"),_?o.setProperty(m,C):o[m]=C}}var yt=k({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function te(o,u){if(u){if(yt[o]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(t(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(t(61))}if(u.style!=null&&typeof u.style!="object")throw Error(t(62))}}function Le(o,u){if(o.indexOf("-")===-1)return typeof u.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nt=null;function q(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var _e=null,Ie=null,Je=null;function dt(o){if(o=Ls(o)){if(typeof _e!="function")throw Error(t(280));var u=o.stateNode;u&&(u=Yc(u),_e(o.stateNode,o.type,u))}}function jt(o){Ie?Je?Je.push(o):Je=[o]:Ie=o}function tn(){if(Ie){var o=Ie,u=Je;if(Je=Ie=null,dt(o),u)for(o=0;o<u.length;o++)dt(u[o])}}function fn(o,u){return o(u)}function fi(){}var Kt=!1;function Jn(o,u,m){if(Kt)return o(u,m);Kt=!0;try{return fn(o,u,m)}finally{Kt=!1,(Ie!==null||Je!==null)&&(fi(),tn())}}function Cn(o,u){var m=o.stateNode;if(m===null)return null;var _=Yc(m);if(_===null)return null;m=_[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(o=o.type,_=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!_;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(t(231,u,typeof m));return m}var Ta=!1;if(l)try{var Bo={};Object.defineProperty(Bo,"passive",{get:function(){Ta=!0}}),window.addEventListener("test",Bo,Bo),window.removeEventListener("test",Bo,Bo)}catch{Ta=!1}function pc(o,u,m,_,C,B,N,X,ee){var Ae=Array.prototype.slice.call(arguments,3);try{u.apply(m,Ae)}catch(Fe){this.onError(Fe)}}var _s=!1,W=null,pe=!1,Te=null,de={onError:function(o){_s=!0,W=o}};function Re(o,u,m,_,C,B,N,X,ee){_s=!1,W=null,pc.apply(de,arguments)}function At(o,u,m,_,C,B,N,X,ee){if(Re.apply(this,arguments),_s){if(_s){var Ae=W;_s=!1,W=null}else throw Error(t(198));pe||(pe=!0,Te=Ae)}}function Mt(o){var u=o,m=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(m=u.return),o=u.return;while(o)}return u.tag===3?m:null}function Ft(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function Ut(o){if(Mt(o)!==o)throw Error(t(188))}function Yt(o){var u=o.alternate;if(!u){if(u=Mt(o),u===null)throw Error(t(188));return u!==o?null:o}for(var m=o,_=u;;){var C=m.return;if(C===null)break;var B=C.alternate;if(B===null){if(_=C.return,_!==null){m=_;continue}break}if(C.child===B.child){for(B=C.child;B;){if(B===m)return Ut(C),o;if(B===_)return Ut(C),u;B=B.sibling}throw Error(t(188))}if(m.return!==_.return)m=C,_=B;else{for(var N=!1,X=C.child;X;){if(X===m){N=!0,m=C,_=B;break}if(X===_){N=!0,_=C,m=B;break}X=X.sibling}if(!N){for(X=B.child;X;){if(X===m){N=!0,m=B,_=C;break}if(X===_){N=!0,_=B,m=C;break}X=X.sibling}if(!N)throw Error(t(189))}}if(m.alternate!==_)throw Error(t(190))}if(m.tag!==3)throw Error(t(188));return m.stateNode.current===m?o:u}function Jt(o){return o=Yt(o),o!==null?Xt(o):null}function Xt(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var u=Xt(o);if(u!==null)return u;o=o.sibling}return null}var En=e.unstable_scheduleCallback,Ai=e.unstable_cancelCallback,Or=e.unstable_shouldYield,As=e.unstable_requestPaint,It=e.unstable_now,zt=e.unstable_getCurrentPriorityLevel,ws=e.unstable_ImmediatePriority,Tn=e.unstable_UserBlockingPriority,yr=e.unstable_NormalPriority,ba=e.unstable_LowPriority,tr=e.unstable_IdlePriority,Pi=null,Ct=null;function Zt(o){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Pi,o,void 0,(o.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:Ss,an=Math.log,$n=Math.LN2;function Ss(o){return o>>>=0,o===0?32:31-(an(o)/$n|0)|0}var vr=64,hi=4194304;function ro(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Ul(o,u){var m=o.pendingLanes;if(m===0)return 0;var _=0,C=o.suspendedLanes,B=o.pingedLanes,N=m&268435455;if(N!==0){var X=N&~C;X!==0?_=ro(X):(B&=N,B!==0&&(_=ro(B)))}else N=m&~C,N!==0?_=ro(N):B!==0&&(_=ro(B));if(_===0)return 0;if(u!==0&&u!==_&&(u&C)===0&&(C=_&-_,B=u&-u,C>=B||C===16&&(B&4194240)!==0))return u;if((_&4)!==0&&(_|=m&16),u=o.entangledLanes,u!==0)for(o=o.entanglements,u&=_;0<u;)m=31-Rn(u),C=1<<m,_|=o[m],u&=~C;return _}function kp(o,u){switch(o){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mc(o,u){for(var m=o.suspendedLanes,_=o.pingedLanes,C=o.expirationTimes,B=o.pendingLanes;0<B;){var N=31-Rn(B),X=1<<N,ee=C[N];ee===-1?((X&m)===0||(X&_)!==0)&&(C[N]=kp(X,u)):ee<=u&&(o.expiredLanes|=X),B&=~X}}function gc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function xr(){var o=vr;return vr<<=1,(vr&4194240)===0&&(vr=64),o}function xh(o){for(var u=[],m=0;31>m;m++)u.push(o);return u}function zl(o,u,m){o.pendingLanes|=u,u!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,u=31-Rn(u),o[u]=m}function B0(o,u){var m=o.pendingLanes&~u;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=u,o.mutableReadLanes&=u,o.entangledLanes&=u,u=o.entanglements;var _=o.eventTimes;for(o=o.expirationTimes;0<m;){var C=31-Rn(m),B=1<<C;u[C]=0,_[C]=-1,o[C]=-1,m&=~B}}function Pa(o,u){var m=o.entangledLanes|=u;for(o=o.entanglements;m;){var _=31-Rn(m),C=1<<_;C&u|o[_]&u&&(o[_]|=u),m&=~C}}var nn=0;function Ba(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Gl,_h,Op,yc,vc,Ro=!1,xc=[],ts=null,Ht=null,Ms=null,Lo=new Map,Ra=new Map,so=[],R0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xn(o,u){switch(o){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":Ht=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":Lo.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ra.delete(u.pointerId)}}function Io(o,u,m,_,C,B){return o===null||o.nativeEvent!==B?(o={blockedOn:u,domEventName:m,eventSystemFlags:_,nativeEvent:B,targetContainers:[C]},u!==null&&(u=Ls(u),u!==null&&_h(u)),o):(o.eventSystemFlags|=_,u=o.targetContainers,C!==null&&u.indexOf(C)===-1&&u.push(C),o)}function L0(o,u,m,_,C){switch(u){case"focusin":return ts=Io(ts,o,u,m,_,C),!0;case"dragenter":return Ht=Io(Ht,o,u,m,_,C),!0;case"mouseover":return Ms=Io(Ms,o,u,m,_,C),!0;case"pointerover":var B=C.pointerId;return Lo.set(B,Io(Lo.get(B)||null,o,u,m,_,C)),!0;case"gotpointercapture":return B=C.pointerId,Ra.set(B,Io(Ra.get(B)||null,o,u,m,_,C)),!0}return!1}function _c(o){var u=ho(o.target);if(u!==null){var m=Mt(u);if(m!==null){if(u=m.tag,u===13){if(u=Ft(m),u!==null){o.blockedOn=u,vc(o.priority,function(){Op(m)});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ac(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var m=Ar(o.domEventName,o.eventSystemFlags,u[0],o.nativeEvent);if(m===null){m=o.nativeEvent;var _=new m.constructor(m.type,m);nt=_,m.target.dispatchEvent(_),nt=null}else return u=Ls(m),u!==null&&_h(u),o.blockedOn=m,!1;u.shift()}return!0}function Hl(o,u,m){Ac(o)&&m.delete(u)}function ns(){Ro=!1,ts!==null&&Ac(ts)&&(ts=null),Ht!==null&&Ac(Ht)&&(Ht=null),Ms!==null&&Ac(Ms)&&(Ms=null),Lo.forEach(Hl),Ra.forEach(Hl)}function Vl(o,u){o.blockedOn===u&&(o.blockedOn=null,Ro||(Ro=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ns)))}function Wl(o){function u(C){return Vl(C,o)}if(0<xc.length){Vl(xc[0],o);for(var m=1;m<xc.length;m++){var _=xc[m];_.blockedOn===o&&(_.blockedOn=null)}}for(ts!==null&&Vl(ts,o),Ht!==null&&Vl(Ht,o),Ms!==null&&Vl(Ms,o),Lo.forEach(u),Ra.forEach(u),m=0;m<so.length;m++)_=so[m],_.blockedOn===o&&(_.blockedOn=null);for(;0<so.length&&(m=so[0],m.blockedOn===null);)_c(m),m.blockedOn===null&&so.shift()}var Bi=R.ReactCurrentBatchConfig,_r=!0;function wc(o,u,m,_){var C=nn,B=Bi.transition;Bi.transition=null;try{nn=1,Sc(o,u,m,_)}finally{nn=C,Bi.transition=B}}function Ah(o,u,m,_){var C=nn,B=Bi.transition;Bi.transition=null;try{nn=4,Sc(o,u,m,_)}finally{nn=C,Bi.transition=B}}function Sc(o,u,m,_){if(_r){var C=Ar(o,u,m,_);if(C===null)Vc(o,u,_,Mc,m),Xn(o,_);else if(L0(C,o,u,m,_))_.stopPropagation();else if(Xn(o,_),u&4&&-1<R0.indexOf(o)){for(;C!==null;){var B=Ls(C);if(B!==null&&Gl(B),B=Ar(o,u,m,_),B===null&&Vc(o,u,_,Mc,m),B===C)break;C=B}C!==null&&_.stopPropagation()}else Vc(o,u,_,null,m)}}var Mc=null;function Ar(o,u,m,_){if(Mc=null,o=q(_),o=ho(o),o!==null)if(u=Mt(o),u===null)o=null;else if(m=u.tag,m===13){if(o=Ft(u),o!==null)return o;o=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null);return Mc=o,null}function Up(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zt()){case ws:return 1;case Tn:return 4;case yr:case ba:return 16;case tr:return 536870912;default:return 16}default:return 16}}var Ur=null,wh=null,Wi=null;function jl(){if(Wi)return Wi;var o,u=wh,m=u.length,_,C="value"in Ur?Ur.value:Ur.textContent,B=C.length;for(o=0;o<m&&u[o]===C[o];o++);var N=m-o;for(_=1;_<=N&&u[m-_]===C[B-_];_++);return Wi=C.slice(o,1<_?1-_:void 0)}function Do(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function Cs(){return!0}function Cc(){return!1}function Ri(o){function u(m,_,C,B,N){this._reactName=m,this._targetInst=C,this.type=_,this.nativeEvent=B,this.target=N,this.currentTarget=null;for(var X in o)o.hasOwnProperty(X)&&(m=o[X],this[X]=m?m(B):B[X]);return this.isDefaultPrevented=(B.defaultPrevented!=null?B.defaultPrevented:B.returnValue===!1)?Cs:Cc,this.isPropagationStopped=Cc,this}return k(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),u}var Fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jl=Ri(Fo),No=k({},Fo,{view:0,detail:0}),La=Ri(No),ji,wr,Sr,Ia=k({},No,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ao,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Sr&&(Sr&&o.type==="mousemove"?(ji=o.screenX-Sr.screenX,wr=o.screenY-Sr.screenY):wr=ji=0,Sr=o),ji)},movementY:function(o){return"movementY"in o?o.movementY:wr}}),Sh=Ri(Ia),Es=k({},Ia,{dataTransfer:0}),oo=Ri(Es),Ec=k({},No,{relatedTarget:0}),Tc=Ri(Ec),bc=k({},Fo,{animationName:0,elapsedTime:0,pseudoElement:0}),zp=Ri(bc),Gp=k({},Fo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Mh=Ri(Gp),Pc=k({},Fo,{data:0}),Ch=Ri(Pc),Hp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Da(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=Eh[o])?!!u[o]:!1}function ao(){return Da}var Bc=k({},No,{key:function(o){if(o.key){var u=Hp[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Do(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Vp[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ao,charCode:function(o){return o.type==="keypress"?Do(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Do(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Rc=Ri(Bc),Mr=k({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nr=Ri(Mr),ko=k({},No,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ao}),Ts=Ri(ko),bs=k({},Fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oo=Ri(bs),Wp=k({},Ia,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Th=Ri(Wp),bh=[9,13,27,32],Li=l&&"CompositionEvent"in window,di=null;l&&"documentMode"in document&&(di=document.documentMode);var An=l&&"TextEvent"in window&&!di,Fa=l&&(!Li||di&&8<di&&11>=di),Cr=" ",Ph=!1;function Bh(o,u){switch(o){case"keyup":return bh.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lc(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var lo=!1;function jp(o,u){switch(o){case"compositionend":return Lc(u);case"keypress":return u.which!==32?null:(Ph=!0,Cr);case"textInput":return o=u.data,o===Cr&&Ph?null:o;default:return null}}function Xl(o,u){if(lo)return o==="compositionend"||!Li&&Bh(o,u)?(o=jl(),Wi=wh=Ur=null,lo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Fa&&u.locale!=="ko"?null:u.data;default:return null}}var Na={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ic(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!Na[o.type]:u==="textarea"}function ka(o,u,m,_){jt(_),u=Wc(u,"onChange"),0<u.length&&(m=new Jl("onChange","change",null,m,_),o.push({event:m,listeners:u}))}var uo=null,Oa=null;function Jp(o){Ha(o,0)}function Ps(o){var u=Fn(o);if(Ee(u))return o}function Xp(o,u){if(o==="change")return u}var Ua=!1;if(l){var Ji;if(l){var Uo="oninput"in document;if(!Uo){var zo=document.createElement("div");zo.setAttribute("oninput","return;"),Uo=typeof zo.oninput=="function"}Ji=Uo}else Ji=!1;Ua=Ji&&(!document.documentMode||9<document.documentMode)}function zr(){uo&&(uo.detachEvent("onpropertychange",Dc),Oa=uo=null)}function Dc(o){if(o.propertyName==="value"&&Ps(Oa)){var u=[];ka(u,Oa,o,q(o)),Jn(Jp,u)}}function za(o,u,m){o==="focusin"?(zr(),uo=u,Oa=m,uo.attachEvent("onpropertychange",Dc)):o==="focusout"&&zr()}function Kp(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ps(Oa)}function Rh(o,u){if(o==="click")return Ps(u)}function bn(o,u){if(o==="input"||o==="change")return Ps(u)}function Fc(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var ir=typeof Object.is=="function"?Object.is:Fc;function Go(o,u){if(ir(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var m=Object.keys(o),_=Object.keys(u);if(m.length!==_.length)return!1;for(_=0;_<m.length;_++){var C=m[_];if(!f.call(u,C)||!ir(o[C],u[C]))return!1}return!0}function Kl(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function rr(o,u){var m=Kl(o);o=0;for(var _;m;){if(m.nodeType===3){if(_=o+m.textContent.length,o<=u&&_>=u)return{node:m,offset:u-o};o=_}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Kl(m)}}function Ho(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?Ho(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function Pn(){for(var o=window,u=we();u instanceof o.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)o=u.contentWindow;else break;u=we(o.document)}return u}function ei(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}function ti(o){var u=Pn(),m=o.focusedElem,_=o.selectionRange;if(u!==m&&m&&m.ownerDocument&&Ho(m.ownerDocument.documentElement,m)){if(_!==null&&ei(m)){if(u=_.start,o=_.end,o===void 0&&(o=u),"selectionStart"in m)m.selectionStart=u,m.selectionEnd=Math.min(o,m.value.length);else if(o=(u=m.ownerDocument||document)&&u.defaultView||window,o.getSelection){o=o.getSelection();var C=m.textContent.length,B=Math.min(_.start,C);_=_.end===void 0?B:Math.min(_.end,C),!o.extend&&B>_&&(C=_,_=B,B=C),C=rr(m,B);var N=rr(m,_);C&&N&&(o.rangeCount!==1||o.anchorNode!==C.node||o.anchorOffset!==C.offset||o.focusNode!==N.node||o.focusOffset!==N.offset)&&(u=u.createRange(),u.setStart(C.node,C.offset),o.removeAllRanges(),B>_?(o.addRange(u),o.extend(N.node,N.offset)):(u.setEnd(N.node,N.offset),o.addRange(u)))}}for(u=[],o=m;o=o.parentNode;)o.nodeType===1&&u.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<u.length;m++)o=u[m],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Nc=l&&"documentMode"in document&&11>=document.documentMode,is=null,Vo=null,Yl=null,ni=!1;function kc(o,u,m){var _=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;ni||is==null||is!==we(_)||(_=is,"selectionStart"in _&&ei(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Yl&&Go(Yl,_)||(Yl=_,_=Wc(Vo,"onSelect"),0<_.length&&(u=new Jl("onSelect","select",null,u,m),o.push({event:u,listeners:_}),u.target=is)))}function Ga(o,u){var m={};return m[o.toLowerCase()]=u.toLowerCase(),m["Webkit"+o]="webkit"+u,m["Moz"+o]="moz"+u,m}var co={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionend:Ga("Transition","TransitionEnd")},Gr={},Hr={};l&&(Hr=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function rs(o){if(Gr[o])return Gr[o];if(!co[o])return o;var u=co[o],m;for(m in u)if(u.hasOwnProperty(m)&&m in Hr)return Gr[o]=u[m];return o}var Ql=rs("animationend"),ql=rs("animationiteration"),Lh=rs("animationstart"),Ih=rs("transitionend"),Dh=new Map,Fh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bs(o,u){Dh.set(o,u),s(u,[o])}for(var Oc=0;Oc<Fh.length;Oc++){var Zl=Fh[Oc],$l=Zl.toLowerCase(),Yp=Zl[0].toUpperCase()+Zl.slice(1);Bs($l,"on"+Yp)}Bs(Ql,"onAnimationEnd"),Bs(ql,"onAnimationIteration"),Bs(Lh,"onAnimationStart"),Bs("dblclick","onDoubleClick"),Bs("focusin","onFocus"),Bs("focusout","onBlur"),Bs(Ih,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uc=new Set("cancel close invalid load scroll toggle".split(" ").concat(fo));function zc(o,u,m){var _=o.type||"unknown-event";o.currentTarget=m,At(_,u,void 0,o),o.currentTarget=null}function Ha(o,u){u=(u&4)!==0;for(var m=0;m<o.length;m++){var _=o[m],C=_.event;_=_.listeners;e:{var B=void 0;if(u)for(var N=_.length-1;0<=N;N--){var X=_[N],ee=X.instance,Ae=X.currentTarget;if(X=X.listener,ee!==B&&C.isPropagationStopped())break e;zc(C,X,Ae),B=ee}else for(N=0;N<_.length;N++){if(X=_[N],ee=X.instance,Ae=X.currentTarget,X=X.listener,ee!==B&&C.isPropagationStopped())break e;zc(C,X,Ae),B=ee}}}if(pe)throw o=Te,pe=!1,Te=null,o}function mn(o,u){var m=u[Jo];m===void 0&&(m=u[Jo]=new Set);var _=o+"__bubble";m.has(_)||(Hc(u,o,2,!1),m.add(_))}function Gc(o,u,m){var _=0;u&&(_|=4),Hc(m,o,_,u)}var eu="_reactListening"+Math.random().toString(36).slice(2);function Va(o){if(!o[eu]){o[eu]=!0,n.forEach(function(m){m!=="selectionchange"&&(Uc.has(m)||Gc(m,!1,o),Gc(m,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[eu]||(u[eu]=!0,Gc("selectionchange",!1,u))}}function Hc(o,u,m,_){switch(Up(u)){case 1:var C=wc;break;case 4:C=Ah;break;default:C=Sc}m=C.bind(null,u,m,o),C=void 0,!Ta||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(C=!0),_?C!==void 0?o.addEventListener(u,m,{capture:!0,passive:C}):o.addEventListener(u,m,!0):C!==void 0?o.addEventListener(u,m,{passive:C}):o.addEventListener(u,m,!1)}function Vc(o,u,m,_,C){var B=_;if((u&1)===0&&(u&2)===0&&_!==null)e:for(;;){if(_===null)return;var N=_.tag;if(N===3||N===4){var X=_.stateNode.containerInfo;if(X===C||X.nodeType===8&&X.parentNode===C)break;if(N===4)for(N=_.return;N!==null;){var ee=N.tag;if((ee===3||ee===4)&&(ee=N.stateNode.containerInfo,ee===C||ee.nodeType===8&&ee.parentNode===C))return;N=N.return}for(;X!==null;){if(N=ho(X),N===null)return;if(ee=N.tag,ee===5||ee===6){_=B=N;continue e}X=X.parentNode}}_=_.return}Jn(function(){var Ae=B,Fe=q(m),Ue=[];e:{var De=Dh.get(o);if(De!==void 0){var it=Jl,ut=o;switch(o){case"keypress":if(Do(m)===0)break e;case"keydown":case"keyup":it=Rc;break;case"focusin":ut="focus",it=Tc;break;case"focusout":ut="blur",it=Tc;break;case"beforeblur":case"afterblur":it=Tc;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=Sh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=oo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=Ts;break;case Ql:case ql:case Lh:it=zp;break;case Ih:it=Oo;break;case"scroll":it=La;break;case"wheel":it=Th;break;case"copy":case"cut":case"paste":it=Mh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=nr}var ht=(u&4)!==0,Qn=!ht&&o==="scroll",fe=ht?De!==null?De+"Capture":null:De;ht=[];for(var se=Ae,me;se!==null;){me=se;var We=me.stateNode;if(me.tag===5&&We!==null&&(me=We,fe!==null&&(We=Cn(se,fe),We!=null&&ht.push(Wa(se,We,me)))),Qn)break;se=se.return}0<ht.length&&(De=new it(De,ut,null,m,Fe),Ue.push({event:De,listeners:ht}))}}if((u&7)===0){e:{if(De=o==="mouseover"||o==="pointerover",it=o==="mouseout"||o==="pointerout",De&&m!==nt&&(ut=m.relatedTarget||m.fromElement)&&(ho(ut)||ut[sr]))break e;if((it||De)&&(De=Fe.window===Fe?Fe:(De=Fe.ownerDocument)?De.defaultView||De.parentWindow:window,it?(ut=m.relatedTarget||m.toElement,it=Ae,ut=ut?ho(ut):null,ut!==null&&(Qn=Mt(ut),ut!==Qn||ut.tag!==5&&ut.tag!==6)&&(ut=null)):(it=null,ut=Ae),it!==ut)){if(ht=Sh,We="onMouseLeave",fe="onMouseEnter",se="mouse",(o==="pointerout"||o==="pointerover")&&(ht=nr,We="onPointerLeave",fe="onPointerEnter",se="pointer"),Qn=it==null?De:Fn(it),me=ut==null?De:Fn(ut),De=new ht(We,se+"leave",it,m,Fe),De.target=Qn,De.relatedTarget=me,We=null,ho(Fe)===Ae&&(ht=new ht(fe,se+"enter",ut,m,Fe),ht.target=me,ht.relatedTarget=Qn,We=ht),Qn=We,it&&ut)t:{for(ht=it,fe=ut,se=0,me=ht;me;me=Wo(me))se++;for(me=0,We=fe;We;We=Wo(We))me++;for(;0<se-me;)ht=Wo(ht),se--;for(;0<me-se;)fe=Wo(fe),me--;for(;se--;){if(ht===fe||fe!==null&&ht===fe.alternate)break t;ht=Wo(ht),fe=Wo(fe)}ht=null}else ht=null;it!==null&&Qp(Ue,De,it,ht,!1),ut!==null&&Qn!==null&&Qp(Ue,Qn,ut,ht,!0)}}e:{if(De=Ae?Fn(Ae):window,it=De.nodeName&&De.nodeName.toLowerCase(),it==="select"||it==="input"&&De.type==="file")var vt=Xp;else if(Ic(De))if(Ua)vt=bn;else{vt=Kp;var Et=za}else(it=De.nodeName)&&it.toLowerCase()==="input"&&(De.type==="checkbox"||De.type==="radio")&&(vt=Rh);if(vt&&(vt=vt(o,Ae))){ka(Ue,vt,m,Fe);break e}Et&&Et(o,De,Ae),o==="focusout"&&(Et=De._wrapperState)&&Et.controlled&&De.type==="number"&&at(De,"number",De.value)}switch(Et=Ae?Fn(Ae):window,o){case"focusin":(Ic(Et)||Et.contentEditable==="true")&&(is=Et,Vo=Ae,Yl=null);break;case"focusout":Yl=Vo=is=null;break;case"mousedown":ni=!0;break;case"contextmenu":case"mouseup":case"dragend":ni=!1,kc(Ue,m,Fe);break;case"selectionchange":if(Nc)break;case"keydown":case"keyup":kc(Ue,m,Fe)}var Tt;if(Li)e:{switch(o){case"compositionstart":var Rt="onCompositionStart";break e;case"compositionend":Rt="onCompositionEnd";break e;case"compositionupdate":Rt="onCompositionUpdate";break e}Rt=void 0}else lo?Bh(o,m)&&(Rt="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(Rt="onCompositionStart");Rt&&(Fa&&m.locale!=="ko"&&(lo||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&lo&&(Tt=jl()):(Ur=Fe,wh="value"in Ur?Ur.value:Ur.textContent,lo=!0)),Et=Wc(Ae,Rt),0<Et.length&&(Rt=new Ch(Rt,o,null,m,Fe),Ue.push({event:Rt,listeners:Et}),Tt?Rt.data=Tt:(Tt=Lc(m),Tt!==null&&(Rt.data=Tt)))),(Tt=An?jp(o,m):Xl(o,m))&&(Ae=Wc(Ae,"onBeforeInput"),0<Ae.length&&(Fe=new Ch("onBeforeInput","beforeinput",null,m,Fe),Ue.push({event:Fe,listeners:Ae}),Fe.data=Tt))}Ha(Ue,u)})}function Wa(o,u,m){return{instance:o,listener:u,currentTarget:m}}function Wc(o,u){for(var m=u+"Capture",_=[];o!==null;){var C=o,B=C.stateNode;C.tag===5&&B!==null&&(C=B,B=Cn(o,m),B!=null&&_.unshift(Wa(o,B,C)),B=Cn(o,u),B!=null&&_.push(Wa(o,B,C))),o=o.return}return _}function Wo(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Qp(o,u,m,_,C){for(var B=u._reactName,N=[];m!==null&&m!==_;){var X=m,ee=X.alternate,Ae=X.stateNode;if(ee!==null&&ee===_)break;X.tag===5&&Ae!==null&&(X=Ae,C?(ee=Cn(m,B),ee!=null&&N.unshift(Wa(m,ee,X))):C||(ee=Cn(m,B),ee!=null&&N.push(Wa(m,ee,X)))),m=m.return}N.length!==0&&o.push({event:u,listeners:N})}var I0=/\r\n?/g,qp=/\u0000|\uFFFD/g;function Nh(o){return(typeof o=="string"?o:""+o).replace(I0,`
`).replace(qp,"")}function tu(o,u,m){if(u=Nh(u),Nh(o)!==u&&m)throw Error(t(425))}function nu(){}var ja=null,kh=null;function Oh(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Uh=typeof setTimeout=="function"?setTimeout:void 0,zh=typeof clearTimeout=="function"?clearTimeout:void 0,jc=typeof Promise=="function"?Promise:void 0,D0=typeof queueMicrotask=="function"?queueMicrotask:typeof jc<"u"?function(o){return jc.resolve(null).then(o).catch(Zp)}:Uh;function Zp(o){setTimeout(function(){throw o})}function Jc(o,u){var m=u,_=0;do{var C=m.nextSibling;if(o.removeChild(m),C&&C.nodeType===8)if(m=C.data,m==="/$"){if(_===0){o.removeChild(C),Wl(u);return}_--}else m!=="$"&&m!=="$?"&&m!=="$!"||_++;m=C}while(m);Wl(u)}function Rs(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return o}function Gh(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return o;u--}else m==="/$"&&u++}o=o.previousSibling}return null}var jo=Math.random().toString(36).slice(2),Kn="__reactFiber$"+jo,Ja="__reactProps$"+jo,sr="__reactContainer$"+jo,Jo="__reactEvents$"+jo,Xc="__reactListeners$"+jo,Kc="__reactHandles$"+jo;function ho(o){var u=o[Kn];if(u)return u;for(var m=o.parentNode;m;){if(u=m[sr]||m[Kn]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(o=Gh(o);o!==null;){if(m=o[Kn])return m;o=Gh(o)}return u}o=m,m=o.parentNode}return null}function Ls(o){return o=o[Kn]||o[sr],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Fn(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function Yc(o){return o[Ja]||null}var Hh=[],ii=-1;function Ln(o){return{current:o}}function gn(o){0>ii||(o.current=Hh[ii],Hh[ii]=null,ii--)}function hn(o,u){ii++,Hh[ii]=o.current,o.current=u}var Is={},pi=Ln(Is),Ii=Ln(!1),Ds=Is;function Xo(o,u){var m=o.type.contextTypes;if(!m)return Is;var _=o.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===u)return _.__reactInternalMemoizedMaskedChildContext;var C={},B;for(B in m)C[B]=u[B];return _&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=u,o.__reactInternalMemoizedMaskedChildContext=C),C}function wi(o){return o=o.childContextTypes,o!=null}function iu(){gn(Ii),gn(pi)}function Vh(o,u,m){if(pi.current!==Is)throw Error(t(168));hn(pi,u),hn(Ii,m)}function ru(o,u,m){var _=o.stateNode;if(u=u.childContextTypes,typeof _.getChildContext!="function")return m;_=_.getChildContext();for(var C in _)if(!(C in u))throw Error(t(108,Ge(o)||"Unknown",C));return k({},m,_)}function Ko(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Is,Ds=pi.current,hn(pi,o),hn(Ii,Ii.current),!0}function Wh(o,u,m){var _=o.stateNode;if(!_)throw Error(t(169));m?(o=ru(o,u,Ds),_.__reactInternalMemoizedMergedChildContext=o,gn(Ii),gn(pi),hn(pi,o)):gn(Ii),hn(Ii,m)}var Vr=null,su=!1,Qc=!1;function ou(o){Vr===null?Vr=[o]:Vr.push(o)}function $p(o){su=!0,ou(o)}function ss(){if(!Qc&&Vr!==null){Qc=!0;var o=0,u=nn;try{var m=Vr;for(nn=1;o<m.length;o++){var _=m[o];do _=_(!0);while(_!==null)}Vr=null,su=!1}catch(C){throw Vr!==null&&(Vr=Vr.slice(o+1)),En(ws,ss),C}finally{nn=u,Qc=!1}}return null}var Yo=[],Xi=0,qc=null,Zc=0,Di=[],ri=0,Qo=null,Xe=1,Er="";function Fs(o,u){Yo[Xi++]=Zc,Yo[Xi++]=qc,qc=o,Zc=u}function jh(o,u,m){Di[ri++]=Xe,Di[ri++]=Er,Di[ri++]=Qo,Qo=o;var _=Xe;o=Er;var C=32-Rn(_)-1;_&=~(1<<C),m+=1;var B=32-Rn(u)+C;if(30<B){var N=C-C%5;B=(_&(1<<N)-1).toString(32),_>>=N,C-=N,Xe=1<<32-Rn(u)+C|m<<C|_,Er=B+o}else Xe=1<<B|m<<C|_,Er=o}function Jh(o){o.return!==null&&(Fs(o,1),jh(o,1,0))}function Ns(o){for(;o===qc;)qc=Yo[--Xi],Yo[Xi]=null,Zc=Yo[--Xi],Yo[Xi]=null;for(;o===Qo;)Qo=Di[--ri],Di[ri]=null,Er=Di[--ri],Di[ri]=null,Xe=Di[--ri],Di[ri]=null}var mi=null,Fi=null,vn=!1,Tr=null;function Xh(o,u){var m=fs(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=o,u=o.deletions,u===null?(o.deletions=[m],o.flags|=16):u.push(m)}function Kh(o,u){switch(o.tag){case 5:var m=o.type;return u=u.nodeType!==1||m.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(o.stateNode=u,mi=o,Fi=Rs(u.firstChild),!0):!1;case 6:return u=o.pendingProps===""||u.nodeType!==3?null:u,u!==null?(o.stateNode=u,mi=o,Fi=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(m=Qo!==null?{id:Xe,overflow:Er}:null,o.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},m=fs(18,null,null,0),m.stateNode=u,m.return=o,o.child=m,mi=o,Fi=null,!0):!1;default:return!1}}function $c(o){return(o.mode&1)!==0&&(o.flags&128)===0}function ef(o){if(vn){var u=Fi;if(u){var m=u;if(!Kh(o,u)){if($c(o))throw Error(t(418));u=Rs(m.nextSibling);var _=mi;u&&Kh(o,u)?Xh(_,m):(o.flags=o.flags&-4097|2,vn=!1,mi=o)}}else{if($c(o))throw Error(t(418));o.flags=o.flags&-4097|2,vn=!1,mi=o}}}function tf(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;mi=o}function Xa(o){if(o!==mi)return!1;if(!vn)return tf(o),vn=!0,!1;var u;if((u=o.tag!==3)&&!(u=o.tag!==5)&&(u=o.type,u=u!=="head"&&u!=="body"&&!Oh(o.type,o.memoizedProps)),u&&(u=Fi)){if($c(o))throw Yh(),Error(t(418));for(;u;)Xh(o,u),u=Rs(u.nextSibling)}if(tf(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8){var m=o.data;if(m==="/$"){if(u===0){Fi=Rs(o.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++}o=o.nextSibling}Fi=null}}else Fi=mi?Rs(o.stateNode.nextSibling):null;return!0}function Yh(){for(var o=Fi;o;)o=Rs(o.nextSibling)}function po(){Fi=mi=null,vn=!1}function Ka(o){Tr===null?Tr=[o]:Tr.push(o)}var F0=R.ReactCurrentBatchConfig;function Wr(o,u){if(o&&o.defaultProps){u=k({},u),o=o.defaultProps;for(var m in o)u[m]===void 0&&(u[m]=o[m]);return u}return u}var au=Ln(null),lu=null,qo=null,nf=null;function Ya(){nf=qo=lu=null}function Qa(o){var u=au.current;gn(au),o._currentValue=u}function qa(o,u,m){for(;o!==null;){var _=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,_!==null&&(_.childLanes|=u)):_!==null&&(_.childLanes&u)!==u&&(_.childLanes|=u),o===m)break;o=o.return}}function ks(o,u){lu=o,nf=qo=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&u)!==0&&(tt=!0),o.firstContext=null)}function Ni(o){var u=o._currentValue;if(nf!==o)if(o={context:o,memoizedValue:u,next:null},qo===null){if(lu===null)throw Error(t(308));qo=o,lu.dependencies={lanes:0,firstContext:o}}else qo=qo.next=o;return u}var jr=null;function uu(o){jr===null?jr=[o]:jr.push(o)}function rf(o,u,m,_){var C=u.interleaved;return C===null?(m.next=m,uu(u)):(m.next=C.next,C.next=m),u.interleaved=m,Jr(o,_)}function Jr(o,u){o.lanes|=u;var m=o.alternate;for(m!==null&&(m.lanes|=u),m=o,o=o.return;o!==null;)o.childLanes|=u,m=o.alternate,m!==null&&(m.childLanes|=u),m=o,o=o.return;return m.tag===3?m.stateNode:null}var Os=!1;function cu(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function em(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function br(o,u){return{eventTime:o,lane:u,tag:0,payload:null,callback:null,next:null}}function os(o,u,m){var _=o.updateQueue;if(_===null)return null;if(_=_.shared,(on&2)!==0){var C=_.pending;return C===null?u.next=u:(u.next=C.next,C.next=u),_.pending=u,Jr(o,m)}return C=_.interleaved,C===null?(u.next=u,uu(_)):(u.next=C.next,C.next=u),_.interleaved=u,Jr(o,m)}function wn(o,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194240)!==0)){var _=u.lanes;_&=o.pendingLanes,m|=_,u.lanes=m,Pa(o,m)}}function Gt(o,u){var m=o.updateQueue,_=o.alternate;if(_!==null&&(_=_.updateQueue,m===_)){var C=null,B=null;if(m=m.firstBaseUpdate,m!==null){do{var N={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};B===null?C=B=N:B=B.next=N,m=m.next}while(m!==null);B===null?C=B=u:B=B.next=u}else C=B=u;m={baseState:_.baseState,firstBaseUpdate:C,lastBaseUpdate:B,shared:_.shared,effects:_.effects},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=u:o.next=u,m.lastBaseUpdate=u}function Bn(o,u,m,_){var C=o.updateQueue;Os=!1;var B=C.firstBaseUpdate,N=C.lastBaseUpdate,X=C.shared.pending;if(X!==null){C.shared.pending=null;var ee=X,Ae=ee.next;ee.next=null,N===null?B=Ae:N.next=Ae,N=ee;var Fe=o.alternate;Fe!==null&&(Fe=Fe.updateQueue,X=Fe.lastBaseUpdate,X!==N&&(X===null?Fe.firstBaseUpdate=Ae:X.next=Ae,Fe.lastBaseUpdate=ee))}if(B!==null){var Ue=C.baseState;N=0,Fe=Ae=ee=null,X=B;do{var De=X.lane,it=X.eventTime;if((_&De)===De){Fe!==null&&(Fe=Fe.next={eventTime:it,lane:0,tag:X.tag,payload:X.payload,callback:X.callback,next:null});e:{var ut=o,ht=X;switch(De=u,it=m,ht.tag){case 1:if(ut=ht.payload,typeof ut=="function"){Ue=ut.call(it,Ue,De);break e}Ue=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=ht.payload,De=typeof ut=="function"?ut.call(it,Ue,De):ut,De==null)break e;Ue=k({},Ue,De);break e;case 2:Os=!0}}X.callback!==null&&X.lane!==0&&(o.flags|=64,De=C.effects,De===null?C.effects=[X]:De.push(X))}else it={eventTime:it,lane:De,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Fe===null?(Ae=Fe=it,ee=Ue):Fe=Fe.next=it,N|=De;if(X=X.next,X===null){if(X=C.shared.pending,X===null)break;De=X,X=De.next,De.next=null,C.lastBaseUpdate=De,C.shared.pending=null}}while(!0);if(Fe===null&&(ee=Ue),C.baseState=ee,C.firstBaseUpdate=Ae,C.lastBaseUpdate=Fe,u=C.shared.interleaved,u!==null){C=u;do N|=C.lane,C=C.next;while(C!==u)}else B===null&&(C.shared.lanes=0);yu|=N,o.lanes=N,o.memoizedState=Ue}}function Nn(o,u,m){if(o=u.effects,u.effects=null,o!==null)for(u=0;u<o.length;u++){var _=o[u],C=_.callback;if(C!==null){if(_.callback=null,_=m,typeof C!="function")throw Error(t(191,C));C.call(_)}}}var si=new i.Component().refs;function ki(o,u,m,_){u=o.memoizedState,m=m(_,u),m=m==null?u:k({},u,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var Us={isMounted:function(o){return(o=o._reactInternals)?Mt(o)===o:!1},enqueueSetState:function(o,u,m){o=o._reactInternals;var _=ur(),C=ll(o),B=br(_,C);B.payload=u,m!=null&&(B.callback=m),u=os(o,B,C),u!==null&&(Vs(u,o,C,_),wn(u,o,C))},enqueueReplaceState:function(o,u,m){o=o._reactInternals;var _=ur(),C=ll(o),B=br(_,C);B.tag=1,B.payload=u,m!=null&&(B.callback=m),u=os(o,B,C),u!==null&&(Vs(u,o,C,_),wn(u,o,C))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var m=ur(),_=ll(o),C=br(m,_);C.tag=2,u!=null&&(C.callback=u),u=os(o,C,_),u!==null&&(Vs(u,o,_,m),wn(u,o,_))}};function Hn(o,u,m,_,C,B,N){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(_,B,N):u.prototype&&u.prototype.isPureReactComponent?!Go(m,_)||!Go(C,B):!0}function Za(o,u,m){var _=!1,C=Is,B=u.contextType;return typeof B=="object"&&B!==null?B=Ni(B):(C=wi(u)?Ds:pi.current,_=u.contextTypes,B=(_=_!=null)?Xo(o,C):Is),u=new u(m,B),o.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Us,o.stateNode=u,u._reactInternals=o,_&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=C,o.__reactInternalMemoizedMaskedChildContext=B),u}function Zo(o,u,m,_){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,_),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,_),u.state!==o&&Us.enqueueReplaceState(u,u.state,null)}function $a(o,u,m,_){var C=o.stateNode;C.props=m,C.state=o.memoizedState,C.refs=si,cu(o);var B=u.contextType;typeof B=="object"&&B!==null?C.context=Ni(B):(B=wi(u)?Ds:pi.current,C.context=Xo(o,B)),C.state=o.memoizedState,B=u.getDerivedStateFromProps,typeof B=="function"&&(ki(o,u,B,m),C.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(u=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),u!==C.state&&Us.enqueueReplaceState(C,C.state,null),Bn(o,m,C,_),C.state=o.memoizedState),typeof C.componentDidMount=="function"&&(o.flags|=4194308)}function $o(o,u,m){if(o=m.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(t(309));var _=m.stateNode}if(!_)throw Error(t(147,o));var C=_,B=""+o;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===B?u.ref:(u=function(N){var X=C.refs;X===si&&(X=C.refs={}),N===null?delete X[B]:X[B]=N},u._stringRef=B,u)}if(typeof o!="string")throw Error(t(284));if(!m._owner)throw Error(t(290,o))}return o}function mo(o,u){throw o=Object.prototype.toString.call(u),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o))}function Oi(o){var u=o._init;return u(o._payload)}function sf(o){function u(fe,se){if(o){var me=fe.deletions;me===null?(fe.deletions=[se],fe.flags|=16):me.push(se)}}function m(fe,se){if(!o)return null;for(;se!==null;)u(fe,se),se=se.sibling;return null}function _(fe,se){for(fe=new Map;se!==null;)se.key!==null?fe.set(se.key,se):fe.set(se.index,se),se=se.sibling;return fe}function C(fe,se){return fe=cl(fe,se),fe.index=0,fe.sibling=null,fe}function B(fe,se,me){return fe.index=me,o?(me=fe.alternate,me!==null?(me=me.index,me<se?(fe.flags|=2,se):me):(fe.flags|=2,se)):(fe.flags|=1048576,se)}function N(fe){return o&&fe.alternate===null&&(fe.flags|=2),fe}function X(fe,se,me,We){return se===null||se.tag!==6?(se=ey(me,fe.mode,We),se.return=fe,se):(se=C(se,me),se.return=fe,se)}function ee(fe,se,me,We){var vt=me.type;return vt===z?Fe(fe,se,me.props.children,We,me.key):se!==null&&(se.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===ge&&Oi(vt)===se.type)?(We=C(se,me.props),We.ref=$o(fe,se,me),We.return=fe,We):(We=Mm(me.type,me.key,me.props,null,fe.mode,We),We.ref=$o(fe,se,me),We.return=fe,We)}function Ae(fe,se,me,We){return se===null||se.tag!==4||se.stateNode.containerInfo!==me.containerInfo||se.stateNode.implementation!==me.implementation?(se=ty(me,fe.mode,We),se.return=fe,se):(se=C(se,me.children||[]),se.return=fe,se)}function Fe(fe,se,me,We,vt){return se===null||se.tag!==7?(se=Au(me,fe.mode,We,vt),se.return=fe,se):(se=C(se,me),se.return=fe,se)}function Ue(fe,se,me){if(typeof se=="string"&&se!==""||typeof se=="number")return se=ey(""+se,fe.mode,me),se.return=fe,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case I:return me=Mm(se.type,se.key,se.props,null,fe.mode,me),me.ref=$o(fe,null,se),me.return=fe,me;case F:return se=ty(se,fe.mode,me),se.return=fe,se;case ge:var We=se._init;return Ue(fe,We(se._payload),me)}if(kt(se)||re(se))return se=Au(se,fe.mode,me,null),se.return=fe,se;mo(fe,se)}return null}function De(fe,se,me,We){var vt=se!==null?se.key:null;if(typeof me=="string"&&me!==""||typeof me=="number")return vt!==null?null:X(fe,se,""+me,We);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case I:return me.key===vt?ee(fe,se,me,We):null;case F:return me.key===vt?Ae(fe,se,me,We):null;case ge:return vt=me._init,De(fe,se,vt(me._payload),We)}if(kt(me)||re(me))return vt!==null?null:Fe(fe,se,me,We,null);mo(fe,me)}return null}function it(fe,se,me,We,vt){if(typeof We=="string"&&We!==""||typeof We=="number")return fe=fe.get(me)||null,X(se,fe,""+We,vt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case I:return fe=fe.get(We.key===null?me:We.key)||null,ee(se,fe,We,vt);case F:return fe=fe.get(We.key===null?me:We.key)||null,Ae(se,fe,We,vt);case ge:var Et=We._init;return it(fe,se,me,Et(We._payload),vt)}if(kt(We)||re(We))return fe=fe.get(me)||null,Fe(se,fe,We,vt,null);mo(se,We)}return null}function ut(fe,se,me,We){for(var vt=null,Et=null,Tt=se,Rt=se=0,Ci=null;Tt!==null&&Rt<me.length;Rt++){Tt.index>Rt?(Ci=Tt,Tt=null):Ci=Tt.sibling;var un=De(fe,Tt,me[Rt],We);if(un===null){Tt===null&&(Tt=Ci);break}o&&Tt&&un.alternate===null&&u(fe,Tt),se=B(un,se,Rt),Et===null?vt=un:Et.sibling=un,Et=un,Tt=Ci}if(Rt===me.length)return m(fe,Tt),vn&&Fs(fe,Rt),vt;if(Tt===null){for(;Rt<me.length;Rt++)Tt=Ue(fe,me[Rt],We),Tt!==null&&(se=B(Tt,se,Rt),Et===null?vt=Tt:Et.sibling=Tt,Et=Tt);return vn&&Fs(fe,Rt),vt}for(Tt=_(fe,Tt);Rt<me.length;Rt++)Ci=it(Tt,fe,Rt,me[Rt],We),Ci!==null&&(o&&Ci.alternate!==null&&Tt.delete(Ci.key===null?Rt:Ci.key),se=B(Ci,se,Rt),Et===null?vt=Ci:Et.sibling=Ci,Et=Ci);return o&&Tt.forEach(function(fl){return u(fe,fl)}),vn&&Fs(fe,Rt),vt}function ht(fe,se,me,We){var vt=re(me);if(typeof vt!="function")throw Error(t(150));if(me=vt.call(me),me==null)throw Error(t(151));for(var Et=vt=null,Tt=se,Rt=se=0,Ci=null,un=me.next();Tt!==null&&!un.done;Rt++,un=me.next()){Tt.index>Rt?(Ci=Tt,Tt=null):Ci=Tt.sibling;var fl=De(fe,Tt,un.value,We);if(fl===null){Tt===null&&(Tt=Ci);break}o&&Tt&&fl.alternate===null&&u(fe,Tt),se=B(fl,se,Rt),Et===null?vt=fl:Et.sibling=fl,Et=fl,Tt=Ci}if(un.done)return m(fe,Tt),vn&&Fs(fe,Rt),vt;if(Tt===null){for(;!un.done;Rt++,un=me.next())un=Ue(fe,un.value,We),un!==null&&(se=B(un,se,Rt),Et===null?vt=un:Et.sibling=un,Et=un);return vn&&Fs(fe,Rt),vt}for(Tt=_(fe,Tt);!un.done;Rt++,un=me.next())un=it(Tt,fe,Rt,un.value,We),un!==null&&(o&&un.alternate!==null&&Tt.delete(un.key===null?Rt:un.key),se=B(un,se,Rt),Et===null?vt=un:Et.sibling=un,Et=un);return o&&Tt.forEach(function(qb){return u(fe,qb)}),vn&&Fs(fe,Rt),vt}function Qn(fe,se,me,We){if(typeof me=="object"&&me!==null&&me.type===z&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case I:e:{for(var vt=me.key,Et=se;Et!==null;){if(Et.key===vt){if(vt=me.type,vt===z){if(Et.tag===7){m(fe,Et.sibling),se=C(Et,me.props.children),se.return=fe,fe=se;break e}}else if(Et.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===ge&&Oi(vt)===Et.type){m(fe,Et.sibling),se=C(Et,me.props),se.ref=$o(fe,Et,me),se.return=fe,fe=se;break e}m(fe,Et);break}else u(fe,Et);Et=Et.sibling}me.type===z?(se=Au(me.props.children,fe.mode,We,me.key),se.return=fe,fe=se):(We=Mm(me.type,me.key,me.props,null,fe.mode,We),We.ref=$o(fe,se,me),We.return=fe,fe=We)}return N(fe);case F:e:{for(Et=me.key;se!==null;){if(se.key===Et)if(se.tag===4&&se.stateNode.containerInfo===me.containerInfo&&se.stateNode.implementation===me.implementation){m(fe,se.sibling),se=C(se,me.children||[]),se.return=fe,fe=se;break e}else{m(fe,se);break}else u(fe,se);se=se.sibling}se=ty(me,fe.mode,We),se.return=fe,fe=se}return N(fe);case ge:return Et=me._init,Qn(fe,se,Et(me._payload),We)}if(kt(me))return ut(fe,se,me,We);if(re(me))return ht(fe,se,me,We);mo(fe,me)}return typeof me=="string"&&me!==""||typeof me=="number"?(me=""+me,se!==null&&se.tag===6?(m(fe,se.sibling),se=C(se,me),se.return=fe,fe=se):(m(fe,se),se=ey(me,fe.mode,We),se.return=fe,fe=se),N(fe)):m(fe,se)}return Qn}var go=sf(!0),ea=sf(!1),yo={},Pr=Ln(yo),Br=Ln(yo),vo=Ln(yo);function Ki(o){if(o===yo)throw Error(t(174));return o}function el(o,u){switch(hn(vo,u),hn(Br,o),hn(Pr,yo),o=u.nodeType,o){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:je(null,"");break;default:o=o===8?u.parentNode:u,u=o.namespaceURI||null,o=o.tagName,u=je(u,o)}gn(Pr),hn(Pr,u)}function as(){gn(Pr),gn(Br),gn(vo)}function of(o){Ki(vo.current);var u=Ki(Pr.current),m=je(u,o.type);u!==m&&(hn(Br,o),hn(Pr,m))}function tl(o){Br.current===o&&(gn(Pr),gn(Br))}var yn=Ln(0);function oi(o){for(var u=o;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var ls=[];function Yi(){for(var o=0;o<ls.length;o++)ls[o]._workInProgressVersionPrimary=null;ls.length=0}var ta=R.ReactCurrentDispatcher,Si=R.ReactCurrentBatchConfig,xo=0,xn=null,kn=null,ai=null,Xr=!1,nl=!1,il=0,Qh=0;function In(){throw Error(t(321))}function af(o,u){if(u===null)return!1;for(var m=0;m<u.length&&m<o.length;m++)if(!ir(o[m],u[m]))return!1;return!0}function lf(o,u,m,_,C,B){if(xo=B,xn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,ta.current=o===null||o.memoizedState===null?h:v,o=m(_,C),nl){B=0;do{if(nl=!1,il=0,25<=B)throw Error(t(301));B+=1,ai=kn=null,u.updateQueue=null,ta.current=M,o=m(_,C)}while(nl)}if(ta.current=c,u=kn!==null&&kn.next!==null,xo=0,ai=kn=xn=null,Xr=!1,u)throw Error(t(300));return o}function fu(){var o=il!==0;return il=0,o}function or(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ai===null?xn.memoizedState=ai=o:ai=ai.next=o,ai}function Rr(){if(kn===null){var o=xn.alternate;o=o!==null?o.memoizedState:null}else o=kn.next;var u=ai===null?xn.memoizedState:ai.next;if(u!==null)ai=u,kn=o;else{if(o===null)throw Error(t(310));kn=o,o={memoizedState:kn.memoizedState,baseState:kn.baseState,baseQueue:kn.baseQueue,queue:kn.queue,next:null},ai===null?xn.memoizedState=ai=o:ai=ai.next=o}return ai}function hu(o,u){return typeof u=="function"?u(o):u}function uf(o){var u=Rr(),m=u.queue;if(m===null)throw Error(t(311));m.lastRenderedReducer=o;var _=kn,C=_.baseQueue,B=m.pending;if(B!==null){if(C!==null){var N=C.next;C.next=B.next,B.next=N}_.baseQueue=C=B,m.pending=null}if(C!==null){B=C.next,_=_.baseState;var X=N=null,ee=null,Ae=B;do{var Fe=Ae.lane;if((xo&Fe)===Fe)ee!==null&&(ee=ee.next={lane:0,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null}),_=Ae.hasEagerState?Ae.eagerState:o(_,Ae.action);else{var Ue={lane:Fe,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null};ee===null?(X=ee=Ue,N=_):ee=ee.next=Ue,xn.lanes|=Fe,yu|=Fe}Ae=Ae.next}while(Ae!==null&&Ae!==B);ee===null?N=_:ee.next=X,ir(_,u.memoizedState)||(tt=!0),u.memoizedState=_,u.baseState=N,u.baseQueue=ee,m.lastRenderedState=_}if(o=m.interleaved,o!==null){C=o;do B=C.lane,xn.lanes|=B,yu|=B,C=C.next;while(C!==o)}else C===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function cf(o){var u=Rr(),m=u.queue;if(m===null)throw Error(t(311));m.lastRenderedReducer=o;var _=m.dispatch,C=m.pending,B=u.memoizedState;if(C!==null){m.pending=null;var N=C=C.next;do B=o(B,N.action),N=N.next;while(N!==C);ir(B,u.memoizedState)||(tt=!0),u.memoizedState=B,u.baseQueue===null&&(u.baseState=B),m.lastRenderedState=B}return[B,_]}function _o(){}function tm(o,u){var m=xn,_=Rr(),C=u(),B=!ir(_.memoizedState,C);if(B&&(_.memoizedState=C,tt=!0),_=_.queue,mu(Ui.bind(null,m,_,o),[o]),_.getSnapshot!==u||B||ai!==null&&ai.memoizedState.tag&1){if(m.flags|=2048,du(9,qh.bind(null,m,_,C,u),void 0,null),Mi===null)throw Error(t(349));(xo&30)!==0||Ao(m,u,C)}return C}function Ao(o,u,m){o.flags|=16384,o={getSnapshot:u,value:m},u=xn.updateQueue,u===null?(u={lastEffect:null,stores:null},xn.updateQueue=u,u.stores=[o]):(m=u.stores,m===null?u.stores=[o]:m.push(o))}function qh(o,u,m,_){u.value=m,u.getSnapshot=_,nm(u)&&Zh(o)}function Ui(o,u,m){return m(function(){nm(u)&&Zh(o)})}function nm(o){var u=o.getSnapshot;o=o.value;try{var m=u();return!ir(o,m)}catch{return!0}}function Zh(o){var u=Jr(o,1);u!==null&&Vs(u,o,1,-1)}function im(o){var u=or();return typeof o=="function"&&(o=o()),u.memoizedState=u.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hu,lastRenderedState:o},u.queue=o,o=o.dispatch=lm.bind(null,xn,o),[u.memoizedState,o]}function du(o,u,m,_){return o={tag:o,create:u,destroy:m,deps:_,next:null},u=xn.updateQueue,u===null?(u={lastEffect:null,stores:null},xn.updateQueue=u,u.lastEffect=o.next=o):(m=u.lastEffect,m===null?u.lastEffect=o.next=o:(_=m.next,m.next=o,o.next=_,u.lastEffect=o)),o}function $h(){return Rr().memoizedState}function pu(o,u,m,_){var C=or();xn.flags|=o,C.memoizedState=du(1|u,m,void 0,_===void 0?null:_)}function ff(o,u,m,_){var C=Rr();_=_===void 0?null:_;var B=void 0;if(kn!==null){var N=kn.memoizedState;if(B=N.destroy,_!==null&&af(_,N.deps)){C.memoizedState=du(u,m,B,_);return}}xn.flags|=o,C.memoizedState=du(1|u,m,B,_)}function ar(o,u){return pu(8390656,8,o,u)}function mu(o,u){return ff(2048,8,o,u)}function rm(o,u){return ff(4,2,o,u)}function zs(o,u){return ff(4,4,o,u)}function gu(o,u){if(typeof u=="function")return o=o(),u(o),function(){u(null)};if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function wo(o,u,m){return m=m!=null?m.concat([o]):null,ff(4,4,gu.bind(null,u,o),m)}function rl(){}function hf(o,u){var m=Rr();u=u===void 0?null:u;var _=m.memoizedState;return _!==null&&u!==null&&af(u,_[1])?_[0]:(m.memoizedState=[o,u],o)}function df(o,u){var m=Rr();u=u===void 0?null:u;var _=m.memoizedState;return _!==null&&u!==null&&af(u,_[1])?_[0]:(o=o(),m.memoizedState=[o,u],o)}function sm(o,u,m){return(xo&21)===0?(o.baseState&&(o.baseState=!1,tt=!0),o.memoizedState=m):(ir(m,u)||(m=xr(),xn.lanes|=m,yu|=m,o.baseState=!0),u)}function om(o,u){var m=nn;nn=m!==0&&4>m?m:4,o(!0);var _=Si.transition;Si.transition={};try{o(!1),u()}finally{nn=m,Si.transition=_}}function ed(){return Rr().memoizedState}function am(o,u,m){var _=ll(o);if(m={lane:_,action:m,hasEagerState:!1,eagerState:null,next:null},pf(o))um(u,m);else if(m=rf(o,u,m,_),m!==null){var C=ur();Vs(m,o,_,C),cm(m,u,_)}}function lm(o,u,m){var _=ll(o),C={lane:_,action:m,hasEagerState:!1,eagerState:null,next:null};if(pf(o))um(u,C);else{var B=o.alternate;if(o.lanes===0&&(B===null||B.lanes===0)&&(B=u.lastRenderedReducer,B!==null))try{var N=u.lastRenderedState,X=B(N,m);if(C.hasEagerState=!0,C.eagerState=X,ir(X,N)){var ee=u.interleaved;ee===null?(C.next=C,uu(u)):(C.next=ee.next,ee.next=C),u.interleaved=C;return}}catch{}finally{}m=rf(o,u,C,_),m!==null&&(C=ur(),Vs(m,o,_,C),cm(m,u,_))}}function pf(o){var u=o.alternate;return o===xn||u!==null&&u===xn}function um(o,u){nl=Xr=!0;var m=o.pending;m===null?u.next=u:(u.next=m.next,m.next=u),o.pending=u}function cm(o,u,m){if((m&4194240)!==0){var _=u.lanes;_&=o.pendingLanes,m|=_,u.lanes=m,Pa(o,m)}}var c={readContext:Ni,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useInsertionEffect:In,useLayoutEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useMutableSource:In,useSyncExternalStore:In,useId:In,unstable_isNewReconciler:!1},h={readContext:Ni,useCallback:function(o,u){return or().memoizedState=[o,u===void 0?null:u],o},useContext:Ni,useEffect:ar,useImperativeHandle:function(o,u,m){return m=m!=null?m.concat([o]):null,pu(4194308,4,gu.bind(null,u,o),m)},useLayoutEffect:function(o,u){return pu(4194308,4,o,u)},useInsertionEffect:function(o,u){return pu(4,2,o,u)},useMemo:function(o,u){var m=or();return u=u===void 0?null:u,o=o(),m.memoizedState=[o,u],o},useReducer:function(o,u,m){var _=or();return u=m!==void 0?m(u):u,_.memoizedState=_.baseState=u,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:u},_.queue=o,o=o.dispatch=am.bind(null,xn,o),[_.memoizedState,o]},useRef:function(o){var u=or();return o={current:o},u.memoizedState=o},useState:im,useDebugValue:rl,useDeferredValue:function(o){return or().memoizedState=o},useTransition:function(){var o=im(!1),u=o[0];return o=om.bind(null,o[1]),or().memoizedState=o,[u,o]},useMutableSource:function(){},useSyncExternalStore:function(o,u,m){var _=xn,C=or();if(vn){if(m===void 0)throw Error(t(407));m=m()}else{if(m=u(),Mi===null)throw Error(t(349));(xo&30)!==0||Ao(_,u,m)}C.memoizedState=m;var B={value:m,getSnapshot:u};return C.queue=B,ar(Ui.bind(null,_,B,o),[o]),_.flags|=2048,du(9,qh.bind(null,_,B,m,u),void 0,null),m},useId:function(){var o=or(),u=Mi.identifierPrefix;if(vn){var m=Er,_=Xe;m=(_&~(1<<32-Rn(_)-1)).toString(32)+m,u=":"+u+"R"+m,m=il++,0<m&&(u+="H"+m.toString(32)),u+=":"}else m=Qh++,u=":"+u+"r"+m.toString(32)+":";return o.memoizedState=u},unstable_isNewReconciler:!1},v={readContext:Ni,useCallback:hf,useContext:Ni,useEffect:mu,useImperativeHandle:wo,useInsertionEffect:rm,useLayoutEffect:zs,useMemo:df,useReducer:uf,useRef:$h,useState:function(){return uf(hu)},useDebugValue:rl,useDeferredValue:function(o){var u=Rr();return sm(u,kn.memoizedState,o)},useTransition:function(){var o=uf(hu)[0],u=Rr().memoizedState;return[o,u]},useMutableSource:_o,useSyncExternalStore:tm,useId:ed,unstable_isNewReconciler:!1},M={readContext:Ni,useCallback:hf,useContext:Ni,useEffect:mu,useImperativeHandle:wo,useInsertionEffect:rm,useLayoutEffect:zs,useMemo:df,useReducer:cf,useRef:$h,useState:function(){return cf(hu)},useDebugValue:rl,useDeferredValue:function(o){var u=Rr();return kn===null?u.memoizedState=o:sm(u,kn.memoizedState,o)},useTransition:function(){var o=cf(hu)[0],u=Rr().memoizedState;return[o,u]},useMutableSource:_o,useSyncExternalStore:tm,useId:ed,unstable_isNewReconciler:!1};function P(o,u){try{var m="",_=u;do m+=Pe(_),_=_.return;while(_);var C=m}catch(B){C=`
Error generating stack: `+B.message+`
`+B.stack}return{value:o,source:u,stack:C,digest:null}}function L(o,u,m){return{value:o,source:null,stack:m??null,digest:u??null}}function j(o,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var oe=typeof WeakMap=="function"?WeakMap:Map;function Ce(o,u,m){m=br(-1,m),m.tag=3,m.payload={element:null};var _=u.value;return m.callback=function(){vm||(vm=!0,J0=_),j(o,u)},m}function Ve(o,u,m){m=br(-1,m),m.tag=3;var _=o.type.getDerivedStateFromError;if(typeof _=="function"){var C=u.value;m.payload=function(){return _(C)},m.callback=function(){j(o,u)}}var B=o.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(m.callback=function(){j(o,u),typeof _!="function"&&(ol===null?ol=new Set([this]):ol.add(this));var N=u.stack;this.componentDidCatch(u.value,{componentStack:N!==null?N:""})}),m}function st(o,u,m){var _=o.pingCache;if(_===null){_=o.pingCache=new oe;var C=new Set;_.set(u,C)}else C=_.get(u),C===void 0&&(C=new Set,_.set(u,C));C.has(m)||(C.add(m),o=zb.bind(null,o,u,m),u.then(o,o))}function Dt(o){do{var u;if((u=o.tag===13)&&(u=o.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return o;o=o.return}while(o!==null);return null}function wt(o,u,m,_,C){return(o.mode&1)===0?(o===u?o.flags|=65536:(o.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(u=br(-1,1),u.tag=2,os(m,u,1))),m.lanes|=1),o):(o.flags|=65536,o.lanes=C,o)}var dn=R.ReactCurrentOwner,tt=!1;function ln(o,u,m,_){u.child=o===null?ea(u,null,m,_):go(u,o.child,m,_)}function lr(o,u,m,_,C){m=m.render;var B=u.ref;return ks(u,C),_=lf(o,u,m,_,B,C),m=fu(),o!==null&&!tt?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~C,na(o,u,C)):(vn&&m&&Jh(u),u.flags|=1,ln(o,u,_,C),u.child)}function ye(o,u,m,_,C){if(o===null){var B=m.type;return typeof B=="function"&&!$0(B)&&B.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(u.tag=15,u.type=B,ue(o,u,B,_,C)):(o=Mm(m.type,null,_,u,u.mode,C),o.ref=u.ref,o.return=u,u.child=o)}if(B=o.child,(o.lanes&C)===0){var N=B.memoizedProps;if(m=m.compare,m=m!==null?m:Go,m(N,_)&&o.ref===u.ref)return na(o,u,C)}return u.flags|=1,o=cl(B,_),o.ref=u.ref,o.return=u,u.child=o}function ue(o,u,m,_,C){if(o!==null){var B=o.memoizedProps;if(Go(B,_)&&o.ref===u.ref)if(tt=!1,u.pendingProps=_=B,(o.lanes&C)!==0)(o.flags&131072)!==0&&(tt=!0);else return u.lanes=o.lanes,na(o,u,C)}return ft(o,u,m,_,C)}function Se(o,u,m){var _=u.pendingProps,C=_.children,B=o!==null?o.memoizedState:null;if(_.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},hn(gf,Kr),Kr|=m;else{if((m&1073741824)===0)return o=B!==null?B.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:o,cachePool:null,transitions:null},u.updateQueue=null,hn(gf,Kr),Kr|=o,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=B!==null?B.baseLanes:m,hn(gf,Kr),Kr|=_}else B!==null?(_=B.baseLanes|m,u.memoizedState=null):_=m,hn(gf,Kr),Kr|=_;return ln(o,u,C,m),u.child}function $e(o,u){var m=u.ref;(o===null&&m!==null||o!==null&&o.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function ft(o,u,m,_,C){var B=wi(m)?Ds:pi.current;return B=Xo(u,B),ks(u,C),m=lf(o,u,m,_,B,C),_=fu(),o!==null&&!tt?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~C,na(o,u,C)):(vn&&_&&Jh(u),u.flags|=1,ln(o,u,m,C),u.child)}function Nt(o,u,m,_,C){if(wi(m)){var B=!0;Ko(u)}else B=!1;if(ks(u,C),u.stateNode===null)dm(o,u),Za(u,m,_),$a(u,m,_,C),_=!0;else if(o===null){var N=u.stateNode,X=u.memoizedProps;N.props=X;var ee=N.context,Ae=m.contextType;typeof Ae=="object"&&Ae!==null?Ae=Ni(Ae):(Ae=wi(m)?Ds:pi.current,Ae=Xo(u,Ae));var Fe=m.getDerivedStateFromProps,Ue=typeof Fe=="function"||typeof N.getSnapshotBeforeUpdate=="function";Ue||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(X!==_||ee!==Ae)&&Zo(u,N,_,Ae),Os=!1;var De=u.memoizedState;N.state=De,Bn(u,_,N,C),ee=u.memoizedState,X!==_||De!==ee||Ii.current||Os?(typeof Fe=="function"&&(ki(u,m,Fe,_),ee=u.memoizedState),(X=Os||Hn(u,m,X,_,De,ee,Ae))?(Ue||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(u.flags|=4194308)):(typeof N.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=_,u.memoizedState=ee),N.props=_,N.state=ee,N.context=Ae,_=X):(typeof N.componentDidMount=="function"&&(u.flags|=4194308),_=!1)}else{N=u.stateNode,em(o,u),X=u.memoizedProps,Ae=u.type===u.elementType?X:Wr(u.type,X),N.props=Ae,Ue=u.pendingProps,De=N.context,ee=m.contextType,typeof ee=="object"&&ee!==null?ee=Ni(ee):(ee=wi(m)?Ds:pi.current,ee=Xo(u,ee));var it=m.getDerivedStateFromProps;(Fe=typeof it=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(X!==Ue||De!==ee)&&Zo(u,N,_,ee),Os=!1,De=u.memoizedState,N.state=De,Bn(u,_,N,C);var ut=u.memoizedState;X!==Ue||De!==ut||Ii.current||Os?(typeof it=="function"&&(ki(u,m,it,_),ut=u.memoizedState),(Ae=Os||Hn(u,m,Ae,_,De,ut,ee)||!1)?(Fe||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(_,ut,ee),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(_,ut,ee)),typeof N.componentDidUpdate=="function"&&(u.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof N.componentDidUpdate!="function"||X===o.memoizedProps&&De===o.memoizedState||(u.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||X===o.memoizedProps&&De===o.memoizedState||(u.flags|=1024),u.memoizedProps=_,u.memoizedState=ut),N.props=_,N.state=ut,N.context=ee,_=Ae):(typeof N.componentDidUpdate!="function"||X===o.memoizedProps&&De===o.memoizedState||(u.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||X===o.memoizedProps&&De===o.memoizedState||(u.flags|=1024),_=!1)}return Bt(o,u,m,_,B,C)}function Bt(o,u,m,_,C,B){$e(o,u);var N=(u.flags&128)!==0;if(!_&&!N)return C&&Wh(u,m,!1),na(o,u,B);_=u.stateNode,dn.current=u;var X=N&&typeof m.getDerivedStateFromError!="function"?null:_.render();return u.flags|=1,o!==null&&N?(u.child=go(u,o.child,null,B),u.child=go(u,null,X,B)):ln(o,u,X,B),u.memoizedState=_.state,C&&Wh(u,m,!0),u.child}function en(o){var u=o.stateNode;u.pendingContext?Vh(o,u.pendingContext,u.pendingContext!==u.context):u.context&&Vh(o,u.context,!1),el(o,u.containerInfo)}function Yn(o,u,m,_,C){return po(),Ka(C),u.flags|=256,ln(o,u,m,_),u.child}var $t={dehydrated:null,treeContext:null,retryLane:0};function us(o){return{baseLanes:o,cachePool:null,transitions:null}}function fm(o,u,m){var _=u.pendingProps,C=yn.current,B=!1,N=(u.flags&128)!==0,X;if((X=N)||(X=o!==null&&o.memoizedState===null?!1:(C&2)!==0),X?(B=!0,u.flags&=-129):(o===null||o.memoizedState!==null)&&(C|=1),hn(yn,C&1),o===null)return ef(u),o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((u.mode&1)===0?u.lanes=1:o.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(N=_.children,o=_.fallback,B?(_=u.mode,B=u.child,N={mode:"hidden",children:N},(_&1)===0&&B!==null?(B.childLanes=0,B.pendingProps=N):B=Cm(N,_,0,null),o=Au(o,_,m,null),B.return=u,o.return=u,B.sibling=o,u.child=B,u.child.memoizedState=us(m),u.memoizedState=$t,o):N0(u,N));if(C=o.memoizedState,C!==null&&(X=C.dehydrated,X!==null))return bb(o,u,N,_,X,C,m);if(B){B=_.fallback,N=u.mode,C=o.child,X=C.sibling;var ee={mode:"hidden",children:_.children};return(N&1)===0&&u.child!==C?(_=u.child,_.childLanes=0,_.pendingProps=ee,u.deletions=null):(_=cl(C,ee),_.subtreeFlags=C.subtreeFlags&14680064),X!==null?B=cl(X,B):(B=Au(B,N,m,null),B.flags|=2),B.return=u,_.return=u,_.sibling=B,u.child=_,_=B,B=u.child,N=o.child.memoizedState,N=N===null?us(m):{baseLanes:N.baseLanes|m,cachePool:null,transitions:N.transitions},B.memoizedState=N,B.childLanes=o.childLanes&~m,u.memoizedState=$t,_}return B=o.child,o=B.sibling,_=cl(B,{mode:"visible",children:_.children}),(u.mode&1)===0&&(_.lanes=m),_.return=u,_.sibling=null,o!==null&&(m=u.deletions,m===null?(u.deletions=[o],u.flags|=16):m.push(o)),u.child=_,u.memoizedState=null,_}function N0(o,u){return u=Cm({mode:"visible",children:u},o.mode,0,null),u.return=o,o.child=u}function hm(o,u,m,_){return _!==null&&Ka(_),go(u,o.child,null,m),o=N0(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function bb(o,u,m,_,C,B,N){if(m)return u.flags&256?(u.flags&=-257,_=L(Error(t(422))),hm(o,u,N,_)):u.memoizedState!==null?(u.child=o.child,u.flags|=128,null):(B=_.fallback,C=u.mode,_=Cm({mode:"visible",children:_.children},C,0,null),B=Au(B,C,N,null),B.flags|=2,_.return=u,B.return=u,_.sibling=B,u.child=_,(u.mode&1)!==0&&go(u,o.child,null,N),u.child.memoizedState=us(N),u.memoizedState=$t,B);if((u.mode&1)===0)return hm(o,u,N,null);if(C.data==="$!"){if(_=C.nextSibling&&C.nextSibling.dataset,_)var X=_.dgst;return _=X,B=Error(t(419)),_=L(B,_,void 0),hm(o,u,N,_)}if(X=(N&o.childLanes)!==0,tt||X){if(_=Mi,_!==null){switch(N&-N){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(_.suspendedLanes|N))!==0?0:C,C!==0&&C!==B.retryLane&&(B.retryLane=C,Jr(o,C),Vs(_,o,C,-1))}return Z0(),_=L(Error(t(421))),hm(o,u,N,_)}return C.data==="$?"?(u.flags|=128,u.child=o.child,u=Gb.bind(null,o),C._reactRetry=u,null):(o=B.treeContext,Fi=Rs(C.nextSibling),mi=u,vn=!0,Tr=null,o!==null&&(Di[ri++]=Xe,Di[ri++]=Er,Di[ri++]=Qo,Xe=o.id,Er=o.overflow,Qo=u),u=N0(u,_.children),u.flags|=4096,u)}function f1(o,u,m){o.lanes|=u;var _=o.alternate;_!==null&&(_.lanes|=u),qa(o.return,u,m)}function k0(o,u,m,_,C){var B=o.memoizedState;B===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:_,tail:m,tailMode:C}:(B.isBackwards=u,B.rendering=null,B.renderingStartTime=0,B.last=_,B.tail=m,B.tailMode=C)}function h1(o,u,m){var _=u.pendingProps,C=_.revealOrder,B=_.tail;if(ln(o,u,_.children,m),_=yn.current,(_&2)!==0)_=_&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&f1(o,m,u);else if(o.tag===19)f1(o,m,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}_&=1}if(hn(yn,_),(u.mode&1)===0)u.memoizedState=null;else switch(C){case"forwards":for(m=u.child,C=null;m!==null;)o=m.alternate,o!==null&&oi(o)===null&&(C=m),m=m.sibling;m=C,m===null?(C=u.child,u.child=null):(C=m.sibling,m.sibling=null),k0(u,!1,C,m,B);break;case"backwards":for(m=null,C=u.child,u.child=null;C!==null;){if(o=C.alternate,o!==null&&oi(o)===null){u.child=C;break}o=C.sibling,C.sibling=m,m=C,C=o}k0(u,!0,m,null,B);break;case"together":k0(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function dm(o,u){(u.mode&1)===0&&o!==null&&(o.alternate=null,u.alternate=null,u.flags|=2)}function na(o,u,m){if(o!==null&&(u.dependencies=o.dependencies),yu|=u.lanes,(m&u.childLanes)===0)return null;if(o!==null&&u.child!==o.child)throw Error(t(153));if(u.child!==null){for(o=u.child,m=cl(o,o.pendingProps),u.child=m,m.return=u;o.sibling!==null;)o=o.sibling,m=m.sibling=cl(o,o.pendingProps),m.return=u;m.sibling=null}return u.child}function Pb(o,u,m){switch(u.tag){case 3:en(u),po();break;case 5:of(u);break;case 1:wi(u.type)&&Ko(u);break;case 4:el(u,u.stateNode.containerInfo);break;case 10:var _=u.type._context,C=u.memoizedProps.value;hn(au,_._currentValue),_._currentValue=C;break;case 13:if(_=u.memoizedState,_!==null)return _.dehydrated!==null?(hn(yn,yn.current&1),u.flags|=128,null):(m&u.child.childLanes)!==0?fm(o,u,m):(hn(yn,yn.current&1),o=na(o,u,m),o!==null?o.sibling:null);hn(yn,yn.current&1);break;case 19:if(_=(m&u.childLanes)!==0,(o.flags&128)!==0){if(_)return h1(o,u,m);u.flags|=128}if(C=u.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),hn(yn,yn.current),_)break;return null;case 22:case 23:return u.lanes=0,Se(o,u,m)}return na(o,u,m)}var d1,O0,p1,m1;d1=function(o,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)o.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},O0=function(){},p1=function(o,u,m,_){var C=o.memoizedProps;if(C!==_){o=u.stateNode,Ki(Pr.current);var B=null;switch(m){case"input":C=ze(o,C),_=ze(o,_),B=[];break;case"select":C=k({},C,{value:void 0}),_=k({},_,{value:void 0}),B=[];break;case"textarea":C=J(o,C),_=J(o,_),B=[];break;default:typeof C.onClick!="function"&&typeof _.onClick=="function"&&(o.onclick=nu)}te(m,_);var N;m=null;for(Ae in C)if(!_.hasOwnProperty(Ae)&&C.hasOwnProperty(Ae)&&C[Ae]!=null)if(Ae==="style"){var X=C[Ae];for(N in X)X.hasOwnProperty(N)&&(m||(m={}),m[N]="")}else Ae!=="dangerouslySetInnerHTML"&&Ae!=="children"&&Ae!=="suppressContentEditableWarning"&&Ae!=="suppressHydrationWarning"&&Ae!=="autoFocus"&&(r.hasOwnProperty(Ae)?B||(B=[]):(B=B||[]).push(Ae,null));for(Ae in _){var ee=_[Ae];if(X=C!=null?C[Ae]:void 0,_.hasOwnProperty(Ae)&&ee!==X&&(ee!=null||X!=null))if(Ae==="style")if(X){for(N in X)!X.hasOwnProperty(N)||ee&&ee.hasOwnProperty(N)||(m||(m={}),m[N]="");for(N in ee)ee.hasOwnProperty(N)&&X[N]!==ee[N]&&(m||(m={}),m[N]=ee[N])}else m||(B||(B=[]),B.push(Ae,m)),m=ee;else Ae==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,X=X?X.__html:void 0,ee!=null&&X!==ee&&(B=B||[]).push(Ae,ee)):Ae==="children"?typeof ee!="string"&&typeof ee!="number"||(B=B||[]).push(Ae,""+ee):Ae!=="suppressContentEditableWarning"&&Ae!=="suppressHydrationWarning"&&(r.hasOwnProperty(Ae)?(ee!=null&&Ae==="onScroll"&&mn("scroll",o),B||X===ee||(B=[])):(B=B||[]).push(Ae,ee))}m&&(B=B||[]).push("style",m);var Ae=B;(u.updateQueue=Ae)&&(u.flags|=4)}},m1=function(o,u,m,_){m!==_&&(u.flags|=4)};function td(o,u){if(!vn)switch(o.tailMode){case"hidden":u=o.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var _=null;m!==null;)m.alternate!==null&&(_=m),m=m.sibling;_===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:_.sibling=null}}function Qi(o){var u=o.alternate!==null&&o.alternate.child===o.child,m=0,_=0;if(u)for(var C=o.child;C!==null;)m|=C.lanes|C.childLanes,_|=C.subtreeFlags&14680064,_|=C.flags&14680064,C.return=o,C=C.sibling;else for(C=o.child;C!==null;)m|=C.lanes|C.childLanes,_|=C.subtreeFlags,_|=C.flags,C.return=o,C=C.sibling;return o.subtreeFlags|=_,o.childLanes=m,u}function Bb(o,u,m){var _=u.pendingProps;switch(Ns(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qi(u),null;case 1:return wi(u.type)&&iu(),Qi(u),null;case 3:return _=u.stateNode,as(),gn(Ii),gn(pi),Yi(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(o===null||o.child===null)&&(Xa(u)?u.flags|=4:o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Tr!==null&&(Y0(Tr),Tr=null))),O0(o,u),Qi(u),null;case 5:tl(u);var C=Ki(vo.current);if(m=u.type,o!==null&&u.stateNode!=null)p1(o,u,m,_,C),o.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!_){if(u.stateNode===null)throw Error(t(166));return Qi(u),null}if(o=Ki(Pr.current),Xa(u)){_=u.stateNode,m=u.type;var B=u.memoizedProps;switch(_[Kn]=u,_[Ja]=B,o=(u.mode&1)!==0,m){case"dialog":mn("cancel",_),mn("close",_);break;case"iframe":case"object":case"embed":mn("load",_);break;case"video":case"audio":for(C=0;C<fo.length;C++)mn(fo[C],_);break;case"source":mn("error",_);break;case"img":case"image":case"link":mn("error",_),mn("load",_);break;case"details":mn("toggle",_);break;case"input":rt(_,B),mn("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!B.multiple},mn("invalid",_);break;case"textarea":U(_,B),mn("invalid",_)}te(m,B),C=null;for(var N in B)if(B.hasOwnProperty(N)){var X=B[N];N==="children"?typeof X=="string"?_.textContent!==X&&(B.suppressHydrationWarning!==!0&&tu(_.textContent,X,o),C=["children",X]):typeof X=="number"&&_.textContent!==""+X&&(B.suppressHydrationWarning!==!0&&tu(_.textContent,X,o),C=["children",""+X]):r.hasOwnProperty(N)&&X!=null&&N==="onScroll"&&mn("scroll",_)}switch(m){case"input":Ye(_),gt(_,B,!0);break;case"textarea":Ye(_),ke(_);break;case"select":case"option":break;default:typeof B.onClick=="function"&&(_.onclick=nu)}_=C,u.updateQueue=_,_!==null&&(u.flags|=4)}else{N=C.nodeType===9?C:C.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=He(m)),o==="http://www.w3.org/1999/xhtml"?m==="script"?(o=N.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof _.is=="string"?o=N.createElement(m,{is:_.is}):(o=N.createElement(m),m==="select"&&(N=o,_.multiple?N.multiple=!0:_.size&&(N.size=_.size))):o=N.createElementNS(o,m),o[Kn]=u,o[Ja]=_,d1(o,u,!1,!1),u.stateNode=o;e:{switch(N=Le(m,_),m){case"dialog":mn("cancel",o),mn("close",o),C=_;break;case"iframe":case"object":case"embed":mn("load",o),C=_;break;case"video":case"audio":for(C=0;C<fo.length;C++)mn(fo[C],o);C=_;break;case"source":mn("error",o),C=_;break;case"img":case"image":case"link":mn("error",o),mn("load",o),C=_;break;case"details":mn("toggle",o),C=_;break;case"input":rt(o,_),C=ze(o,_),mn("invalid",o);break;case"option":C=_;break;case"select":o._wrapperState={wasMultiple:!!_.multiple},C=k({},_,{value:void 0}),mn("invalid",o);break;case"textarea":U(o,_),C=J(o,_),mn("invalid",o);break;default:C=_}te(m,C),X=C;for(B in X)if(X.hasOwnProperty(B)){var ee=X[B];B==="style"?xt(o,ee):B==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,ee!=null&&Ze(o,ee)):B==="children"?typeof ee=="string"?(m!=="textarea"||ee!=="")&&be(o,ee):typeof ee=="number"&&be(o,""+ee):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(r.hasOwnProperty(B)?ee!=null&&B==="onScroll"&&mn("scroll",o):ee!=null&&T(o,B,ee,N))}switch(m){case"input":Ye(o),gt(o,_,!1);break;case"textarea":Ye(o),ke(o);break;case"option":_.value!=null&&o.setAttribute("value",""+Ne(_.value));break;case"select":o.multiple=!!_.multiple,B=_.value,B!=null?Ot(o,!!_.multiple,B,!1):_.defaultValue!=null&&Ot(o,!!_.multiple,_.defaultValue,!0);break;default:typeof C.onClick=="function"&&(o.onclick=nu)}switch(m){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Qi(u),null;case 6:if(o&&u.stateNode!=null)m1(o,u,o.memoizedProps,_);else{if(typeof _!="string"&&u.stateNode===null)throw Error(t(166));if(m=Ki(vo.current),Ki(Pr.current),Xa(u)){if(_=u.stateNode,m=u.memoizedProps,_[Kn]=u,(B=_.nodeValue!==m)&&(o=mi,o!==null))switch(o.tag){case 3:tu(_.nodeValue,m,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&tu(_.nodeValue,m,(o.mode&1)!==0)}B&&(u.flags|=4)}else _=(m.nodeType===9?m:m.ownerDocument).createTextNode(_),_[Kn]=u,u.stateNode=_}return Qi(u),null;case 13:if(gn(yn),_=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(vn&&Fi!==null&&(u.mode&1)!==0&&(u.flags&128)===0)Yh(),po(),u.flags|=98560,B=!1;else if(B=Xa(u),_!==null&&_.dehydrated!==null){if(o===null){if(!B)throw Error(t(318));if(B=u.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(t(317));B[Kn]=u}else po(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Qi(u),B=!1}else Tr!==null&&(Y0(Tr),Tr=null),B=!0;if(!B)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=m,u):(_=_!==null,_!==(o!==null&&o.memoizedState!==null)&&_&&(u.child.flags|=8192,(u.mode&1)!==0&&(o===null||(yn.current&1)!==0?gi===0&&(gi=3):Z0())),u.updateQueue!==null&&(u.flags|=4),Qi(u),null);case 4:return as(),O0(o,u),o===null&&Va(u.stateNode.containerInfo),Qi(u),null;case 10:return Qa(u.type._context),Qi(u),null;case 17:return wi(u.type)&&iu(),Qi(u),null;case 19:if(gn(yn),B=u.memoizedState,B===null)return Qi(u),null;if(_=(u.flags&128)!==0,N=B.rendering,N===null)if(_)td(B,!1);else{if(gi!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(N=oi(o),N!==null){for(u.flags|=128,td(B,!1),_=N.updateQueue,_!==null&&(u.updateQueue=_,u.flags|=4),u.subtreeFlags=0,_=m,m=u.child;m!==null;)B=m,o=_,B.flags&=14680066,N=B.alternate,N===null?(B.childLanes=0,B.lanes=o,B.child=null,B.subtreeFlags=0,B.memoizedProps=null,B.memoizedState=null,B.updateQueue=null,B.dependencies=null,B.stateNode=null):(B.childLanes=N.childLanes,B.lanes=N.lanes,B.child=N.child,B.subtreeFlags=0,B.deletions=null,B.memoizedProps=N.memoizedProps,B.memoizedState=N.memoizedState,B.updateQueue=N.updateQueue,B.type=N.type,o=N.dependencies,B.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),m=m.sibling;return hn(yn,yn.current&1|2),u.child}o=o.sibling}B.tail!==null&&It()>yf&&(u.flags|=128,_=!0,td(B,!1),u.lanes=4194304)}else{if(!_)if(o=oi(N),o!==null){if(u.flags|=128,_=!0,m=o.updateQueue,m!==null&&(u.updateQueue=m,u.flags|=4),td(B,!0),B.tail===null&&B.tailMode==="hidden"&&!N.alternate&&!vn)return Qi(u),null}else 2*It()-B.renderingStartTime>yf&&m!==1073741824&&(u.flags|=128,_=!0,td(B,!1),u.lanes=4194304);B.isBackwards?(N.sibling=u.child,u.child=N):(m=B.last,m!==null?m.sibling=N:u.child=N,B.last=N)}return B.tail!==null?(u=B.tail,B.rendering=u,B.tail=u.sibling,B.renderingStartTime=It(),u.sibling=null,m=yn.current,hn(yn,_?m&1|2:m&1),u):(Qi(u),null);case 22:case 23:return q0(),_=u.memoizedState!==null,o!==null&&o.memoizedState!==null!==_&&(u.flags|=8192),_&&(u.mode&1)!==0?(Kr&1073741824)!==0&&(Qi(u),u.subtreeFlags&6&&(u.flags|=8192)):Qi(u),null;case 24:return null;case 25:return null}throw Error(t(156,u.tag))}function Rb(o,u){switch(Ns(u),u.tag){case 1:return wi(u.type)&&iu(),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return as(),gn(Ii),gn(pi),Yi(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 5:return tl(u),null;case 13:if(gn(yn),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(t(340));po()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return gn(yn),null;case 4:return as(),null;case 10:return Qa(u.type._context),null;case 22:case 23:return q0(),null;case 24:return null;default:return null}}var pm=!1,qi=!1,Lb=typeof WeakSet=="function"?WeakSet:Set,ot=null;function mf(o,u){var m=o.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(_){Vn(o,u,_)}else m.current=null}function U0(o,u,m){try{m()}catch(_){Vn(o,u,_)}}var g1=!1;function Ib(o,u){if(ja=_r,o=Pn(),ei(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var _=m.getSelection&&m.getSelection();if(_&&_.rangeCount!==0){m=_.anchorNode;var C=_.anchorOffset,B=_.focusNode;_=_.focusOffset;try{m.nodeType,B.nodeType}catch{m=null;break e}var N=0,X=-1,ee=-1,Ae=0,Fe=0,Ue=o,De=null;t:for(;;){for(var it;Ue!==m||C!==0&&Ue.nodeType!==3||(X=N+C),Ue!==B||_!==0&&Ue.nodeType!==3||(ee=N+_),Ue.nodeType===3&&(N+=Ue.nodeValue.length),(it=Ue.firstChild)!==null;)De=Ue,Ue=it;for(;;){if(Ue===o)break t;if(De===m&&++Ae===C&&(X=N),De===B&&++Fe===_&&(ee=N),(it=Ue.nextSibling)!==null)break;Ue=De,De=Ue.parentNode}Ue=it}m=X===-1||ee===-1?null:{start:X,end:ee}}else m=null}m=m||{start:0,end:0}}else m=null;for(kh={focusedElem:o,selectionRange:m},_r=!1,ot=u;ot!==null;)if(u=ot,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,ot=o;else for(;ot!==null;){u=ot;try{var ut=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(ut!==null){var ht=ut.memoizedProps,Qn=ut.memoizedState,fe=u.stateNode,se=fe.getSnapshotBeforeUpdate(u.elementType===u.type?ht:Wr(u.type,ht),Qn);fe.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var me=u.stateNode.containerInfo;me.nodeType===1?me.textContent="":me.nodeType===9&&me.documentElement&&me.removeChild(me.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(We){Vn(u,u.return,We)}if(o=u.sibling,o!==null){o.return=u.return,ot=o;break}ot=u.return}return ut=g1,g1=!1,ut}function nd(o,u,m){var _=u.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var C=_=_.next;do{if((C.tag&o)===o){var B=C.destroy;C.destroy=void 0,B!==void 0&&U0(u,m,B)}C=C.next}while(C!==_)}}function mm(o,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var m=u=u.next;do{if((m.tag&o)===o){var _=m.create;m.destroy=_()}m=m.next}while(m!==u)}}function z0(o){var u=o.ref;if(u!==null){var m=o.stateNode;switch(o.tag){case 5:o=m;break;default:o=m}typeof u=="function"?u(o):u.current=o}}function y1(o){var u=o.alternate;u!==null&&(o.alternate=null,y1(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&(delete u[Kn],delete u[Ja],delete u[Jo],delete u[Xc],delete u[Kc])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function v1(o){return o.tag===5||o.tag===3||o.tag===4}function x1(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||v1(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function G0(o,u,m){var _=o.tag;if(_===5||_===6)o=o.stateNode,u?m.nodeType===8?m.parentNode.insertBefore(o,u):m.insertBefore(o,u):(m.nodeType===8?(u=m.parentNode,u.insertBefore(o,m)):(u=m,u.appendChild(o)),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=nu));else if(_!==4&&(o=o.child,o!==null))for(G0(o,u,m),o=o.sibling;o!==null;)G0(o,u,m),o=o.sibling}function H0(o,u,m){var _=o.tag;if(_===5||_===6)o=o.stateNode,u?m.insertBefore(o,u):m.appendChild(o);else if(_!==4&&(o=o.child,o!==null))for(H0(o,u,m),o=o.sibling;o!==null;)H0(o,u,m),o=o.sibling}var zi=null,Gs=!1;function sl(o,u,m){for(m=m.child;m!==null;)_1(o,u,m),m=m.sibling}function _1(o,u,m){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Pi,m)}catch{}switch(m.tag){case 5:qi||mf(m,u);case 6:var _=zi,C=Gs;zi=null,sl(o,u,m),zi=_,Gs=C,zi!==null&&(Gs?(o=zi,m=m.stateNode,o.nodeType===8?o.parentNode.removeChild(m):o.removeChild(m)):zi.removeChild(m.stateNode));break;case 18:zi!==null&&(Gs?(o=zi,m=m.stateNode,o.nodeType===8?Jc(o.parentNode,m):o.nodeType===1&&Jc(o,m),Wl(o)):Jc(zi,m.stateNode));break;case 4:_=zi,C=Gs,zi=m.stateNode.containerInfo,Gs=!0,sl(o,u,m),zi=_,Gs=C;break;case 0:case 11:case 14:case 15:if(!qi&&(_=m.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){C=_=_.next;do{var B=C,N=B.destroy;B=B.tag,N!==void 0&&((B&2)!==0||(B&4)!==0)&&U0(m,u,N),C=C.next}while(C!==_)}sl(o,u,m);break;case 1:if(!qi&&(mf(m,u),_=m.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=m.memoizedProps,_.state=m.memoizedState,_.componentWillUnmount()}catch(X){Vn(m,u,X)}sl(o,u,m);break;case 21:sl(o,u,m);break;case 22:m.mode&1?(qi=(_=qi)||m.memoizedState!==null,sl(o,u,m),qi=_):sl(o,u,m);break;default:sl(o,u,m)}}function A1(o){var u=o.updateQueue;if(u!==null){o.updateQueue=null;var m=o.stateNode;m===null&&(m=o.stateNode=new Lb),u.forEach(function(_){var C=Hb.bind(null,o,_);m.has(_)||(m.add(_),_.then(C,C))})}}function Hs(o,u){var m=u.deletions;if(m!==null)for(var _=0;_<m.length;_++){var C=m[_];try{var B=o,N=u,X=N;e:for(;X!==null;){switch(X.tag){case 5:zi=X.stateNode,Gs=!1;break e;case 3:zi=X.stateNode.containerInfo,Gs=!0;break e;case 4:zi=X.stateNode.containerInfo,Gs=!0;break e}X=X.return}if(zi===null)throw Error(t(160));_1(B,N,C),zi=null,Gs=!1;var ee=C.alternate;ee!==null&&(ee.return=null),C.return=null}catch(Ae){Vn(C,u,Ae)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)w1(u,o),u=u.sibling}function w1(o,u){var m=o.alternate,_=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Hs(u,o),So(o),_&4){try{nd(3,o,o.return),mm(3,o)}catch(ht){Vn(o,o.return,ht)}try{nd(5,o,o.return)}catch(ht){Vn(o,o.return,ht)}}break;case 1:Hs(u,o),So(o),_&512&&m!==null&&mf(m,m.return);break;case 5:if(Hs(u,o),So(o),_&512&&m!==null&&mf(m,m.return),o.flags&32){var C=o.stateNode;try{be(C,"")}catch(ht){Vn(o,o.return,ht)}}if(_&4&&(C=o.stateNode,C!=null)){var B=o.memoizedProps,N=m!==null?m.memoizedProps:B,X=o.type,ee=o.updateQueue;if(o.updateQueue=null,ee!==null)try{X==="input"&&B.type==="radio"&&B.name!=null&&Ke(C,B),Le(X,N);var Ae=Le(X,B);for(N=0;N<ee.length;N+=2){var Fe=ee[N],Ue=ee[N+1];Fe==="style"?xt(C,Ue):Fe==="dangerouslySetInnerHTML"?Ze(C,Ue):Fe==="children"?be(C,Ue):T(C,Fe,Ue,Ae)}switch(X){case"input":mt(C,B);break;case"textarea":xe(C,B);break;case"select":var De=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!B.multiple;var it=B.value;it!=null?Ot(C,!!B.multiple,it,!1):De!==!!B.multiple&&(B.defaultValue!=null?Ot(C,!!B.multiple,B.defaultValue,!0):Ot(C,!!B.multiple,B.multiple?[]:"",!1))}C[Ja]=B}catch(ht){Vn(o,o.return,ht)}}break;case 6:if(Hs(u,o),So(o),_&4){if(o.stateNode===null)throw Error(t(162));C=o.stateNode,B=o.memoizedProps;try{C.nodeValue=B}catch(ht){Vn(o,o.return,ht)}}break;case 3:if(Hs(u,o),So(o),_&4&&m!==null&&m.memoizedState.isDehydrated)try{Wl(u.containerInfo)}catch(ht){Vn(o,o.return,ht)}break;case 4:Hs(u,o),So(o);break;case 13:Hs(u,o),So(o),C=o.child,C.flags&8192&&(B=C.memoizedState!==null,C.stateNode.isHidden=B,!B||C.alternate!==null&&C.alternate.memoizedState!==null||(j0=It())),_&4&&A1(o);break;case 22:if(Fe=m!==null&&m.memoizedState!==null,o.mode&1?(qi=(Ae=qi)||Fe,Hs(u,o),qi=Ae):Hs(u,o),So(o),_&8192){if(Ae=o.memoizedState!==null,(o.stateNode.isHidden=Ae)&&!Fe&&(o.mode&1)!==0)for(ot=o,Fe=o.child;Fe!==null;){for(Ue=ot=Fe;ot!==null;){switch(De=ot,it=De.child,De.tag){case 0:case 11:case 14:case 15:nd(4,De,De.return);break;case 1:mf(De,De.return);var ut=De.stateNode;if(typeof ut.componentWillUnmount=="function"){_=De,m=De.return;try{u=_,ut.props=u.memoizedProps,ut.state=u.memoizedState,ut.componentWillUnmount()}catch(ht){Vn(_,m,ht)}}break;case 5:mf(De,De.return);break;case 22:if(De.memoizedState!==null){C1(Ue);continue}}it!==null?(it.return=De,ot=it):C1(Ue)}Fe=Fe.sibling}e:for(Fe=null,Ue=o;;){if(Ue.tag===5){if(Fe===null){Fe=Ue;try{C=Ue.stateNode,Ae?(B=C.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none"):(X=Ue.stateNode,ee=Ue.memoizedProps.style,N=ee!=null&&ee.hasOwnProperty("display")?ee.display:null,X.style.display=lt("display",N))}catch(ht){Vn(o,o.return,ht)}}}else if(Ue.tag===6){if(Fe===null)try{Ue.stateNode.nodeValue=Ae?"":Ue.memoizedProps}catch(ht){Vn(o,o.return,ht)}}else if((Ue.tag!==22&&Ue.tag!==23||Ue.memoizedState===null||Ue===o)&&Ue.child!==null){Ue.child.return=Ue,Ue=Ue.child;continue}if(Ue===o)break e;for(;Ue.sibling===null;){if(Ue.return===null||Ue.return===o)break e;Fe===Ue&&(Fe=null),Ue=Ue.return}Fe===Ue&&(Fe=null),Ue.sibling.return=Ue.return,Ue=Ue.sibling}}break;case 19:Hs(u,o),So(o),_&4&&A1(o);break;case 21:break;default:Hs(u,o),So(o)}}function So(o){var u=o.flags;if(u&2){try{e:{for(var m=o.return;m!==null;){if(v1(m)){var _=m;break e}m=m.return}throw Error(t(160))}switch(_.tag){case 5:var C=_.stateNode;_.flags&32&&(be(C,""),_.flags&=-33);var B=x1(o);H0(o,B,C);break;case 3:case 4:var N=_.stateNode.containerInfo,X=x1(o);G0(o,X,N);break;default:throw Error(t(161))}}catch(ee){Vn(o,o.return,ee)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function Db(o,u,m){ot=o,S1(o)}function S1(o,u,m){for(var _=(o.mode&1)!==0;ot!==null;){var C=ot,B=C.child;if(C.tag===22&&_){var N=C.memoizedState!==null||pm;if(!N){var X=C.alternate,ee=X!==null&&X.memoizedState!==null||qi;X=pm;var Ae=qi;if(pm=N,(qi=ee)&&!Ae)for(ot=C;ot!==null;)N=ot,ee=N.child,N.tag===22&&N.memoizedState!==null?E1(C):ee!==null?(ee.return=N,ot=ee):E1(C);for(;B!==null;)ot=B,S1(B),B=B.sibling;ot=C,pm=X,qi=Ae}M1(o)}else(C.subtreeFlags&8772)!==0&&B!==null?(B.return=C,ot=B):M1(o)}}function M1(o){for(;ot!==null;){var u=ot;if((u.flags&8772)!==0){var m=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:qi||mm(5,u);break;case 1:var _=u.stateNode;if(u.flags&4&&!qi)if(m===null)_.componentDidMount();else{var C=u.elementType===u.type?m.memoizedProps:Wr(u.type,m.memoizedProps);_.componentDidUpdate(C,m.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var B=u.updateQueue;B!==null&&Nn(u,B,_);break;case 3:var N=u.updateQueue;if(N!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=u.child.stateNode;break;case 1:m=u.child.stateNode}Nn(u,N,m)}break;case 5:var X=u.stateNode;if(m===null&&u.flags&4){m=X;var ee=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":ee.autoFocus&&m.focus();break;case"img":ee.src&&(m.src=ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Ae=u.alternate;if(Ae!==null){var Fe=Ae.memoizedState;if(Fe!==null){var Ue=Fe.dehydrated;Ue!==null&&Wl(Ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}qi||u.flags&512&&z0(u)}catch(De){Vn(u,u.return,De)}}if(u===o){ot=null;break}if(m=u.sibling,m!==null){m.return=u.return,ot=m;break}ot=u.return}}function C1(o){for(;ot!==null;){var u=ot;if(u===o){ot=null;break}var m=u.sibling;if(m!==null){m.return=u.return,ot=m;break}ot=u.return}}function E1(o){for(;ot!==null;){var u=ot;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{mm(4,u)}catch(ee){Vn(u,m,ee)}break;case 1:var _=u.stateNode;if(typeof _.componentDidMount=="function"){var C=u.return;try{_.componentDidMount()}catch(ee){Vn(u,C,ee)}}var B=u.return;try{z0(u)}catch(ee){Vn(u,B,ee)}break;case 5:var N=u.return;try{z0(u)}catch(ee){Vn(u,N,ee)}}}catch(ee){Vn(u,u.return,ee)}if(u===o){ot=null;break}var X=u.sibling;if(X!==null){X.return=u.return,ot=X;break}ot=u.return}}var Fb=Math.ceil,gm=R.ReactCurrentDispatcher,V0=R.ReactCurrentOwner,cs=R.ReactCurrentBatchConfig,on=0,Mi=null,li=null,Gi=0,Kr=0,gf=Ln(0),gi=0,id=null,yu=0,ym=0,W0=0,rd=null,Lr=null,j0=0,yf=1/0,ia=null,vm=!1,J0=null,ol=null,xm=!1,al=null,_m=0,sd=0,X0=null,Am=-1,wm=0;function ur(){return(on&6)!==0?It():Am!==-1?Am:Am=It()}function ll(o){return(o.mode&1)===0?1:(on&2)!==0&&Gi!==0?Gi&-Gi:F0.transition!==null?(wm===0&&(wm=xr()),wm):(o=nn,o!==0||(o=window.event,o=o===void 0?16:Up(o.type)),o)}function Vs(o,u,m,_){if(50<sd)throw sd=0,X0=null,Error(t(185));zl(o,m,_),((on&2)===0||o!==Mi)&&(o===Mi&&((on&2)===0&&(ym|=m),gi===4&&ul(o,Gi)),Ir(o,_),m===1&&on===0&&(u.mode&1)===0&&(yf=It()+500,su&&ss()))}function Ir(o,u){var m=o.callbackNode;mc(o,u);var _=Ul(o,o===Mi?Gi:0);if(_===0)m!==null&&Ai(m),o.callbackNode=null,o.callbackPriority=0;else if(u=_&-_,o.callbackPriority!==u){if(m!=null&&Ai(m),u===1)o.tag===0?$p(b1.bind(null,o)):ou(b1.bind(null,o)),D0(function(){(on&6)===0&&ss()}),m=null;else{switch(Ba(_)){case 1:m=ws;break;case 4:m=Tn;break;case 16:m=yr;break;case 536870912:m=tr;break;default:m=yr}m=N1(m,T1.bind(null,o))}o.callbackPriority=u,o.callbackNode=m}}function T1(o,u){if(Am=-1,wm=0,(on&6)!==0)throw Error(t(327));var m=o.callbackNode;if(vf()&&o.callbackNode!==m)return null;var _=Ul(o,o===Mi?Gi:0);if(_===0)return null;if((_&30)!==0||(_&o.expiredLanes)!==0||u)u=Sm(o,_);else{u=_;var C=on;on|=2;var B=B1();(Mi!==o||Gi!==u)&&(ia=null,yf=It()+500,xu(o,u));do try{Ob();break}catch(X){P1(o,X)}while(!0);Ya(),gm.current=B,on=C,li!==null?u=0:(Mi=null,Gi=0,u=gi)}if(u!==0){if(u===2&&(C=gc(o),C!==0&&(_=C,u=K0(o,C))),u===1)throw m=id,xu(o,0),ul(o,_),Ir(o,It()),m;if(u===6)ul(o,_);else{if(C=o.current.alternate,(_&30)===0&&!Nb(C)&&(u=Sm(o,_),u===2&&(B=gc(o),B!==0&&(_=B,u=K0(o,B))),u===1))throw m=id,xu(o,0),ul(o,_),Ir(o,It()),m;switch(o.finishedWork=C,o.finishedLanes=_,u){case 0:case 1:throw Error(t(345));case 2:_u(o,Lr,ia);break;case 3:if(ul(o,_),(_&130023424)===_&&(u=j0+500-It(),10<u)){if(Ul(o,0)!==0)break;if(C=o.suspendedLanes,(C&_)!==_){ur(),o.pingedLanes|=o.suspendedLanes&C;break}o.timeoutHandle=Uh(_u.bind(null,o,Lr,ia),u);break}_u(o,Lr,ia);break;case 4:if(ul(o,_),(_&4194240)===_)break;for(u=o.eventTimes,C=-1;0<_;){var N=31-Rn(_);B=1<<N,N=u[N],N>C&&(C=N),_&=~B}if(_=C,_=It()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*Fb(_/1960))-_,10<_){o.timeoutHandle=Uh(_u.bind(null,o,Lr,ia),_);break}_u(o,Lr,ia);break;case 5:_u(o,Lr,ia);break;default:throw Error(t(329))}}}return Ir(o,It()),o.callbackNode===m?T1.bind(null,o):null}function K0(o,u){var m=rd;return o.current.memoizedState.isDehydrated&&(xu(o,u).flags|=256),o=Sm(o,u),o!==2&&(u=Lr,Lr=m,u!==null&&Y0(u)),o}function Y0(o){Lr===null?Lr=o:Lr.push.apply(Lr,o)}function Nb(o){for(var u=o;;){if(u.flags&16384){var m=u.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var _=0;_<m.length;_++){var C=m[_],B=C.getSnapshot;C=C.value;try{if(!ir(B(),C))return!1}catch{return!1}}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function ul(o,u){for(u&=~W0,u&=~ym,o.suspendedLanes|=u,o.pingedLanes&=~u,o=o.expirationTimes;0<u;){var m=31-Rn(u),_=1<<m;o[m]=-1,u&=~_}}function b1(o){if((on&6)!==0)throw Error(t(327));vf();var u=Ul(o,0);if((u&1)===0)return Ir(o,It()),null;var m=Sm(o,u);if(o.tag!==0&&m===2){var _=gc(o);_!==0&&(u=_,m=K0(o,_))}if(m===1)throw m=id,xu(o,0),ul(o,u),Ir(o,It()),m;if(m===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=u,_u(o,Lr,ia),Ir(o,It()),null}function Q0(o,u){var m=on;on|=1;try{return o(u)}finally{on=m,on===0&&(yf=It()+500,su&&ss())}}function vu(o){al!==null&&al.tag===0&&(on&6)===0&&vf();var u=on;on|=1;var m=cs.transition,_=nn;try{if(cs.transition=null,nn=1,o)return o()}finally{nn=_,cs.transition=m,on=u,(on&6)===0&&ss()}}function q0(){Kr=gf.current,gn(gf)}function xu(o,u){o.finishedWork=null,o.finishedLanes=0;var m=o.timeoutHandle;if(m!==-1&&(o.timeoutHandle=-1,zh(m)),li!==null)for(m=li.return;m!==null;){var _=m;switch(Ns(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&iu();break;case 3:as(),gn(Ii),gn(pi),Yi();break;case 5:tl(_);break;case 4:as();break;case 13:gn(yn);break;case 19:gn(yn);break;case 10:Qa(_.type._context);break;case 22:case 23:q0()}m=m.return}if(Mi=o,li=o=cl(o.current,null),Gi=Kr=u,gi=0,id=null,W0=ym=yu=0,Lr=rd=null,jr!==null){for(u=0;u<jr.length;u++)if(m=jr[u],_=m.interleaved,_!==null){m.interleaved=null;var C=_.next,B=m.pending;if(B!==null){var N=B.next;B.next=C,_.next=N}m.pending=_}jr=null}return o}function P1(o,u){do{var m=li;try{if(Ya(),ta.current=c,Xr){for(var _=xn.memoizedState;_!==null;){var C=_.queue;C!==null&&(C.pending=null),_=_.next}Xr=!1}if(xo=0,ai=kn=xn=null,nl=!1,il=0,V0.current=null,m===null||m.return===null){gi=1,id=u,li=null;break}e:{var B=o,N=m.return,X=m,ee=u;if(u=Gi,X.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var Ae=ee,Fe=X,Ue=Fe.tag;if((Fe.mode&1)===0&&(Ue===0||Ue===11||Ue===15)){var De=Fe.alternate;De?(Fe.updateQueue=De.updateQueue,Fe.memoizedState=De.memoizedState,Fe.lanes=De.lanes):(Fe.updateQueue=null,Fe.memoizedState=null)}var it=Dt(N);if(it!==null){it.flags&=-257,wt(it,N,X,B,u),it.mode&1&&st(B,Ae,u),u=it,ee=Ae;var ut=u.updateQueue;if(ut===null){var ht=new Set;ht.add(ee),u.updateQueue=ht}else ut.add(ee);break e}else{if((u&1)===0){st(B,Ae,u),Z0();break e}ee=Error(t(426))}}else if(vn&&X.mode&1){var Qn=Dt(N);if(Qn!==null){(Qn.flags&65536)===0&&(Qn.flags|=256),wt(Qn,N,X,B,u),Ka(P(ee,X));break e}}B=ee=P(ee,X),gi!==4&&(gi=2),rd===null?rd=[B]:rd.push(B),B=N;do{switch(B.tag){case 3:B.flags|=65536,u&=-u,B.lanes|=u;var fe=Ce(B,ee,u);Gt(B,fe);break e;case 1:X=ee;var se=B.type,me=B.stateNode;if((B.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||me!==null&&typeof me.componentDidCatch=="function"&&(ol===null||!ol.has(me)))){B.flags|=65536,u&=-u,B.lanes|=u;var We=Ve(B,X,u);Gt(B,We);break e}}B=B.return}while(B!==null)}L1(m)}catch(vt){u=vt,li===m&&m!==null&&(li=m=m.return);continue}break}while(!0)}function B1(){var o=gm.current;return gm.current=c,o===null?c:o}function Z0(){(gi===0||gi===3||gi===2)&&(gi=4),Mi===null||(yu&268435455)===0&&(ym&268435455)===0||ul(Mi,Gi)}function Sm(o,u){var m=on;on|=2;var _=B1();(Mi!==o||Gi!==u)&&(ia=null,xu(o,u));do try{kb();break}catch(C){P1(o,C)}while(!0);if(Ya(),on=m,gm.current=_,li!==null)throw Error(t(261));return Mi=null,Gi=0,gi}function kb(){for(;li!==null;)R1(li)}function Ob(){for(;li!==null&&!Or();)R1(li)}function R1(o){var u=F1(o.alternate,o,Kr);o.memoizedProps=o.pendingProps,u===null?L1(o):li=u,V0.current=null}function L1(o){var u=o;do{var m=u.alternate;if(o=u.return,(u.flags&32768)===0){if(m=Bb(m,u,Kr),m!==null){li=m;return}}else{if(m=Rb(m,u),m!==null){m.flags&=32767,li=m;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{gi=6,li=null;return}}if(u=u.sibling,u!==null){li=u;return}li=u=o}while(u!==null);gi===0&&(gi=5)}function _u(o,u,m){var _=nn,C=cs.transition;try{cs.transition=null,nn=1,Ub(o,u,m,_)}finally{cs.transition=C,nn=_}return null}function Ub(o,u,m,_){do vf();while(al!==null);if((on&6)!==0)throw Error(t(327));m=o.finishedWork;var C=o.finishedLanes;if(m===null)return null;if(o.finishedWork=null,o.finishedLanes=0,m===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var B=m.lanes|m.childLanes;if(B0(o,B),o===Mi&&(li=Mi=null,Gi=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||xm||(xm=!0,N1(yr,function(){return vf(),null})),B=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||B){B=cs.transition,cs.transition=null;var N=nn;nn=1;var X=on;on|=4,V0.current=null,Ib(o,m),w1(m,o),ti(kh),_r=!!ja,kh=ja=null,o.current=m,Db(m),As(),on=X,nn=N,cs.transition=B}else o.current=m;if(xm&&(xm=!1,al=o,_m=C),B=o.pendingLanes,B===0&&(ol=null),Zt(m.stateNode),Ir(o,It()),u!==null)for(_=o.onRecoverableError,m=0;m<u.length;m++)C=u[m],_(C.value,{componentStack:C.stack,digest:C.digest});if(vm)throw vm=!1,o=J0,J0=null,o;return(_m&1)!==0&&o.tag!==0&&vf(),B=o.pendingLanes,(B&1)!==0?o===X0?sd++:(sd=0,X0=o):sd=0,ss(),null}function vf(){if(al!==null){var o=Ba(_m),u=cs.transition,m=nn;try{if(cs.transition=null,nn=16>o?16:o,al===null)var _=!1;else{if(o=al,al=null,_m=0,(on&6)!==0)throw Error(t(331));var C=on;for(on|=4,ot=o.current;ot!==null;){var B=ot,N=B.child;if((ot.flags&16)!==0){var X=B.deletions;if(X!==null){for(var ee=0;ee<X.length;ee++){var Ae=X[ee];for(ot=Ae;ot!==null;){var Fe=ot;switch(Fe.tag){case 0:case 11:case 15:nd(8,Fe,B)}var Ue=Fe.child;if(Ue!==null)Ue.return=Fe,ot=Ue;else for(;ot!==null;){Fe=ot;var De=Fe.sibling,it=Fe.return;if(y1(Fe),Fe===Ae){ot=null;break}if(De!==null){De.return=it,ot=De;break}ot=it}}}var ut=B.alternate;if(ut!==null){var ht=ut.child;if(ht!==null){ut.child=null;do{var Qn=ht.sibling;ht.sibling=null,ht=Qn}while(ht!==null)}}ot=B}}if((B.subtreeFlags&2064)!==0&&N!==null)N.return=B,ot=N;else e:for(;ot!==null;){if(B=ot,(B.flags&2048)!==0)switch(B.tag){case 0:case 11:case 15:nd(9,B,B.return)}var fe=B.sibling;if(fe!==null){fe.return=B.return,ot=fe;break e}ot=B.return}}var se=o.current;for(ot=se;ot!==null;){N=ot;var me=N.child;if((N.subtreeFlags&2064)!==0&&me!==null)me.return=N,ot=me;else e:for(N=se;ot!==null;){if(X=ot,(X.flags&2048)!==0)try{switch(X.tag){case 0:case 11:case 15:mm(9,X)}}catch(vt){Vn(X,X.return,vt)}if(X===N){ot=null;break e}var We=X.sibling;if(We!==null){We.return=X.return,ot=We;break e}ot=X.return}}if(on=C,ss(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Pi,o)}catch{}_=!0}return _}finally{nn=m,cs.transition=u}}return!1}function I1(o,u,m){u=P(m,u),u=Ce(o,u,1),o=os(o,u,1),u=ur(),o!==null&&(zl(o,1,u),Ir(o,u))}function Vn(o,u,m){if(o.tag===3)I1(o,o,m);else for(;u!==null;){if(u.tag===3){I1(u,o,m);break}else if(u.tag===1){var _=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(ol===null||!ol.has(_))){o=P(m,o),o=Ve(u,o,1),u=os(u,o,1),o=ur(),u!==null&&(zl(u,1,o),Ir(u,o));break}}u=u.return}}function zb(o,u,m){var _=o.pingCache;_!==null&&_.delete(u),u=ur(),o.pingedLanes|=o.suspendedLanes&m,Mi===o&&(Gi&m)===m&&(gi===4||gi===3&&(Gi&130023424)===Gi&&500>It()-j0?xu(o,0):W0|=m),Ir(o,u)}function D1(o,u){u===0&&((o.mode&1)===0?u=1:(u=hi,hi<<=1,(hi&130023424)===0&&(hi=4194304)));var m=ur();o=Jr(o,u),o!==null&&(zl(o,u,m),Ir(o,m))}function Gb(o){var u=o.memoizedState,m=0;u!==null&&(m=u.retryLane),D1(o,m)}function Hb(o,u){var m=0;switch(o.tag){case 13:var _=o.stateNode,C=o.memoizedState;C!==null&&(m=C.retryLane);break;case 19:_=o.stateNode;break;default:throw Error(t(314))}_!==null&&_.delete(u),D1(o,m)}var F1;F1=function(o,u,m){if(o!==null)if(o.memoizedProps!==u.pendingProps||Ii.current)tt=!0;else{if((o.lanes&m)===0&&(u.flags&128)===0)return tt=!1,Pb(o,u,m);tt=(o.flags&131072)!==0}else tt=!1,vn&&(u.flags&1048576)!==0&&jh(u,Zc,u.index);switch(u.lanes=0,u.tag){case 2:var _=u.type;dm(o,u),o=u.pendingProps;var C=Xo(u,pi.current);ks(u,m),C=lf(null,u,_,o,C,m);var B=fu();return u.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,wi(_)?(B=!0,Ko(u)):B=!1,u.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,cu(u),C.updater=Us,u.stateNode=C,C._reactInternals=u,$a(u,_,o,m),u=Bt(null,u,_,!0,B,m)):(u.tag=0,vn&&B&&Jh(u),ln(null,u,C,m),u=u.child),u;case 16:_=u.elementType;e:{switch(dm(o,u),o=u.pendingProps,C=_._init,_=C(_._payload),u.type=_,C=u.tag=Wb(_),o=Wr(_,o),C){case 0:u=ft(null,u,_,o,m);break e;case 1:u=Nt(null,u,_,o,m);break e;case 11:u=lr(null,u,_,o,m);break e;case 14:u=ye(null,u,_,Wr(_.type,o),m);break e}throw Error(t(306,_,""))}return u;case 0:return _=u.type,C=u.pendingProps,C=u.elementType===_?C:Wr(_,C),ft(o,u,_,C,m);case 1:return _=u.type,C=u.pendingProps,C=u.elementType===_?C:Wr(_,C),Nt(o,u,_,C,m);case 3:e:{if(en(u),o===null)throw Error(t(387));_=u.pendingProps,B=u.memoizedState,C=B.element,em(o,u),Bn(u,_,null,m);var N=u.memoizedState;if(_=N.element,B.isDehydrated)if(B={element:_,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},u.updateQueue.baseState=B,u.memoizedState=B,u.flags&256){C=P(Error(t(423)),u),u=Yn(o,u,_,m,C);break e}else if(_!==C){C=P(Error(t(424)),u),u=Yn(o,u,_,m,C);break e}else for(Fi=Rs(u.stateNode.containerInfo.firstChild),mi=u,vn=!0,Tr=null,m=ea(u,null,_,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(po(),_===C){u=na(o,u,m);break e}ln(o,u,_,m)}u=u.child}return u;case 5:return of(u),o===null&&ef(u),_=u.type,C=u.pendingProps,B=o!==null?o.memoizedProps:null,N=C.children,Oh(_,C)?N=null:B!==null&&Oh(_,B)&&(u.flags|=32),$e(o,u),ln(o,u,N,m),u.child;case 6:return o===null&&ef(u),null;case 13:return fm(o,u,m);case 4:return el(u,u.stateNode.containerInfo),_=u.pendingProps,o===null?u.child=go(u,null,_,m):ln(o,u,_,m),u.child;case 11:return _=u.type,C=u.pendingProps,C=u.elementType===_?C:Wr(_,C),lr(o,u,_,C,m);case 7:return ln(o,u,u.pendingProps,m),u.child;case 8:return ln(o,u,u.pendingProps.children,m),u.child;case 12:return ln(o,u,u.pendingProps.children,m),u.child;case 10:e:{if(_=u.type._context,C=u.pendingProps,B=u.memoizedProps,N=C.value,hn(au,_._currentValue),_._currentValue=N,B!==null)if(ir(B.value,N)){if(B.children===C.children&&!Ii.current){u=na(o,u,m);break e}}else for(B=u.child,B!==null&&(B.return=u);B!==null;){var X=B.dependencies;if(X!==null){N=B.child;for(var ee=X.firstContext;ee!==null;){if(ee.context===_){if(B.tag===1){ee=br(-1,m&-m),ee.tag=2;var Ae=B.updateQueue;if(Ae!==null){Ae=Ae.shared;var Fe=Ae.pending;Fe===null?ee.next=ee:(ee.next=Fe.next,Fe.next=ee),Ae.pending=ee}}B.lanes|=m,ee=B.alternate,ee!==null&&(ee.lanes|=m),qa(B.return,m,u),X.lanes|=m;break}ee=ee.next}}else if(B.tag===10)N=B.type===u.type?null:B.child;else if(B.tag===18){if(N=B.return,N===null)throw Error(t(341));N.lanes|=m,X=N.alternate,X!==null&&(X.lanes|=m),qa(N,m,u),N=B.sibling}else N=B.child;if(N!==null)N.return=B;else for(N=B;N!==null;){if(N===u){N=null;break}if(B=N.sibling,B!==null){B.return=N.return,N=B;break}N=N.return}B=N}ln(o,u,C.children,m),u=u.child}return u;case 9:return C=u.type,_=u.pendingProps.children,ks(u,m),C=Ni(C),_=_(C),u.flags|=1,ln(o,u,_,m),u.child;case 14:return _=u.type,C=Wr(_,u.pendingProps),C=Wr(_.type,C),ye(o,u,_,C,m);case 15:return ue(o,u,u.type,u.pendingProps,m);case 17:return _=u.type,C=u.pendingProps,C=u.elementType===_?C:Wr(_,C),dm(o,u),u.tag=1,wi(_)?(o=!0,Ko(u)):o=!1,ks(u,m),Za(u,_,C),$a(u,_,C,m),Bt(null,u,_,!0,o,m);case 19:return h1(o,u,m);case 22:return Se(o,u,m)}throw Error(t(156,u.tag))};function N1(o,u){return En(o,u)}function Vb(o,u,m,_){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fs(o,u,m,_){return new Vb(o,u,m,_)}function $0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Wb(o){if(typeof o=="function")return $0(o)?1:0;if(o!=null){if(o=o.$$typeof,o===he)return 11;if(o===ce)return 14}return 2}function cl(o,u){var m=o.alternate;return m===null?(m=fs(o.tag,u,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=u,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&14680064,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,u=o.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m}function Mm(o,u,m,_,C,B){var N=2;if(_=o,typeof o=="function")$0(o)&&(N=1);else if(typeof o=="string")N=5;else e:switch(o){case z:return Au(m.children,C,B,u);case D:N=8,C|=8;break;case O:return o=fs(12,m,u,C|2),o.elementType=O,o.lanes=B,o;case ie:return o=fs(13,m,u,C),o.elementType=ie,o.lanes=B,o;case $:return o=fs(19,m,u,C),o.elementType=$,o.lanes=B,o;case ve:return Cm(m,C,B,u);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case G:N=10;break e;case Y:N=9;break e;case he:N=11;break e;case ce:N=14;break e;case ge:N=16,_=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return u=fs(N,m,u,C),u.elementType=o,u.type=_,u.lanes=B,u}function Au(o,u,m,_){return o=fs(7,o,_,u),o.lanes=m,o}function Cm(o,u,m,_){return o=fs(22,o,_,u),o.elementType=ve,o.lanes=m,o.stateNode={isHidden:!1},o}function ey(o,u,m){return o=fs(6,o,null,u),o.lanes=m,o}function ty(o,u,m){return u=fs(4,o.children!==null?o.children:[],o.key,u),u.lanes=m,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}function jb(o,u,m,_,C){this.tag=u,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xh(0),this.expirationTimes=xh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xh(0),this.identifierPrefix=_,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function ny(o,u,m,_,C,B,N,X,ee){return o=new jb(o,u,m,X,ee),u===1?(u=1,B===!0&&(u|=8)):u=0,B=fs(3,null,null,u),o.current=B,B.stateNode=o,B.memoizedState={element:_,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},cu(B),o}function Jb(o,u,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:_==null?null:""+_,children:o,containerInfo:u,implementation:m}}function k1(o){if(!o)return Is;o=o._reactInternals;e:{if(Mt(o)!==o||o.tag!==1)throw Error(t(170));var u=o;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(wi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(t(171))}if(o.tag===1){var m=o.type;if(wi(m))return ru(o,m,u)}return u}function O1(o,u,m,_,C,B,N,X,ee){return o=ny(m,_,!0,o,C,B,N,X,ee),o.context=k1(null),m=o.current,_=ur(),C=ll(m),B=br(_,C),B.callback=u??null,os(m,B,C),o.current.lanes=C,zl(o,C,_),Ir(o,_),o}function Em(o,u,m,_){var C=u.current,B=ur(),N=ll(C);return m=k1(m),u.context===null?u.context=m:u.pendingContext=m,u=br(B,N),u.payload={element:o},_=_===void 0?null:_,_!==null&&(u.callback=_),o=os(C,u,N),o!==null&&(Vs(o,C,N,B),wn(o,C,N)),N}function Tm(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function U1(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<u?m:u}}function iy(o,u){U1(o,u),(o=o.alternate)&&U1(o,u)}function Xb(){return null}var z1=typeof reportError=="function"?reportError:function(o){console.error(o)};function ry(o){this._internalRoot=o}bm.prototype.render=ry.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(t(409));Em(o,u,null,null)},bm.prototype.unmount=ry.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;vu(function(){Em(null,o,null,null)}),u[sr]=null}};function bm(o){this._internalRoot=o}bm.prototype.unstable_scheduleHydration=function(o){if(o){var u=yc();o={blockedOn:null,target:o,priority:u};for(var m=0;m<so.length&&u!==0&&u<so[m].priority;m++);so.splice(m,0,o),m===0&&_c(o)}};function sy(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Pm(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function G1(){}function Kb(o,u,m,_,C){if(C){if(typeof _=="function"){var B=_;_=function(){var Ae=Tm(N);B.call(Ae)}}var N=O1(u,_,o,0,null,!1,!1,"",G1);return o._reactRootContainer=N,o[sr]=N.current,Va(o.nodeType===8?o.parentNode:o),vu(),N}for(;C=o.lastChild;)o.removeChild(C);if(typeof _=="function"){var X=_;_=function(){var Ae=Tm(ee);X.call(Ae)}}var ee=ny(o,0,!1,null,null,!1,!1,"",G1);return o._reactRootContainer=ee,o[sr]=ee.current,Va(o.nodeType===8?o.parentNode:o),vu(function(){Em(u,ee,m,_)}),ee}function Bm(o,u,m,_,C){var B=m._reactRootContainer;if(B){var N=B;if(typeof C=="function"){var X=C;C=function(){var ee=Tm(N);X.call(ee)}}Em(u,N,o,C)}else N=Kb(m,u,o,C,_);return Tm(N)}Gl=function(o){switch(o.tag){case 3:var u=o.stateNode;if(u.current.memoizedState.isDehydrated){var m=ro(u.pendingLanes);m!==0&&(Pa(u,m|1),Ir(u,It()),(on&6)===0&&(yf=It()+500,ss()))}break;case 13:vu(function(){var _=Jr(o,1);if(_!==null){var C=ur();Vs(_,o,1,C)}}),iy(o,1)}},_h=function(o){if(o.tag===13){var u=Jr(o,134217728);if(u!==null){var m=ur();Vs(u,o,134217728,m)}iy(o,134217728)}},Op=function(o){if(o.tag===13){var u=ll(o),m=Jr(o,u);if(m!==null){var _=ur();Vs(m,o,u,_)}iy(o,u)}},yc=function(){return nn},vc=function(o,u){var m=nn;try{return nn=o,u()}finally{nn=m}},_e=function(o,u,m){switch(u){case"input":if(mt(o,m),u=m.name,m.type==="radio"&&u!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<m.length;u++){var _=m[u];if(_!==o&&_.form===o.form){var C=Yc(_);if(!C)throw Error(t(90));Ee(_),mt(_,C)}}}break;case"textarea":xe(o,m);break;case"select":u=m.value,u!=null&&Ot(o,!!m.multiple,u,!1)}},fn=Q0,fi=vu;var Yb={usingClientEntryPoint:!1,Events:[Ls,Fn,Yc,jt,tn,Q0]},od={findFiberByHostInstance:ho,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Qb={bundleType:od.bundleType,version:od.version,rendererPackageName:od.rendererPackageName,rendererConfig:od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Jt(o),o===null?null:o.stateNode},findFiberByHostInstance:od.findFiberByHostInstance||Xb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rm.isDisabled&&Rm.supportsFiber)try{Pi=Rm.inject(Qb),Ct=Rm}catch{}}return Dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yb,Dr.createPortal=function(o,u){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sy(u))throw Error(t(200));return Jb(o,u,null,m)},Dr.createRoot=function(o,u){if(!sy(o))throw Error(t(299));var m=!1,_="",C=z1;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(C=u.onRecoverableError)),u=ny(o,1,!1,null,null,m,!1,_,C),o[sr]=u.current,Va(o.nodeType===8?o.parentNode:o),new ry(u)},Dr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=Jt(u),o=o===null?null:o.stateNode,o},Dr.flushSync=function(o){return vu(o)},Dr.hydrate=function(o,u,m){if(!Pm(u))throw Error(t(200));return Bm(null,o,u,!0,m)},Dr.hydrateRoot=function(o,u,m){if(!sy(o))throw Error(t(405));var _=m!=null&&m.hydratedSources||null,C=!1,B="",N=z1;if(m!=null&&(m.unstable_strictMode===!0&&(C=!0),m.identifierPrefix!==void 0&&(B=m.identifierPrefix),m.onRecoverableError!==void 0&&(N=m.onRecoverableError)),u=O1(u,null,o,1,m??null,C,!1,B,N),o[sr]=u.current,Va(o),_)for(o=0;o<_.length;o++)m=_[o],C=m._getVersion,C=C(m._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[m,C]:u.mutableSourceEagerHydrationData.push(m,C);return new bm(u)},Dr.render=function(o,u,m){if(!Pm(u))throw Error(t(200));return Bm(null,o,u,!1,m)},Dr.unmountComponentAtNode=function(o){if(!Pm(o))throw Error(t(40));return o._reactRootContainer?(vu(function(){Bm(null,null,o,!1,function(){o._reactRootContainer=null,o[sr]=null})}),!0):!1},Dr.unstable_batchedUpdates=Q0,Dr.unstable_renderSubtreeIntoContainer=function(o,u,m,_){if(!Pm(m))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return Bm(o,u,m,!1,_)},Dr.version="18.2.0-next-9e3b772b8-20220608",Dr}var Y1;function CM(){if(Y1)return ly.exports;Y1=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ly.exports=o2(),ly.exports}var Q1;function a2(){if(Q1)return Lm;Q1=1;var i=CM();return Lm.createRoot=i.createRoot,Lm.hydrateRoot=i.hydrateRoot,Lm}var EM=a2();CM();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hd(){return Hd=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},Hd.apply(this,arguments)}var zu;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(zu||(zu={}));const q1="popstate";function l2(i){i===void 0&&(i={});function e(n,r){let{pathname:s,search:a,hash:l}=n.location;return Tv("",{pathname:s,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(n,r){return typeof r=="string"?r:Ug(r)}return c2(e,t,null,i)}function Qs(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function u2(){return Math.random().toString(36).substr(2,8)}function Z1(i,e){return{usr:i.state,key:i.key,idx:e}}function Tv(i,e,t,n){return t===void 0&&(t=null),Hd({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?n0(e):e,{state:t,key:e&&e.key||n||u2()})}function Ug(i){let{pathname:e="/",search:t="",hash:n=""}=i;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function n0(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substr(t),i=i.substr(0,t));let n=i.indexOf("?");n>=0&&(e.search=i.substr(n),i=i.substr(0,n)),i&&(e.pathname=i)}return e}function c2(i,e,t,n){n===void 0&&(n={});let{window:r=document.defaultView,v5Compat:s=!1}=n,a=r.history,l=zu.Pop,f=null,d=p();d==null&&(d=0,a.replaceState(Hd({},a.state,{idx:d}),""));function p(){return(a.state||{idx:null}).idx}function g(){l=zu.Pop;let S=p(),E=S==null?null:S-d;d=S,f&&f({action:l,location:w.location,delta:E})}function y(S,E){l=zu.Push;let b=Tv(w.location,S,E);d=p()+1;let T=Z1(b,d),R=w.createHref(b);try{a.pushState(T,"",R)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;r.location.assign(R)}s&&f&&f({action:l,location:w.location,delta:1})}function x(S,E){l=zu.Replace;let b=Tv(w.location,S,E);d=p();let T=Z1(b,d),R=w.createHref(b);a.replaceState(T,"",R),s&&f&&f({action:l,location:w.location,delta:0})}function A(S){let E=r.location.origin!=="null"?r.location.origin:r.location.href,b=typeof S=="string"?S:Ug(S);return b=b.replace(/ $/,"%20"),Qs(E,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,E)}let w={get action(){return l},get location(){return i(r,a)},listen(S){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(q1,g),f=S,()=>{r.removeEventListener(q1,g),f=null}},createHref(S){return e(r,S)},createURL:A,encodeLocation(S){let E=A(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:x,go(S){return a.go(S)}};return w}var $1;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})($1||($1={}));function TM(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=i.charAt(t);return n&&n!=="/"?null:i.slice(t)||"/"}function f2(i,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:r=""}=typeof i=="string"?n0(i):i;return{pathname:t?t.startsWith("/")?t:h2(t,e):e,search:p2(n),hash:m2(r)}}function h2(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function fy(i,e,t,n){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function d2(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function bM(i,e){let t=d2(i);return e?t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function PM(i,e,t,n){n===void 0&&(n=!1);let r;typeof i=="string"?r=n0(i):(r=Hd({},i),Qs(!r.pathname||!r.pathname.includes("?"),fy("?","pathname","search",r)),Qs(!r.pathname||!r.pathname.includes("#"),fy("#","pathname","hash",r)),Qs(!r.search||!r.search.includes("#"),fy("#","search","hash",r)));let s=i===""||r.pathname==="",a=s?"/":r.pathname,l;if(a==null)l=t;else{let g=e.length-1;if(!n&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),g-=1;r.pathname=y.join("/")}l=g>=0?e[g]:"/"}let f=f2(r,l),d=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||p)&&(f.pathname+="/"),f}const BM=i=>i.join("/").replace(/\/\/+/g,"/"),p2=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,m2=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,RM=["post","put","patch","delete"];new Set(RM);const g2=["get",...RM];new Set(g2);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zg(){return zg=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},zg.apply(this,arguments)}const LM=Z.createContext(null),uh=Z.createContext(null),zx=Z.createContext(null),i0=Z.createContext({outlet:null,matches:[],isDataRoute:!1});function y2(i,e){let{relative:t}=e===void 0?{}:e;r0()||Qs(!1);let{basename:n,navigator:r}=Z.useContext(uh),{hash:s,pathname:a,search:l}=DM(i,{relative:t}),f=a;return n!=="/"&&(f=a==="/"?n:BM([n,a])),r.createHref({pathname:f,search:l,hash:s})}function r0(){return Z.useContext(zx)!=null}function Gx(){return r0()||Qs(!1),Z.useContext(zx).location}function IM(i){Z.useContext(uh).static||Z.useLayoutEffect(i)}function v2(){let{isDataRoute:i}=Z.useContext(i0);return i?S2():x2()}function x2(){r0()||Qs(!1);let i=Z.useContext(LM),{basename:e,future:t,navigator:n}=Z.useContext(uh),{matches:r}=Z.useContext(i0),{pathname:s}=Gx(),a=JSON.stringify(bM(r,t.v7_relativeSplatPath)),l=Z.useRef(!1);return IM(()=>{l.current=!0}),Z.useCallback(function(d,p){if(p===void 0&&(p={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let g=PM(d,JSON.parse(a),s,p.relative==="path");i==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:BM([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,s,i])}function DM(i,e){let{relative:t}=e===void 0?{}:e,{future:n}=Z.useContext(uh),{matches:r}=Z.useContext(i0),{pathname:s}=Gx(),a=JSON.stringify(bM(r,n.v7_relativeSplatPath));return Z.useMemo(()=>PM(i,JSON.parse(a),s,t==="path"),[i,a,s,t])}var FM=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(FM||{}),NM=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(NM||{});function _2(i){let e=Z.useContext(LM);return e||Qs(!1),e}function A2(i){let e=Z.useContext(i0);return e||Qs(!1),e}function w2(i){let e=A2(),t=e.matches[e.matches.length-1];return t.route.id||Qs(!1),t.route.id}function S2(){let{router:i}=_2(FM.UseNavigateStable),e=w2(NM.UseNavigateStable),t=Z.useRef(!1);return IM(()=>{t.current=!0}),Z.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?i.navigate(r):i.navigate(r,zg({fromRouteId:e},s)))},[i,e])}function M2(i,e){i==null||i.v7_startTransition,i==null||i.v7_relativeSplatPath}function C2(i){let{basename:e="/",children:t=null,location:n,navigationType:r=zu.Pop,navigator:s,static:a=!1,future:l}=i;r0()&&Qs(!1);let f=e.replace(/^\/*/,"/"),d=Z.useMemo(()=>({basename:f,navigator:s,static:a,future:zg({v7_relativeSplatPath:!1},l)}),[f,l,s,a]);typeof n=="string"&&(n=n0(n));let{pathname:p="/",search:g="",hash:y="",state:x=null,key:A="default"}=n,w=Z.useMemo(()=>{let S=TM(p,f);return S==null?null:{location:{pathname:S,search:g,hash:y,state:x,key:A},navigationType:r}},[f,p,g,y,x,A,r]);return w==null?null:Z.createElement(uh.Provider,{value:d},Z.createElement(zx.Provider,{children:t,value:w}))}new Promise(()=>{});/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bv(){return bv=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},bv.apply(this,arguments)}function E2(i,e){if(i==null)return{};var t={},n=Object.keys(i),r,s;for(s=0;s<n.length;s++)r=n[s],!(e.indexOf(r)>=0)&&(t[r]=i[r]);return t}function T2(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function b2(i,e){return i.button===0&&(!e||e==="_self")&&!T2(i)}const P2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],B2="6";try{window.__reactRouterVersion=B2}catch{}const R2="startTransition",eA=i2[R2];function L2(i){let{basename:e,children:t,future:n,window:r}=i,s=Z.useRef();s.current==null&&(s.current=l2({window:r,v5Compat:!0}));let a=s.current,[l,f]=Z.useState({action:a.action,location:a.location}),{v7_startTransition:d}=n||{},p=Z.useCallback(g=>{d&&eA?eA(()=>f(g)):f(g)},[f,d]);return Z.useLayoutEffect(()=>a.listen(p),[a,p]),Z.useEffect(()=>M2(n),[n]),Z.createElement(C2,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a,future:n})}const I2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",D2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F2=Z.forwardRef(function(e,t){let{onClick:n,relative:r,reloadDocument:s,replace:a,state:l,target:f,to:d,preventScrollReset:p,viewTransition:g}=e,y=E2(e,P2),{basename:x}=Z.useContext(uh),A,w=!1;if(typeof d=="string"&&D2.test(d)&&(A=d,I2))try{let T=new URL(window.location.href),R=d.startsWith("//")?new URL(T.protocol+d):new URL(d),I=TM(R.pathname,x);R.origin===T.origin&&I!=null?d=I+R.search+R.hash:w=!0}catch{}let S=y2(d,{relative:r}),E=N2(d,{replace:a,state:l,target:f,preventScrollReset:p,relative:r,viewTransition:g});function b(T){n&&n(T),T.defaultPrevented||E(T)}return Z.createElement("a",bv({},y,{href:A||S,onClick:w||s?n:b,ref:t,target:f}))});var tA;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(tA||(tA={}));var nA;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(nA||(nA={}));function N2(i,e){let{target:t,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l}=e===void 0?{}:e,f=v2(),d=Gx(),p=DM(i,{relative:a});return Z.useCallback(g=>{if(b2(g,t)){g.preventDefault();let y=n!==void 0?n:Ug(d)===Ug(p);f(i,{replace:y,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[d,f,p,n,r,t,i,s,a,l])}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const ch="149",Iu={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Du={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},kM=0,Pv=1,OM=2,k2=3,UM=0,s0=1,Rd=2,Gu=3,To=0,Nr=1,Ys=2,O2=2,va=0,Yu=1,Bv=2,Rv=3,Lv=4,zM=5,Ou=100,GM=101,HM=102,Iv=103,Dv=104,VM=200,WM=201,jM=202,JM=203,Hx=204,Vx=205,XM=206,KM=207,YM=208,QM=209,qM=210,ZM=0,$M=1,eC=2,Gg=3,tC=4,nC=5,iC=6,rC=7,ap=0,sC=1,oC=2,qs=0,aC=1,lC=2,uC=3,Wx=4,cC=5,o0=300,Cl=301,El=302,Vd=303,Wd=304,fh=306,Tl=1e3,Hi=1001,$f=1002,jn=1003,jd=1004,U2=1004,Yf=1005,z2=1005,On=1006,a0=1007,G2=1007,bo=1008,H2=1008,wa=1009,fC=1010,hC=1011,jx=1012,dC=1013,Al=1014,pa=1015,eh=1016,pC=1017,mC=1018,Qu=1020,gC=1021,Fr=1023,yC=1024,vC=1025,wl=1026,nc=1027,xC=1028,_C=1029,AC=1030,wC=1031,SC=1033,Tg=33776,bg=33777,Pg=33778,Bg=33779,Fv=35840,Nv=35841,kv=35842,Ov=35843,MC=36196,Uv=37492,zv=37496,Gv=37808,Hv=37809,Vv=37810,Wv=37811,jv=37812,Jv=37813,Xv=37814,Kv=37815,Yv=37816,Qv=37817,qv=37818,Zv=37819,$v=37820,ex=37821,Rg=36492,CC=36283,tx=36284,nx=36285,ix=36286,EC=2200,TC=2201,bC=2202,th=2300,ic=2301,Lg=2302,Hu=2400,Vu=2401,Jd=2402,l0=2500,Jx=2501,PC=0,Xx=1,Hg=2,bl=3e3,Sn=3001,BC=3200,RC=3201,Il=0,LC=1,V2="",Xs="srgb",nh="srgb-linear",W2=0,Ig=7680,j2=7681,J2=7682,X2=7683,K2=34055,Y2=34056,Q2=5386,q2=512,Z2=513,$2=514,eP=515,tP=516,nP=517,iP=518,IC=519,Xd=35044,qu=35048,rP=35040,sP=35045,oP=35049,aP=35041,lP=35046,uP=35050,cP=35042,fP="100",rx="300 es",Vg=1035;let Ca=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}};const Zi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let iA=1234567;const Zu=Math.PI/180,Kd=180/Math.PI;function Zr(){const i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Zi[i&255]+Zi[i>>8&255]+Zi[i>>16&255]+Zi[i>>24&255]+"-"+Zi[e&255]+Zi[e>>8&255]+"-"+Zi[e>>16&15|64]+Zi[e>>24&255]+"-"+Zi[t&63|128]+Zi[t>>8&255]+"-"+Zi[t>>16&255]+Zi[t>>24&255]+Zi[n&255]+Zi[n>>8&255]+Zi[n>>16&255]+Zi[n>>24&255]).toLowerCase()}function Zn(i,e,t){return Math.max(e,Math.min(t,i))}function Kx(i,e){return(i%e+e)%e}function hP(i,e,t,n,r){return n+(i-e)*(r-n)/(t-e)}function dP(i,e,t){return i!==e?(t-i)/(e-i):0}function Ld(i,e,t){return(1-t)*i+t*e}function pP(i,e,t,n){return Ld(i,e,1-Math.exp(-t*n))}function mP(i,e=1){return e-Math.abs(Kx(i,e*2)-e)}function gP(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*(3-2*i))}function yP(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*i*(i*(i*6-15)+10))}function vP(i,e){return i+Math.floor(Math.random()*(e-i+1))}function xP(i,e){return i+Math.random()*(e-i)}function _P(i){return i*(.5-Math.random())}function AP(i){i!==void 0&&(iA=i);let e=iA+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function wP(i){return i*Zu}function SP(i){return i*Kd}function sx(i){return(i&i-1)===0&&i!==0}function DC(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function Wg(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function MP(i,e,t,n,r){const s=Math.cos,a=Math.sin,l=s(t/2),f=a(t/2),d=s((e+n)/2),p=a((e+n)/2),g=s((e-n)/2),y=a((e-n)/2),x=s((n-e)/2),A=a((n-e)/2);switch(r){case"XYX":i.set(l*p,f*g,f*y,l*d);break;case"YZY":i.set(f*y,l*p,f*g,l*d);break;case"ZXZ":i.set(f*g,f*y,l*p,l*d);break;case"XZX":i.set(l*p,f*A,f*x,l*d);break;case"YXY":i.set(f*x,l*p,f*A,l*d);break;case"ZYZ":i.set(f*A,f*x,l*p,l*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function ma(i,e){switch(e.constructor){case Float32Array:return i;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function _n(i,e){switch(e.constructor){case Float32Array:return i;case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}var FC=Object.freeze({__proto__:null,DEG2RAD:Zu,RAD2DEG:Kd,ceilPowerOfTwo:DC,clamp:Zn,damp:pP,degToRad:wP,denormalize:ma,euclideanModulo:Kx,floorPowerOfTwo:Wg,generateUUID:Zr,inverseLerp:dP,isPowerOfTwo:sx,lerp:Ld,mapLinear:hP,normalize:_n,pingpong:mP,radToDeg:SP,randFloat:xP,randFloatSpread:_P,randInt:vP,seededRandom:AP,setQuaternionFromProperEuler:MP,smootherstep:yP,smoothstep:gP});class Be{constructor(e=0,t=0){Be.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*n-a*r+e.x,this.y=s*r+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class dr{constructor(){dr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,n,r,s,a,l,f,d){const p=this.elements;return p[0]=e,p[1]=r,p[2]=l,p[3]=t,p[4]=s,p[5]=f,p[6]=n,p[7]=a,p[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,a=n[0],l=n[3],f=n[6],d=n[1],p=n[4],g=n[7],y=n[2],x=n[5],A=n[8],w=r[0],S=r[3],E=r[6],b=r[1],T=r[4],R=r[7],I=r[2],F=r[5],z=r[8];return s[0]=a*w+l*b+f*I,s[3]=a*S+l*T+f*F,s[6]=a*E+l*R+f*z,s[1]=d*w+p*b+g*I,s[4]=d*S+p*T+g*F,s[7]=d*E+p*R+g*z,s[2]=y*w+x*b+A*I,s[5]=y*S+x*T+A*F,s[8]=y*E+x*R+A*z,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],a=e[4],l=e[5],f=e[6],d=e[7],p=e[8];return t*a*p-t*l*d-n*s*p+n*l*f+r*s*d-r*a*f}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],a=e[4],l=e[5],f=e[6],d=e[7],p=e[8],g=p*a-l*d,y=l*f-p*s,x=d*s-a*f,A=t*g+n*y+r*x;if(A===0)return this.set(0,0,0,0,0,0,0,0,0);const w=1/A;return e[0]=g*w,e[1]=(r*d-p*n)*w,e[2]=(l*n-r*a)*w,e[3]=y*w,e[4]=(p*t-r*f)*w,e[5]=(r*s-l*t)*w,e[6]=x*w,e[7]=(n*f-d*t)*w,e[8]=(a*t-n*s)*w,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,s,a,l){const f=Math.cos(s),d=Math.sin(s);return this.set(n*f,n*d,-n*(f*a+d*l)+a+e,-r*d,r*f,-r*(-d*a+f*l)+l+t,0,0,1),this}scale(e,t){return this.premultiply(hy.makeScale(e,t)),this}rotate(e){return this.premultiply(hy.makeRotation(-e)),this}translate(e,t){return this.premultiply(hy.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const hy=new dr;function NC(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}const CP={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Gf(i,e){return new CP[i](e)}function Yd(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function $u(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function Dg(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}const dy={[Xs]:{[nh]:$u},[nh]:{[Xs]:Dg}},$i={legacyMode:!0,get workingColorSpace(){return nh},set workingColorSpace(i){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(i,e,t){if(this.legacyMode||e===t||!e||!t)return i;if(dy[e]&&dy[e][t]!==void 0){const n=dy[e][t];return i.r=n(i.r),i.g=n(i.g),i.b=n(i.b),i}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(i,e){return this.convert(i,this.workingColorSpace,e)},toWorkingColorSpace:function(i,e){return this.convert(i,e,this.workingColorSpace)}},kC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},yi={r:0,g:0,b:0},Ws={h:0,s:0,l:0},Im={h:0,s:0,l:0};function py(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*6*(2/3-t):i}function Dm(i,e){return e.r=i.r,e.g=i.g,e.b=i.b,e}class et{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&n===void 0?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Xs){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,$i.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=$i.workingColorSpace){return this.r=e,this.g=t,this.b=n,$i.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=$i.workingColorSpace){if(e=Kx(e,1),t=Zn(t,0,1),n=Zn(n,0,1),t===0)this.r=this.g=this.b=n;else{const s=n<=.5?n*(1+t):n+t-n*t,a=2*n-s;this.r=py(a,s,e+1/3),this.g=py(a,s,e),this.b=py(a,s,e-1/3)}return $i.toWorkingColorSpace(this,r),this}setStyle(e,t=Xs){function n(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const a=r[1],l=r[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,$i.toWorkingColorSpace(this,t),n(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,$i.toWorkingColorSpace(this,t),n(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l)){const f=parseFloat(s[1])/360,d=parseFloat(s[2])/100,p=parseFloat(s[3])/100;return n(s[4]),this.setHSL(f,d,p,t)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],a=s.length;if(a===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,$i.toWorkingColorSpace(this,t),this;if(a===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,$i.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Xs){const n=kC[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=$u(e.r),this.g=$u(e.g),this.b=$u(e.b),this}copyLinearToSRGB(e){return this.r=Dg(e.r),this.g=Dg(e.g),this.b=Dg(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Xs){return $i.fromWorkingColorSpace(Dm(this,yi),e),Zn(yi.r*255,0,255)<<16^Zn(yi.g*255,0,255)<<8^Zn(yi.b*255,0,255)<<0}getHexString(e=Xs){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=$i.workingColorSpace){$i.fromWorkingColorSpace(Dm(this,yi),t);const n=yi.r,r=yi.g,s=yi.b,a=Math.max(n,r,s),l=Math.min(n,r,s);let f,d;const p=(l+a)/2;if(l===a)f=0,d=0;else{const g=a-l;switch(d=p<=.5?g/(a+l):g/(2-a-l),a){case n:f=(r-s)/g+(r<s?6:0);break;case r:f=(s-n)/g+2;break;case s:f=(n-r)/g+4;break}f/=6}return e.h=f,e.s=d,e.l=p,e}getRGB(e,t=$i.workingColorSpace){return $i.fromWorkingColorSpace(Dm(this,yi),t),e.r=yi.r,e.g=yi.g,e.b=yi.b,e}getStyle(e=Xs){return $i.fromWorkingColorSpace(Dm(this,yi),e),e!==Xs?`color(${e} ${yi.r} ${yi.g} ${yi.b})`:`rgb(${yi.r*255|0},${yi.g*255|0},${yi.b*255|0})`}offsetHSL(e,t,n){return this.getHSL(Ws),Ws.h+=e,Ws.s+=t,Ws.l+=n,this.setHSL(Ws.h,Ws.s,Ws.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Ws),e.getHSL(Im);const n=Ld(Ws.h,Im.h,t),r=Ld(Ws.s,Im.s,t),s=Ld(Ws.l,Im.l,t);return this.setHSL(n,r,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}et.NAMES=kC;let xf;class Yx{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{xf===void 0&&(xf=Yd("canvas")),xf.width=e.width,xf.height=e.height;const n=xf.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=xf}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Yd("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=$u(s[a]/255)*255;return n.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor($u(t[n]/255)*255):t[n]=$u(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Wu{constructor(e=null){this.isSource=!0,this.uuid=Zr(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let a=0,l=r.length;a<l;a++)r[a].isDataTexture?s.push(my(r[a].image)):s.push(my(r[a]))}else s=my(r);n.url=s}return t||(e.images[this.uuid]=n),n}}function my(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?Yx.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let EP=0;class Gn extends Ca{constructor(e=Gn.DEFAULT_IMAGE,t=Gn.DEFAULT_MAPPING,n=Hi,r=Hi,s=On,a=bo,l=Fr,f=wa,d=Gn.DEFAULT_ANISOTROPY,p=bl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:EP++}),this.uuid=Zr(),this.name="",this.source=new Wu(e),this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=r,this.magFilter=s,this.minFilter=a,this.anisotropy=d,this.format=l,this.internalFormat=null,this.type=f,this.offset=new Be(0,0),this.repeat=new Be(1,1),this.center=new Be(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new dr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=p,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==o0)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Tl:e.x=e.x-Math.floor(e.x);break;case Hi:e.x=e.x<0?0:1;break;case $f:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Tl:e.y=e.y-Math.floor(e.y);break;case Hi:e.y=e.y<0?0:1;break;case $f:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Gn.DEFAULT_IMAGE=null;Gn.DEFAULT_MAPPING=o0;Gn.DEFAULT_ANISOTROPY=1;class pn{constructor(e=0,t=0,n=0,r=1){pn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*s,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*s,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*s,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,s;const f=e.elements,d=f[0],p=f[4],g=f[8],y=f[1],x=f[5],A=f[9],w=f[2],S=f[6],E=f[10];if(Math.abs(p-y)<.01&&Math.abs(g-w)<.01&&Math.abs(A-S)<.01){if(Math.abs(p+y)<.1&&Math.abs(g+w)<.1&&Math.abs(A+S)<.1&&Math.abs(d+x+E-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const T=(d+1)/2,R=(x+1)/2,I=(E+1)/2,F=(p+y)/4,z=(g+w)/4,D=(A+S)/4;return T>R&&T>I?T<.01?(n=0,r=.707106781,s=.707106781):(n=Math.sqrt(T),r=F/n,s=z/n):R>I?R<.01?(n=.707106781,r=0,s=.707106781):(r=Math.sqrt(R),n=F/r,s=D/r):I<.01?(n=.707106781,r=.707106781,s=0):(s=Math.sqrt(I),n=z/s,r=D/s),this.set(n,r,s,t),this}let b=Math.sqrt((S-A)*(S-A)+(g-w)*(g-w)+(y-p)*(y-p));return Math.abs(b)<.001&&(b=1),this.x=(S-A)/b,this.y=(g-w)/b,this.z=(y-p)/b,this.w=Math.acos((d+x+E-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class eo extends Ca{constructor(e=1,t=1,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new pn(0,0,e,t),this.scissorTest=!1,this.viewport=new pn(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new Gn(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.internalFormat=n.internalFormat!==void 0?n.internalFormat:null,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:On,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null,this.samples=n.samples!==void 0?n.samples:0}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Wu(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class u0 extends Gn{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=jn,this.minFilter=jn,this.wrapR=Hi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class TP extends eo{constructor(e=1,t=1,n=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new u0(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Qx extends Gn{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=jn,this.minFilter=jn,this.wrapR=Hi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class bP extends eo{constructor(e=1,t=1,n=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new Qx(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class PP extends eo{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let a=0;a<n;a++)this.texture[a]=s.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class bi{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,s,a,l){let f=n[r+0],d=n[r+1],p=n[r+2],g=n[r+3];const y=s[a+0],x=s[a+1],A=s[a+2],w=s[a+3];if(l===0){e[t+0]=f,e[t+1]=d,e[t+2]=p,e[t+3]=g;return}if(l===1){e[t+0]=y,e[t+1]=x,e[t+2]=A,e[t+3]=w;return}if(g!==w||f!==y||d!==x||p!==A){let S=1-l;const E=f*y+d*x+p*A+g*w,b=E>=0?1:-1,T=1-E*E;if(T>Number.EPSILON){const I=Math.sqrt(T),F=Math.atan2(I,E*b);S=Math.sin(S*F)/I,l=Math.sin(l*F)/I}const R=l*b;if(f=f*S+y*R,d=d*S+x*R,p=p*S+A*R,g=g*S+w*R,S===1-l){const I=1/Math.sqrt(f*f+d*d+p*p+g*g);f*=I,d*=I,p*=I,g*=I}}e[t]=f,e[t+1]=d,e[t+2]=p,e[t+3]=g}static multiplyQuaternionsFlat(e,t,n,r,s,a){const l=n[r],f=n[r+1],d=n[r+2],p=n[r+3],g=s[a],y=s[a+1],x=s[a+2],A=s[a+3];return e[t]=l*A+p*g+f*x-d*y,e[t+1]=f*A+p*y+d*g-l*x,e[t+2]=d*A+p*x+l*y-f*g,e[t+3]=p*A-l*g-f*y-d*x,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const n=e._x,r=e._y,s=e._z,a=e._order,l=Math.cos,f=Math.sin,d=l(n/2),p=l(r/2),g=l(s/2),y=f(n/2),x=f(r/2),A=f(s/2);switch(a){case"XYZ":this._x=y*p*g+d*x*A,this._y=d*x*g-y*p*A,this._z=d*p*A+y*x*g,this._w=d*p*g-y*x*A;break;case"YXZ":this._x=y*p*g+d*x*A,this._y=d*x*g-y*p*A,this._z=d*p*A-y*x*g,this._w=d*p*g+y*x*A;break;case"ZXY":this._x=y*p*g-d*x*A,this._y=d*x*g+y*p*A,this._z=d*p*A+y*x*g,this._w=d*p*g-y*x*A;break;case"ZYX":this._x=y*p*g-d*x*A,this._y=d*x*g+y*p*A,this._z=d*p*A-y*x*g,this._w=d*p*g+y*x*A;break;case"YZX":this._x=y*p*g+d*x*A,this._y=d*x*g+y*p*A,this._z=d*p*A-y*x*g,this._w=d*p*g-y*x*A;break;case"XZY":this._x=y*p*g-d*x*A,this._y=d*x*g-y*p*A,this._z=d*p*A+y*x*g,this._w=d*p*g+y*x*A;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],s=t[8],a=t[1],l=t[5],f=t[9],d=t[2],p=t[6],g=t[10],y=n+l+g;if(y>0){const x=.5/Math.sqrt(y+1);this._w=.25/x,this._x=(p-f)*x,this._y=(s-d)*x,this._z=(a-r)*x}else if(n>l&&n>g){const x=2*Math.sqrt(1+n-l-g);this._w=(p-f)/x,this._x=.25*x,this._y=(r+a)/x,this._z=(s+d)/x}else if(l>g){const x=2*Math.sqrt(1+l-n-g);this._w=(s-d)/x,this._x=(r+a)/x,this._y=.25*x,this._z=(f+p)/x}else{const x=2*Math.sqrt(1+g-n-l);this._w=(a-r)/x,this._x=(s+d)/x,this._y=(f+p)/x,this._z=.25*x}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Zn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,s=e._z,a=e._w,l=t._x,f=t._y,d=t._z,p=t._w;return this._x=n*p+a*l+r*d-s*f,this._y=r*p+a*f+s*l-n*d,this._z=s*p+a*d+n*f-r*l,this._w=a*p-n*l-r*f-s*d,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,r=this._y,s=this._z,a=this._w;let l=a*e._w+n*e._x+r*e._y+s*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=a,this._x=n,this._y=r,this._z=s,this;const f=1-l*l;if(f<=Number.EPSILON){const x=1-t;return this._w=x*a+t*this._w,this._x=x*n+t*this._x,this._y=x*r+t*this._y,this._z=x*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const d=Math.sqrt(f),p=Math.atan2(d,l),g=Math.sin((1-t)*p)/d,y=Math.sin(t*p)/d;return this._w=a*g+this._w*y,this._x=n*g+this._x*y,this._y=r*g+this._y*y,this._z=s*g+this._z*y,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(s),n*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class H{constructor(e=0,t=0,n=0){H.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(rA.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(rA.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6]*r,this.y=s[1]*t+s[4]*n+s[7]*r,this.z=s[2]*t+s[5]*n+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=e.elements,a=1/(s[3]*t+s[7]*n+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*n+s[8]*r+s[12])*a,this.y=(s[1]*t+s[5]*n+s[9]*r+s[13])*a,this.z=(s[2]*t+s[6]*n+s[10]*r+s[14])*a,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,s=e.x,a=e.y,l=e.z,f=e.w,d=f*t+a*r-l*n,p=f*n+l*t-s*r,g=f*r+s*n-a*t,y=-s*t-a*n-l*r;return this.x=d*f+y*-s+p*-l-g*-a,this.y=p*f+y*-a+g*-s-d*-l,this.z=g*f+y*-l+d*-a-p*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*r,this.y=s[1]*t+s[5]*n+s[9]*r,this.z=s[2]*t+s[6]*n+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,s=e.z,a=t.x,l=t.y,f=t.z;return this.x=r*f-s*l,this.y=s*a-n*f,this.z=n*l-r*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return gy.copy(this).projectOnVector(e),this.sub(gy)}reflect(e){return this.sub(gy.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Zn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const gy=new H,rA=new bi;class Dl{constructor(e=new H(1/0,1/0,1/0),t=new H(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,r=1/0,s=-1/0,a=-1/0,l=-1/0;for(let f=0,d=e.length;f<d;f+=3){const p=e[f],g=e[f+1],y=e[f+2];p<t&&(t=p),g<n&&(n=g),y<r&&(r=y),p>s&&(s=p),g>a&&(a=g),y>l&&(l=y)}return this.min.set(t,n,r),this.max.set(s,a,l),this}setFromBufferAttribute(e){let t=1/0,n=1/0,r=1/0,s=-1/0,a=-1/0,l=-1/0;for(let f=0,d=e.count;f<d;f++){const p=e.getX(f),g=e.getY(f),y=e.getZ(f);p<t&&(t=p),g<n&&(n=g),y<r&&(r=y),p>s&&(s=p),g>a&&(a=g),y>l&&(l=y)}return this.min.set(t,n,r),this.max.set(s,a,l),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=wu.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0)if(t&&n.attributes!=null&&n.attributes.position!==void 0){const s=n.attributes.position;for(let a=0,l=s.count;a<l;a++)wu.fromBufferAttribute(s,a).applyMatrix4(e.matrixWorld),this.expandByPoint(wu)}else n.boundingBox===null&&n.computeBoundingBox(),yy.copy(n.boundingBox),yy.applyMatrix4(e.matrixWorld),this.union(yy);const r=e.children;for(let s=0,a=r.length;s<a;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,wu),wu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ld),Fm.subVectors(this.max,ld),_f.subVectors(e.a,ld),Af.subVectors(e.b,ld),wf.subVectors(e.c,ld),hl.subVectors(Af,_f),dl.subVectors(wf,Af),Su.subVectors(_f,wf);let t=[0,-hl.z,hl.y,0,-dl.z,dl.y,0,-Su.z,Su.y,hl.z,0,-hl.x,dl.z,0,-dl.x,Su.z,0,-Su.x,-hl.y,hl.x,0,-dl.y,dl.x,0,-Su.y,Su.x,0];return!vy(t,_f,Af,wf,Fm)||(t=[1,0,0,0,1,0,0,0,1],!vy(t,_f,Af,wf,Fm))?!1:(Nm.crossVectors(hl,dl),t=[Nm.x,Nm.y,Nm.z],vy(t,_f,Af,wf,Fm))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return wu.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(wu).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ra[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ra[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ra[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ra[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ra[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ra[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ra[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ra[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ra),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ra=[new H,new H,new H,new H,new H,new H,new H,new H],wu=new H,yy=new Dl,_f=new H,Af=new H,wf=new H,hl=new H,dl=new H,Su=new H,ld=new H,Fm=new H,Nm=new H,Mu=new H;function vy(i,e,t,n,r){for(let s=0,a=i.length-3;s<=a;s+=3){Mu.fromArray(i,s);const l=r.x*Math.abs(Mu.x)+r.y*Math.abs(Mu.y)+r.z*Math.abs(Mu.z),f=e.dot(Mu),d=t.dot(Mu),p=n.dot(Mu);if(Math.max(-Math.max(f,d,p),Math.min(f,d,p))>l)return!1}return!0}const BP=new Dl,ud=new H,xy=new H;class Fl{constructor(e=new H,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):BP.setFromPoints(e).getCenter(n);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,n.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ud.subVectors(e,this.center);const t=ud.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=(n-this.radius)*.5;this.center.addScaledVector(ud,r/n),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(xy.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ud.copy(e.center).add(xy)),this.expandByPoint(ud.copy(e.center).sub(xy))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const sa=new H,_y=new H,km=new H,pl=new H,Ay=new H,Om=new H,wy=new H;class hh{constructor(e=new H,t=new H(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,sa)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=sa.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(sa.copy(this.direction).multiplyScalar(t).add(this.origin),sa.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){_y.copy(e).add(t).multiplyScalar(.5),km.copy(t).sub(e).normalize(),pl.copy(this.origin).sub(_y);const s=e.distanceTo(t)*.5,a=-this.direction.dot(km),l=pl.dot(this.direction),f=-pl.dot(km),d=pl.lengthSq(),p=Math.abs(1-a*a);let g,y,x,A;if(p>0)if(g=a*f-l,y=a*l-f,A=s*p,g>=0)if(y>=-A)if(y<=A){const w=1/p;g*=w,y*=w,x=g*(g+a*y+2*l)+y*(a*g+y+2*f)+d}else y=s,g=Math.max(0,-(a*y+l)),x=-g*g+y*(y+2*f)+d;else y=-s,g=Math.max(0,-(a*y+l)),x=-g*g+y*(y+2*f)+d;else y<=-A?(g=Math.max(0,-(-a*s+l)),y=g>0?-s:Math.min(Math.max(-s,-f),s),x=-g*g+y*(y+2*f)+d):y<=A?(g=0,y=Math.min(Math.max(-s,-f),s),x=y*(y+2*f)+d):(g=Math.max(0,-(a*s+l)),y=g>0?s:Math.min(Math.max(-s,-f),s),x=-g*g+y*(y+2*f)+d);else y=a>0?-s:s,g=Math.max(0,-(a*y+l)),x=-g*g+y*(y+2*f)+d;return n&&n.copy(this.direction).multiplyScalar(g).add(this.origin),r&&r.copy(km).multiplyScalar(y).add(_y),x}intersectSphere(e,t){sa.subVectors(e.center,this.origin);const n=sa.dot(this.direction),r=sa.dot(sa)-n*n,s=e.radius*e.radius;if(r>s)return null;const a=Math.sqrt(s-r),l=n-a,f=n+a;return l<0&&f<0?null:l<0?this.at(f,t):this.at(l,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,s,a,l,f;const d=1/this.direction.x,p=1/this.direction.y,g=1/this.direction.z,y=this.origin;return d>=0?(n=(e.min.x-y.x)*d,r=(e.max.x-y.x)*d):(n=(e.max.x-y.x)*d,r=(e.min.x-y.x)*d),p>=0?(s=(e.min.y-y.y)*p,a=(e.max.y-y.y)*p):(s=(e.max.y-y.y)*p,a=(e.min.y-y.y)*p),n>a||s>r||((s>n||isNaN(n))&&(n=s),(a<r||isNaN(r))&&(r=a),g>=0?(l=(e.min.z-y.z)*g,f=(e.max.z-y.z)*g):(l=(e.max.z-y.z)*g,f=(e.min.z-y.z)*g),n>f||l>r)||((l>n||n!==n)&&(n=l),(f<r||r!==r)&&(r=f),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return this.intersectBox(e,sa)!==null}intersectTriangle(e,t,n,r,s){Ay.subVectors(t,e),Om.subVectors(n,e),wy.crossVectors(Ay,Om);let a=this.direction.dot(wy),l;if(a>0){if(r)return null;l=1}else if(a<0)l=-1,a=-a;else return null;pl.subVectors(this.origin,e);const f=l*this.direction.dot(Om.crossVectors(pl,Om));if(f<0)return null;const d=l*this.direction.dot(Ay.cross(pl));if(d<0||f+d>a)return null;const p=-l*pl.dot(wy);return p<0?null:this.at(p/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Lt{constructor(){Lt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,n,r,s,a,l,f,d,p,g,y,x,A,w,S){const E=this.elements;return E[0]=e,E[4]=t,E[8]=n,E[12]=r,E[1]=s,E[5]=a,E[9]=l,E[13]=f,E[2]=d,E[6]=p,E[10]=g,E[14]=y,E[3]=x,E[7]=A,E[11]=w,E[15]=S,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Lt().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/Sf.setFromMatrixColumn(e,0).length(),s=1/Sf.setFromMatrixColumn(e,1).length(),a=1/Sf.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*s,t[5]=n[5]*s,t[6]=n[6]*s,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,s=e.z,a=Math.cos(n),l=Math.sin(n),f=Math.cos(r),d=Math.sin(r),p=Math.cos(s),g=Math.sin(s);if(e.order==="XYZ"){const y=a*p,x=a*g,A=l*p,w=l*g;t[0]=f*p,t[4]=-f*g,t[8]=d,t[1]=x+A*d,t[5]=y-w*d,t[9]=-l*f,t[2]=w-y*d,t[6]=A+x*d,t[10]=a*f}else if(e.order==="YXZ"){const y=f*p,x=f*g,A=d*p,w=d*g;t[0]=y+w*l,t[4]=A*l-x,t[8]=a*d,t[1]=a*g,t[5]=a*p,t[9]=-l,t[2]=x*l-A,t[6]=w+y*l,t[10]=a*f}else if(e.order==="ZXY"){const y=f*p,x=f*g,A=d*p,w=d*g;t[0]=y-w*l,t[4]=-a*g,t[8]=A+x*l,t[1]=x+A*l,t[5]=a*p,t[9]=w-y*l,t[2]=-a*d,t[6]=l,t[10]=a*f}else if(e.order==="ZYX"){const y=a*p,x=a*g,A=l*p,w=l*g;t[0]=f*p,t[4]=A*d-x,t[8]=y*d+w,t[1]=f*g,t[5]=w*d+y,t[9]=x*d-A,t[2]=-d,t[6]=l*f,t[10]=a*f}else if(e.order==="YZX"){const y=a*f,x=a*d,A=l*f,w=l*d;t[0]=f*p,t[4]=w-y*g,t[8]=A*g+x,t[1]=g,t[5]=a*p,t[9]=-l*p,t[2]=-d*p,t[6]=x*g+A,t[10]=y-w*g}else if(e.order==="XZY"){const y=a*f,x=a*d,A=l*f,w=l*d;t[0]=f*p,t[4]=-g,t[8]=d*p,t[1]=y*g+w,t[5]=a*p,t[9]=x*g-A,t[2]=A*g-x,t[6]=l*p,t[10]=w*g+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(RP,e,LP)}lookAt(e,t,n){const r=this.elements;return Yr.subVectors(e,t),Yr.lengthSq()===0&&(Yr.z=1),Yr.normalize(),ml.crossVectors(n,Yr),ml.lengthSq()===0&&(Math.abs(n.z)===1?Yr.x+=1e-4:Yr.z+=1e-4,Yr.normalize(),ml.crossVectors(n,Yr)),ml.normalize(),Um.crossVectors(Yr,ml),r[0]=ml.x,r[4]=Um.x,r[8]=Yr.x,r[1]=ml.y,r[5]=Um.y,r[9]=Yr.y,r[2]=ml.z,r[6]=Um.z,r[10]=Yr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,a=n[0],l=n[4],f=n[8],d=n[12],p=n[1],g=n[5],y=n[9],x=n[13],A=n[2],w=n[6],S=n[10],E=n[14],b=n[3],T=n[7],R=n[11],I=n[15],F=r[0],z=r[4],D=r[8],O=r[12],G=r[1],Y=r[5],he=r[9],ie=r[13],$=r[2],ce=r[6],ge=r[10],ve=r[14],V=r[3],re=r[7],k=r[11],Q=r[15];return s[0]=a*F+l*G+f*$+d*V,s[4]=a*z+l*Y+f*ce+d*re,s[8]=a*D+l*he+f*ge+d*k,s[12]=a*O+l*ie+f*ve+d*Q,s[1]=p*F+g*G+y*$+x*V,s[5]=p*z+g*Y+y*ce+x*re,s[9]=p*D+g*he+y*ge+x*k,s[13]=p*O+g*ie+y*ve+x*Q,s[2]=A*F+w*G+S*$+E*V,s[6]=A*z+w*Y+S*ce+E*re,s[10]=A*D+w*he+S*ge+E*k,s[14]=A*O+w*ie+S*ve+E*Q,s[3]=b*F+T*G+R*$+I*V,s[7]=b*z+T*Y+R*ce+I*re,s[11]=b*D+T*he+R*ge+I*k,s[15]=b*O+T*ie+R*ve+I*Q,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],s=e[12],a=e[1],l=e[5],f=e[9],d=e[13],p=e[2],g=e[6],y=e[10],x=e[14],A=e[3],w=e[7],S=e[11],E=e[15];return A*(+s*f*g-r*d*g-s*l*y+n*d*y+r*l*x-n*f*x)+w*(+t*f*x-t*d*y+s*a*y-r*a*x+r*d*p-s*f*p)+S*(+t*d*g-t*l*x-s*a*g+n*a*x+s*l*p-n*d*p)+E*(-r*l*p-t*f*g+t*l*y+r*a*g-n*a*y+n*f*p)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],a=e[4],l=e[5],f=e[6],d=e[7],p=e[8],g=e[9],y=e[10],x=e[11],A=e[12],w=e[13],S=e[14],E=e[15],b=g*S*d-w*y*d+w*f*x-l*S*x-g*f*E+l*y*E,T=A*y*d-p*S*d-A*f*x+a*S*x+p*f*E-a*y*E,R=p*w*d-A*g*d+A*l*x-a*w*x-p*l*E+a*g*E,I=A*g*f-p*w*f-A*l*y+a*w*y+p*l*S-a*g*S,F=t*b+n*T+r*R+s*I;if(F===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const z=1/F;return e[0]=b*z,e[1]=(w*y*s-g*S*s-w*r*x+n*S*x+g*r*E-n*y*E)*z,e[2]=(l*S*s-w*f*s+w*r*d-n*S*d-l*r*E+n*f*E)*z,e[3]=(g*f*s-l*y*s-g*r*d+n*y*d+l*r*x-n*f*x)*z,e[4]=T*z,e[5]=(p*S*s-A*y*s+A*r*x-t*S*x-p*r*E+t*y*E)*z,e[6]=(A*f*s-a*S*s-A*r*d+t*S*d+a*r*E-t*f*E)*z,e[7]=(a*y*s-p*f*s+p*r*d-t*y*d-a*r*x+t*f*x)*z,e[8]=R*z,e[9]=(A*g*s-p*w*s-A*n*x+t*w*x+p*n*E-t*g*E)*z,e[10]=(a*w*s-A*l*s+A*n*d-t*w*d-a*n*E+t*l*E)*z,e[11]=(p*l*s-a*g*s-p*n*d+t*g*d+a*n*x-t*l*x)*z,e[12]=I*z,e[13]=(p*w*r-A*g*r+A*n*y-t*w*y-p*n*S+t*g*S)*z,e[14]=(A*l*r-a*w*r-A*n*f+t*w*f+a*n*S-t*l*S)*z,e[15]=(a*g*r-p*l*r+p*n*f-t*g*f-a*n*y+t*l*y)*z,this}scale(e){const t=this.elements,n=e.x,r=e.y,s=e.z;return t[0]*=n,t[4]*=r,t[8]*=s,t[1]*=n,t[5]*=r,t[9]*=s,t[2]*=n,t[6]*=r,t[10]*=s,t[3]*=n,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),s=1-n,a=e.x,l=e.y,f=e.z,d=s*a,p=s*l;return this.set(d*a+n,d*l-r*f,d*f+r*l,0,d*l+r*f,p*l+n,p*f-r*a,0,d*f-r*l,p*f+r*a,s*f*f+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,s,a){return this.set(1,n,s,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,s=t._x,a=t._y,l=t._z,f=t._w,d=s+s,p=a+a,g=l+l,y=s*d,x=s*p,A=s*g,w=a*p,S=a*g,E=l*g,b=f*d,T=f*p,R=f*g,I=n.x,F=n.y,z=n.z;return r[0]=(1-(w+E))*I,r[1]=(x+R)*I,r[2]=(A-T)*I,r[3]=0,r[4]=(x-R)*F,r[5]=(1-(y+E))*F,r[6]=(S+b)*F,r[7]=0,r[8]=(A+T)*z,r[9]=(S-b)*z,r[10]=(1-(y+w))*z,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let s=Sf.set(r[0],r[1],r[2]).length();const a=Sf.set(r[4],r[5],r[6]).length(),l=Sf.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],js.copy(this);const d=1/s,p=1/a,g=1/l;return js.elements[0]*=d,js.elements[1]*=d,js.elements[2]*=d,js.elements[4]*=p,js.elements[5]*=p,js.elements[6]*=p,js.elements[8]*=g,js.elements[9]*=g,js.elements[10]*=g,t.setFromRotationMatrix(js),n.x=s,n.y=a,n.z=l,this}makePerspective(e,t,n,r,s,a){const l=this.elements,f=2*s/(t-e),d=2*s/(n-r),p=(t+e)/(t-e),g=(n+r)/(n-r),y=-(a+s)/(a-s),x=-2*a*s/(a-s);return l[0]=f,l[4]=0,l[8]=p,l[12]=0,l[1]=0,l[5]=d,l[9]=g,l[13]=0,l[2]=0,l[6]=0,l[10]=y,l[14]=x,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,n,r,s,a){const l=this.elements,f=1/(t-e),d=1/(n-r),p=1/(a-s),g=(t+e)*f,y=(n+r)*d,x=(a+s)*p;return l[0]=2*f,l[4]=0,l[8]=0,l[12]=-g,l[1]=0,l[5]=2*d,l[9]=0,l[13]=-y,l[2]=0,l[6]=0,l[10]=-2*p,l[14]=-x,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Sf=new H,js=new Lt,RP=new H(0,0,0),LP=new H(1,1,1),ml=new H,Um=new H,Yr=new H,sA=new Lt,oA=new bi;class lp{constructor(e=0,t=0,n=0,r=lp.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,s=r[0],a=r[4],l=r[8],f=r[1],d=r[5],p=r[9],g=r[2],y=r[6],x=r[10];switch(t){case"XYZ":this._y=Math.asin(Zn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-p,x),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(y,d),this._z=0);break;case"YXZ":this._x=Math.asin(-Zn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(l,x),this._z=Math.atan2(f,d)):(this._y=Math.atan2(-g,s),this._z=0);break;case"ZXY":this._x=Math.asin(Zn(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-g,x),this._z=Math.atan2(-a,d)):(this._y=0,this._z=Math.atan2(f,s));break;case"ZYX":this._y=Math.asin(-Zn(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(y,x),this._z=Math.atan2(f,s)):(this._x=0,this._z=Math.atan2(-a,d));break;case"YZX":this._z=Math.asin(Zn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(-p,d),this._y=Math.atan2(-g,s)):(this._x=0,this._y=Math.atan2(l,x));break;case"XZY":this._z=Math.asin(-Zn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(y,d),this._y=Math.atan2(l,s)):(this._x=Math.atan2(-p,x),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return sA.makeRotationFromQuaternion(e),this.setFromRotationMatrix(sA,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return oA.setFromEuler(this),this.setFromQuaternion(oA,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}lp.DEFAULT_ORDER="XYZ";class ec{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let IP=0;const aA=new H,Mf=new bi,oa=new Lt,zm=new H,cd=new H,DP=new H,FP=new bi,lA=new H(1,0,0),uA=new H(0,1,0),cA=new H(0,0,1),NP={type:"added"},fA={type:"removed"};class sn extends Ca{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:IP++}),this.uuid=Zr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=sn.DEFAULT_UP.clone();const e=new H,t=new lp,n=new bi,r=new H(1,1,1);function s(){n.setFromEuler(t,!1)}function a(){t.setFromQuaternion(n,void 0,!1)}t._onChange(s),n._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Lt},normalMatrix:{value:new dr}}),this.matrix=new Lt,this.matrixWorld=new Lt,this.matrixAutoUpdate=sn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=sn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new ec,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Mf.setFromAxisAngle(e,t),this.quaternion.multiply(Mf),this}rotateOnWorldAxis(e,t){return Mf.setFromAxisAngle(e,t),this.quaternion.premultiply(Mf),this}rotateX(e){return this.rotateOnAxis(lA,e)}rotateY(e){return this.rotateOnAxis(uA,e)}rotateZ(e){return this.rotateOnAxis(cA,e)}translateOnAxis(e,t){return aA.copy(e).applyQuaternion(this.quaternion),this.position.add(aA.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(lA,e)}translateY(e){return this.translateOnAxis(uA,e)}translateZ(e){return this.translateOnAxis(cA,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(oa.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?zm.copy(e):zm.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),cd.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?oa.lookAt(cd,zm,this.up):oa.lookAt(zm,cd,this.up),this.quaternion.setFromRotationMatrix(oa),r&&(oa.extractRotation(r.matrixWorld),Mf.setFromRotationMatrix(oa),this.quaternion.premultiply(Mf.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(NP)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(fA)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(fA)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),oa.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),oa.multiply(e.parent.matrixWorld)),e.applyMatrix4(oa),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const a=this.children[n].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let r=0,s=this.children.length;r<s;r++){const a=this.children[r].getObjectsByProperty(e,t);a.length>0&&(n=n.concat(a))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(cd,e,DP),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(cd,FP,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++){const s=t[n];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.matrixWorldAutoUpdate===!0&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,a=r.length;s<a;s++){const l=r[s];l.matrixWorldAutoUpdate===!0&&l.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(l,f){return l[f.uuid]===void 0&&(l[f.uuid]=f.toJSON(e)),f.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const f=l.shapes;if(Array.isArray(f))for(let d=0,p=f.length;d<p;d++){const g=f[d];s(e.shapes,g)}else s(e.shapes,f)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let f=0,d=this.material.length;f<d;f++)l.push(s(e.materials,this.material[f]));r.material=l}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let l=0;l<this.children.length;l++)r.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let l=0;l<this.animations.length;l++){const f=this.animations[l];r.animations.push(s(e.animations,f))}}if(t){const l=a(e.geometries),f=a(e.materials),d=a(e.textures),p=a(e.images),g=a(e.shapes),y=a(e.skeletons),x=a(e.animations),A=a(e.nodes);l.length>0&&(n.geometries=l),f.length>0&&(n.materials=f),d.length>0&&(n.textures=d),p.length>0&&(n.images=p),g.length>0&&(n.shapes=g),y.length>0&&(n.skeletons=y),x.length>0&&(n.animations=x),A.length>0&&(n.nodes=A)}return n.object=r,n;function a(l){const f=[];for(const d in l){const p=l[d];delete p.metadata,f.push(p)}return f}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const r=e.children[n];this.add(r.clone())}return this}}sn.DEFAULT_UP=new H(0,1,0);sn.DEFAULT_MATRIX_AUTO_UPDATE=!0;sn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Js=new H,aa=new H,Sy=new H,la=new H,Cf=new H,Ef=new H,hA=new H,My=new H,Cy=new H,Ey=new H;class vs{constructor(e=new H,t=new H,n=new H){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),Js.subVectors(e,t),r.cross(Js);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,n,r,s){Js.subVectors(r,t),aa.subVectors(n,t),Sy.subVectors(e,t);const a=Js.dot(Js),l=Js.dot(aa),f=Js.dot(Sy),d=aa.dot(aa),p=aa.dot(Sy),g=a*d-l*l;if(g===0)return s.set(-2,-1,-1);const y=1/g,x=(d*f-l*p)*y,A=(a*p-l*f)*y;return s.set(1-x-A,A,x)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,la),la.x>=0&&la.y>=0&&la.x+la.y<=1}static getUV(e,t,n,r,s,a,l,f){return this.getBarycoord(e,t,n,r,la),f.set(0,0),f.addScaledVector(s,la.x),f.addScaledVector(a,la.y),f.addScaledVector(l,la.z),f}static isFrontFacing(e,t,n,r){return Js.subVectors(n,t),aa.subVectors(e,t),Js.cross(aa).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Js.subVectors(this.c,this.b),aa.subVectors(this.a,this.b),Js.cross(aa).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return vs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return vs.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,s){return vs.getUV(e,this.a,this.b,this.c,t,n,r,s)}containsPoint(e){return vs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return vs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,s=this.c;let a,l;Cf.subVectors(r,n),Ef.subVectors(s,n),My.subVectors(e,n);const f=Cf.dot(My),d=Ef.dot(My);if(f<=0&&d<=0)return t.copy(n);Cy.subVectors(e,r);const p=Cf.dot(Cy),g=Ef.dot(Cy);if(p>=0&&g<=p)return t.copy(r);const y=f*g-p*d;if(y<=0&&f>=0&&p<=0)return a=f/(f-p),t.copy(n).addScaledVector(Cf,a);Ey.subVectors(e,s);const x=Cf.dot(Ey),A=Ef.dot(Ey);if(A>=0&&x<=A)return t.copy(s);const w=x*d-f*A;if(w<=0&&d>=0&&A<=0)return l=d/(d-A),t.copy(n).addScaledVector(Ef,l);const S=p*A-x*g;if(S<=0&&g-p>=0&&x-A>=0)return hA.subVectors(s,r),l=(g-p)/(g-p+(x-A)),t.copy(r).addScaledVector(hA,l);const E=1/(S+w+y);return a=w*E,l=y*E,t.copy(n).addScaledVector(Cf,a).addScaledVector(Ef,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let kP=0;class vi extends Ca{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:kP++}),this.uuid=Zr(),this.name="",this.type="Material",this.blending=Yu,this.side=To,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Hx,this.blendDst=Vx,this.blendEquation=Ou,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Gg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=IC,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ig,this.stencilZFail=Ig,this.stencilZPass=Ig,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Yu&&(n.blending=this.blending),this.side!==To&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(n.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(n.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=this.flatShading),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(s){const a=[];for(const l in s){const f=s[l];delete f.metadata,a.push(f)}return a}if(t){const s=r(e.textures),a=r(e.images);s.length>0&&(n.textures=s),a.length>0&&(n.images=a)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const r=t.length;n=new Array(r);for(let s=0;s!==r;++s)n[s]=t[s].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class qr extends vi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ap,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ui=new H,Gm=new Be;class cn{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=Xd,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)Gm.fromBufferAttribute(this,t),Gm.applyMatrix3(e),this.setXY(t,Gm.x,Gm.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)ui.fromBufferAttribute(this,t),ui.applyMatrix3(e),this.setXYZ(t,ui.x,ui.y,ui.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)ui.fromBufferAttribute(this,t),ui.applyMatrix4(e),this.setXYZ(t,ui.x,ui.y,ui.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)ui.fromBufferAttribute(this,t),ui.applyNormalMatrix(e),this.setXYZ(t,ui.x,ui.y,ui.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)ui.fromBufferAttribute(this,t),ui.transformDirection(e),this.setXYZ(t,ui.x,ui.y,ui.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ma(t,this.array)),t}setX(e,t){return this.normalized&&(t=_n(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ma(t,this.array)),t}setY(e,t){return this.normalized&&(t=_n(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ma(t,this.array)),t}setZ(e,t){return this.normalized&&(t=_n(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ma(t,this.array)),t}setW(e,t){return this.normalized&&(t=_n(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=_n(t,this.array),n=_n(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=_n(t,this.array),n=_n(n,this.array),r=_n(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,s){return e*=this.itemSize,this.normalized&&(t=_n(t,this.array),n=_n(n,this.array),r=_n(r,this.array),s=_n(s,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Xd&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class OP extends cn{constructor(e,t,n){super(new Int8Array(e),t,n)}}class UP extends cn{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class zP extends cn{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class GP extends cn{constructor(e,t,n){super(new Int16Array(e),t,n)}}class qx extends cn{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class HP extends cn{constructor(e,t,n){super(new Int32Array(e),t,n)}}class Zx extends cn{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class VP extends cn{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}}class pt extends cn{constructor(e,t,n){super(new Float32Array(e),t,n)}}class WP extends cn{constructor(e,t,n){super(new Float64Array(e),t,n)}}let jP=0;const hs=new Lt,Ty=new sn,Tf=new H,Qr=new Dl,fd=new Dl,Ei=new H;class Vt extends Ca{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:jP++}),this.uuid=Zr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(NC(e)?Zx:qx)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const s=new dr().getNormalMatrix(e);n.applyNormalMatrix(s),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return hs.makeRotationFromQuaternion(e),this.applyMatrix4(hs),this}rotateX(e){return hs.makeRotationX(e),this.applyMatrix4(hs),this}rotateY(e){return hs.makeRotationY(e),this.applyMatrix4(hs),this}rotateZ(e){return hs.makeRotationZ(e),this.applyMatrix4(hs),this}translate(e,t,n){return hs.makeTranslation(e,t,n),this.applyMatrix4(hs),this}scale(e,t,n){return hs.makeScale(e,t,n),this.applyMatrix4(hs),this}lookAt(e){return Ty.lookAt(e),Ty.updateMatrix(),this.applyMatrix4(Ty.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Tf).negate(),this.translate(Tf.x,Tf.y,Tf.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const s=e[n];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new pt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Dl);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new H(-1/0,-1/0,-1/0),new H(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const s=t[n];Qr.setFromBufferAttribute(s),this.morphTargetsRelative?(Ei.addVectors(this.boundingBox.min,Qr.min),this.boundingBox.expandByPoint(Ei),Ei.addVectors(this.boundingBox.max,Qr.max),this.boundingBox.expandByPoint(Ei)):(this.boundingBox.expandByPoint(Qr.min),this.boundingBox.expandByPoint(Qr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Fl);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new H,1/0);return}if(e){const n=this.boundingSphere.center;if(Qr.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const l=t[s];fd.setFromBufferAttribute(l),this.morphTargetsRelative?(Ei.addVectors(Qr.min,fd.min),Qr.expandByPoint(Ei),Ei.addVectors(Qr.max,fd.max),Qr.expandByPoint(Ei)):(Qr.expandByPoint(fd.min),Qr.expandByPoint(fd.max))}Qr.getCenter(n);let r=0;for(let s=0,a=e.count;s<a;s++)Ei.fromBufferAttribute(e,s),r=Math.max(r,n.distanceToSquared(Ei));if(t)for(let s=0,a=t.length;s<a;s++){const l=t[s],f=this.morphTargetsRelative;for(let d=0,p=l.count;d<p;d++)Ei.fromBufferAttribute(l,d),f&&(Tf.fromBufferAttribute(e,d),Ei.add(Tf)),r=Math.max(r,n.distanceToSquared(Ei))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=e.array,r=t.position.array,s=t.normal.array,a=t.uv.array,l=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new cn(new Float32Array(4*l),4));const f=this.getAttribute("tangent").array,d=[],p=[];for(let G=0;G<l;G++)d[G]=new H,p[G]=new H;const g=new H,y=new H,x=new H,A=new Be,w=new Be,S=new Be,E=new H,b=new H;function T(G,Y,he){g.fromArray(r,G*3),y.fromArray(r,Y*3),x.fromArray(r,he*3),A.fromArray(a,G*2),w.fromArray(a,Y*2),S.fromArray(a,he*2),y.sub(g),x.sub(g),w.sub(A),S.sub(A);const ie=1/(w.x*S.y-S.x*w.y);isFinite(ie)&&(E.copy(y).multiplyScalar(S.y).addScaledVector(x,-w.y).multiplyScalar(ie),b.copy(x).multiplyScalar(w.x).addScaledVector(y,-S.x).multiplyScalar(ie),d[G].add(E),d[Y].add(E),d[he].add(E),p[G].add(b),p[Y].add(b),p[he].add(b))}let R=this.groups;R.length===0&&(R=[{start:0,count:n.length}]);for(let G=0,Y=R.length;G<Y;++G){const he=R[G],ie=he.start,$=he.count;for(let ce=ie,ge=ie+$;ce<ge;ce+=3)T(n[ce+0],n[ce+1],n[ce+2])}const I=new H,F=new H,z=new H,D=new H;function O(G){z.fromArray(s,G*3),D.copy(z);const Y=d[G];I.copy(Y),I.sub(z.multiplyScalar(z.dot(Y))).normalize(),F.crossVectors(D,Y);const ie=F.dot(p[G])<0?-1:1;f[G*4]=I.x,f[G*4+1]=I.y,f[G*4+2]=I.z,f[G*4+3]=ie}for(let G=0,Y=R.length;G<Y;++G){const he=R[G],ie=he.start,$=he.count;for(let ce=ie,ge=ie+$;ce<ge;ce+=3)O(n[ce+0]),O(n[ce+1]),O(n[ce+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new cn(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let y=0,x=n.count;y<x;y++)n.setXYZ(y,0,0,0);const r=new H,s=new H,a=new H,l=new H,f=new H,d=new H,p=new H,g=new H;if(e)for(let y=0,x=e.count;y<x;y+=3){const A=e.getX(y+0),w=e.getX(y+1),S=e.getX(y+2);r.fromBufferAttribute(t,A),s.fromBufferAttribute(t,w),a.fromBufferAttribute(t,S),p.subVectors(a,s),g.subVectors(r,s),p.cross(g),l.fromBufferAttribute(n,A),f.fromBufferAttribute(n,w),d.fromBufferAttribute(n,S),l.add(p),f.add(p),d.add(p),n.setXYZ(A,l.x,l.y,l.z),n.setXYZ(w,f.x,f.y,f.z),n.setXYZ(S,d.x,d.y,d.z)}else for(let y=0,x=t.count;y<x;y+=3)r.fromBufferAttribute(t,y+0),s.fromBufferAttribute(t,y+1),a.fromBufferAttribute(t,y+2),p.subVectors(a,s),g.subVectors(r,s),p.cross(g),n.setXYZ(y+0,p.x,p.y,p.z),n.setXYZ(y+1,p.x,p.y,p.z),n.setXYZ(y+2,p.x,p.y,p.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Ei.fromBufferAttribute(e,t),Ei.normalize(),e.setXYZ(t,Ei.x,Ei.y,Ei.z)}toNonIndexed(){function e(l,f){const d=l.array,p=l.itemSize,g=l.normalized,y=new d.constructor(f.length*p);let x=0,A=0;for(let w=0,S=f.length;w<S;w++){l.isInterleavedBufferAttribute?x=f[w]*l.data.stride+l.offset:x=f[w]*p;for(let E=0;E<p;E++)y[A++]=d[x++]}return new cn(y,p,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Vt,n=this.index.array,r=this.attributes;for(const l in r){const f=r[l],d=e(f,n);t.setAttribute(l,d)}const s=this.morphAttributes;for(const l in s){const f=[],d=s[l];for(let p=0,g=d.length;p<g;p++){const y=d[p],x=e(y,n);f.push(x)}t.morphAttributes[l]=f}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let l=0,f=a.length;l<f;l++){const d=a[l];t.addGroup(d.start,d.count,d.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const f=this.parameters;for(const d in f)f[d]!==void 0&&(e[d]=f[d]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const f in n){const d=n[f];e.data.attributes[f]=d.toJSON(e.data)}const r={};let s=!1;for(const f in this.morphAttributes){const d=this.morphAttributes[f],p=[];for(let g=0,y=d.length;g<y;g++){const x=d[g];p.push(x.toJSON(e.data))}p.length>0&&(r[f]=p,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const r=e.attributes;for(const d in r){const p=r[d];this.setAttribute(d,p.clone(t))}const s=e.morphAttributes;for(const d in s){const p=[],g=s[d];for(let y=0,x=g.length;y<x;y++)p.push(g[y].clone(t));this.morphAttributes[d]=p}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let d=0,p=a.length;d<p;d++){const g=a[d];this.addGroup(g.start,g.count,g.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const f=e.boundingSphere;return f!==null&&(this.boundingSphere=f.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const dA=new Lt,bf=new hh,by=new Fl,hd=new H,dd=new H,pd=new H,Py=new H,Hm=new H,Vm=new Be,Wm=new Be,jm=new Be,By=new H,Jm=new H;class Ti extends sn{constructor(e=new Vt,t=new qr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const l=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,s=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const l=this.morphTargetInfluences;if(s&&l){Hm.set(0,0,0);for(let f=0,d=s.length;f<d;f++){const p=l[f],g=s[f];p!==0&&(Py.fromBufferAttribute(g,e),a?Hm.addScaledVector(Py,p):Hm.addScaledVector(Py.sub(t),p))}t.add(Hm)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const n=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),by.copy(n.boundingSphere),by.applyMatrix4(s),e.ray.intersectsSphere(by)===!1)||(dA.copy(s).invert(),bf.copy(e.ray).applyMatrix4(dA),n.boundingBox!==null&&bf.intersectsBox(n.boundingBox)===!1))return;let a;const l=n.index,f=n.attributes.position,d=n.attributes.uv,p=n.attributes.uv2,g=n.groups,y=n.drawRange;if(l!==null)if(Array.isArray(r))for(let x=0,A=g.length;x<A;x++){const w=g[x],S=r[w.materialIndex],E=Math.max(w.start,y.start),b=Math.min(l.count,Math.min(w.start+w.count,y.start+y.count));for(let T=E,R=b;T<R;T+=3){const I=l.getX(T),F=l.getX(T+1),z=l.getX(T+2);a=Xm(this,S,e,bf,d,p,I,F,z),a&&(a.faceIndex=Math.floor(T/3),a.face.materialIndex=w.materialIndex,t.push(a))}}else{const x=Math.max(0,y.start),A=Math.min(l.count,y.start+y.count);for(let w=x,S=A;w<S;w+=3){const E=l.getX(w),b=l.getX(w+1),T=l.getX(w+2);a=Xm(this,r,e,bf,d,p,E,b,T),a&&(a.faceIndex=Math.floor(w/3),t.push(a))}}else if(f!==void 0)if(Array.isArray(r))for(let x=0,A=g.length;x<A;x++){const w=g[x],S=r[w.materialIndex],E=Math.max(w.start,y.start),b=Math.min(f.count,Math.min(w.start+w.count,y.start+y.count));for(let T=E,R=b;T<R;T+=3){const I=T,F=T+1,z=T+2;a=Xm(this,S,e,bf,d,p,I,F,z),a&&(a.faceIndex=Math.floor(T/3),a.face.materialIndex=w.materialIndex,t.push(a))}}else{const x=Math.max(0,y.start),A=Math.min(f.count,y.start+y.count);for(let w=x,S=A;w<S;w+=3){const E=w,b=w+1,T=w+2;a=Xm(this,r,e,bf,d,p,E,b,T),a&&(a.faceIndex=Math.floor(w/3),t.push(a))}}}}function JP(i,e,t,n,r,s,a,l){let f;if(e.side===Nr?f=n.intersectTriangle(a,s,r,!0,l):f=n.intersectTriangle(r,s,a,e.side===To,l),f===null)return null;Jm.copy(l),Jm.applyMatrix4(i.matrixWorld);const d=t.ray.origin.distanceTo(Jm);return d<t.near||d>t.far?null:{distance:d,point:Jm.clone(),object:i}}function Xm(i,e,t,n,r,s,a,l,f){i.getVertexPosition(a,hd),i.getVertexPosition(l,dd),i.getVertexPosition(f,pd);const d=JP(i,e,t,n,hd,dd,pd,By);if(d){r&&(Vm.fromBufferAttribute(r,a),Wm.fromBufferAttribute(r,l),jm.fromBufferAttribute(r,f),d.uv=vs.getUV(By,hd,dd,pd,Vm,Wm,jm,new Be)),s&&(Vm.fromBufferAttribute(s,a),Wm.fromBufferAttribute(s,l),jm.fromBufferAttribute(s,f),d.uv2=vs.getUV(By,hd,dd,pd,Vm,Wm,jm,new Be));const p={a,b:l,c:f,normal:new H,materialIndex:0};vs.getNormal(hd,dd,pd,p.normal),d.face=p}return d}class Nl extends Vt{constructor(e=1,t=1,n=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:s,depthSegments:a};const l=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const f=[],d=[],p=[],g=[];let y=0,x=0;A("z","y","x",-1,-1,n,t,e,a,s,0),A("z","y","x",1,-1,n,t,-e,a,s,1),A("x","z","y",1,1,e,n,t,r,a,2),A("x","z","y",1,-1,e,n,-t,r,a,3),A("x","y","z",1,-1,e,t,n,r,s,4),A("x","y","z",-1,-1,e,t,-n,r,s,5),this.setIndex(f),this.setAttribute("position",new pt(d,3)),this.setAttribute("normal",new pt(p,3)),this.setAttribute("uv",new pt(g,2));function A(w,S,E,b,T,R,I,F,z,D,O){const G=R/z,Y=I/D,he=R/2,ie=I/2,$=F/2,ce=z+1,ge=D+1;let ve=0,V=0;const re=new H;for(let k=0;k<ge;k++){const Q=k*Y-ie;for(let K=0;K<ce;K++){const ae=K*G-he;re[w]=ae*b,re[S]=Q*T,re[E]=$,d.push(re.x,re.y,re.z),re[w]=0,re[S]=0,re[E]=F>0?1:-1,p.push(re.x,re.y,re.z),g.push(K/z),g.push(1-k/D),ve+=1}}for(let k=0;k<D;k++)for(let Q=0;Q<z;Q++){const K=y+Q+ce*k,ae=y+Q+ce*(k+1),Me=y+(Q+1)+ce*(k+1),Pe=y+(Q+1)+ce*k;f.push(K,ae,Pe),f.push(ae,Me,Pe),V+=6}l.addGroup(x,V,O),x+=V,y+=ve}}static fromJSON(e){return new Nl(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ih(i){const e={};for(const t in i){e[t]={};for(const n in i[t]){const r=i[t][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][n]=r.clone():Array.isArray(r)?e[t][n]=r.slice():e[t][n]=r}}return e}function fr(i){const e={};for(let t=0;t<i.length;t++){const n=ih(i[t]);for(const r in n)e[r]=n[r]}return e}function XP(i){const e=[];for(let t=0;t<i.length;t++)e.push(i[t].clone());return e}function OC(i){return i.getRenderTarget()===null&&i.outputEncoding===Sn?Xs:nh}const UC={clone:ih,merge:fr};var KP=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,YP=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Po extends vi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=KP,this.fragmentShader=YP,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ih(e.uniforms),this.uniformsGroups=XP(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class up extends sn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Lt,this.projectionMatrix=new Lt,this.projectionMatrixInverse=new Lt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Dn extends up{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Kd*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Zu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Kd*2*Math.atan(Math.tan(Zu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Zu*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,s=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const f=a.fullWidth,d=a.fullHeight;s+=a.offsetX*r/f,t-=a.offsetY*n/d,r*=a.width/f,n*=a.height/d}const l=this.filmOffset;l!==0&&(s+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Pf=-90,Bf=1;class $x extends sn{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n;const r=new Dn(Pf,Bf,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const s=new Dn(Pf,Bf,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const a=new Dn(Pf,Bf,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(0,1,0),this.add(a);const l=new Dn(Pf,Bf,e,t);l.layers=this.layers,l.up.set(0,0,1),l.lookAt(0,-1,0),this.add(l);const f=new Dn(Pf,Bf,e,t);f.layers=this.layers,f.up.set(0,1,0),f.lookAt(0,0,1),this.add(f);const d=new Dn(Pf,Bf,e,t);d.layers=this.layers,d.up.set(0,1,0),d.lookAt(0,0,-1),this.add(d)}update(e,t){this.parent===null&&this.updateMatrixWorld();const n=this.renderTarget,[r,s,a,l,f,d]=this.children,p=e.getRenderTarget(),g=e.toneMapping,y=e.xr.enabled;e.toneMapping=qs,e.xr.enabled=!1;const x=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,s),e.setRenderTarget(n,2),e.render(t,a),e.setRenderTarget(n,3),e.render(t,l),e.setRenderTarget(n,4),e.render(t,f),n.texture.generateMipmaps=x,e.setRenderTarget(n,5),e.render(t,d),e.setRenderTarget(p),e.toneMapping=g,e.xr.enabled=y,n.texture.needsPMREMUpdate=!0}}class cp extends Gn{constructor(e,t,n,r,s,a,l,f,d,p){e=e!==void 0?e:[],t=t!==void 0?t:Cl,super(e,t,n,r,s,a,l,f,d,p),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class e_ extends eo{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new cp(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:On}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Nl(5,5,5),s=new Po({name:"CubemapFromEquirect",uniforms:ih(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Nr,blending:va});s.uniforms.tEquirect.value=t;const a=new Ti(r,s),l=t.minFilter;return t.minFilter===bo&&(t.minFilter=On),new $x(1,10,this).update(e,a),t.minFilter=l,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,n,r){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(s)}}const Ry=new H,QP=new H,qP=new dr;class fa{constructor(e=new H(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=Ry.subVectors(n,t).cross(QP.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const n=e.delta(Ry),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(n).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||qP.getNormalMatrix(e),r=this.coplanarPoint(Ry).applyMatrix4(e),s=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Rf=new Fl,Km=new H;class c0{constructor(e=new fa,t=new fa,n=new fa,r=new fa,s=new fa,a=new fa){this.planes=[e,t,n,r,s,a]}set(e,t,n,r,s,a){const l=this.planes;return l[0].copy(e),l[1].copy(t),l[2].copy(n),l[3].copy(r),l[4].copy(s),l[5].copy(a),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,r=n[0],s=n[1],a=n[2],l=n[3],f=n[4],d=n[5],p=n[6],g=n[7],y=n[8],x=n[9],A=n[10],w=n[11],S=n[12],E=n[13],b=n[14],T=n[15];return t[0].setComponents(l-r,g-f,w-y,T-S).normalize(),t[1].setComponents(l+r,g+f,w+y,T+S).normalize(),t[2].setComponents(l+s,g+d,w+x,T+E).normalize(),t[3].setComponents(l-s,g-d,w-x,T-E).normalize(),t[4].setComponents(l-a,g-p,w-A,T-b).normalize(),t[5].setComponents(l+a,g+p,w+A,T+b).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Rf.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Rf)}intersectsSprite(e){return Rf.center.set(0,0,0),Rf.radius=.7071067811865476,Rf.applyMatrix4(e.matrixWorld),this.intersectsSphere(Rf)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(Km.x=r.normal.x>0?e.max.x:e.min.x,Km.y=r.normal.y>0?e.max.y:e.min.y,Km.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Km)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function zC(){let i=null,e=!1,t=null,n=null;function r(s,a){t(s,a),n=i.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(n=i.requestAnimationFrame(r),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){i=s}}}function ZP(i,e){const t=e.isWebGL2,n=new WeakMap;function r(d,p){const g=d.array,y=d.usage,x=i.createBuffer();i.bindBuffer(p,x),i.bufferData(p,g,y),d.onUploadCallback();let A;if(g instanceof Float32Array)A=5126;else if(g instanceof Uint16Array)if(d.isFloat16BufferAttribute)if(t)A=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else A=5123;else if(g instanceof Int16Array)A=5122;else if(g instanceof Uint32Array)A=5125;else if(g instanceof Int32Array)A=5124;else if(g instanceof Int8Array)A=5120;else if(g instanceof Uint8Array)A=5121;else if(g instanceof Uint8ClampedArray)A=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+g);return{buffer:x,type:A,bytesPerElement:g.BYTES_PER_ELEMENT,version:d.version}}function s(d,p,g){const y=p.array,x=p.updateRange;i.bindBuffer(g,d),x.count===-1?i.bufferSubData(g,0,y):(t?i.bufferSubData(g,x.offset*y.BYTES_PER_ELEMENT,y,x.offset,x.count):i.bufferSubData(g,x.offset*y.BYTES_PER_ELEMENT,y.subarray(x.offset,x.offset+x.count)),x.count=-1),p.onUploadCallback()}function a(d){return d.isInterleavedBufferAttribute&&(d=d.data),n.get(d)}function l(d){d.isInterleavedBufferAttribute&&(d=d.data);const p=n.get(d);p&&(i.deleteBuffer(p.buffer),n.delete(d))}function f(d,p){if(d.isGLBufferAttribute){const y=n.get(d);(!y||y.version<d.version)&&n.set(d,{buffer:d.buffer,type:d.type,bytesPerElement:d.elementSize,version:d.version});return}d.isInterleavedBufferAttribute&&(d=d.data);const g=n.get(d);g===void 0?n.set(d,r(d,p)):g.version<d.version&&(s(g.buffer,d,p),g.version=d.version)}return{get:a,remove:l,update:f}}class dh extends Vt{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const s=e/2,a=t/2,l=Math.floor(n),f=Math.floor(r),d=l+1,p=f+1,g=e/l,y=t/f,x=[],A=[],w=[],S=[];for(let E=0;E<p;E++){const b=E*y-a;for(let T=0;T<d;T++){const R=T*g-s;A.push(R,-b,0),w.push(0,0,1),S.push(T/l),S.push(1-E/f)}}for(let E=0;E<f;E++)for(let b=0;b<l;b++){const T=b+d*E,R=b+d*(E+1),I=b+1+d*(E+1),F=b+1+d*E;x.push(T,R,F),x.push(R,I,F)}this.setIndex(x),this.setAttribute("position",new pt(A,3)),this.setAttribute("normal",new pt(w,3)),this.setAttribute("uv",new pt(S,2))}static fromJSON(e){return new dh(e.width,e.height,e.widthSegments,e.heightSegments)}}var $P=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,eB=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,tB=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,nB=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,iB=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,rB=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,sB="vec3 transformed = vec3( position );",oB=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,aB=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,lB=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,uB=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,cB=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,fB=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,hB=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,dB=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,pB=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,mB=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,gB=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,yB=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,vB=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,xB=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,_B=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,AB=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,wB=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,SB=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,MB=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,CB="gl_FragColor = linearToOutputTexel( gl_FragColor );",EB=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,TB=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,bB=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,PB=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,BB=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,RB=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,LB=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,IB=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,DB=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,FB=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,NB=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,kB=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,OB=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,UB=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,zB=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,GB=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,HB=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,VB=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,WB=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,jB=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,JB=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,XB=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,KB=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,YB=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,QB=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,qB=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,ZB=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,$B=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,e3=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,t3=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,n3=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,i3=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,r3=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,s3=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,o3=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,a3=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,l3=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,u3=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,c3=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,f3=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,h3=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,d3=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,p3=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,m3=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,g3=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,y3=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,v3=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,x3=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,_3=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,A3=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,w3=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,S3=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,M3=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,C3=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,E3=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,T3=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,b3=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,P3=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,B3=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,R3=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,L3=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,I3=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,D3=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,F3=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,N3=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,k3=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,O3=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,U3=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,z3=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,G3=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,H3=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,V3=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,W3=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,j3=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,J3=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,X3=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,K3=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,Y3=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,Q3=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const q3=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Z3=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,$3=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,eR=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,tR=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,nR=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,iR=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,rR=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,sR=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,oR=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,aR=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,lR=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,uR=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,cR=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,fR=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,hR=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dR=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,pR=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mR=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,gR=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yR=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,vR=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,xR=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_R=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AR=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,wR=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,SR=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,MR=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,CR=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,ER=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,TR=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,bR=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,PR=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,BR=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Wt={alphamap_fragment:$P,alphamap_pars_fragment:eB,alphatest_fragment:tB,alphatest_pars_fragment:nB,aomap_fragment:iB,aomap_pars_fragment:rB,begin_vertex:sB,beginnormal_vertex:oB,bsdfs:aB,iridescence_fragment:lB,bumpmap_pars_fragment:uB,clipping_planes_fragment:cB,clipping_planes_pars_fragment:fB,clipping_planes_pars_vertex:hB,clipping_planes_vertex:dB,color_fragment:pB,color_pars_fragment:mB,color_pars_vertex:gB,color_vertex:yB,common:vB,cube_uv_reflection_fragment:xB,defaultnormal_vertex:_B,displacementmap_pars_vertex:AB,displacementmap_vertex:wB,emissivemap_fragment:SB,emissivemap_pars_fragment:MB,encodings_fragment:CB,encodings_pars_fragment:EB,envmap_fragment:TB,envmap_common_pars_fragment:bB,envmap_pars_fragment:PB,envmap_pars_vertex:BB,envmap_physical_pars_fragment:HB,envmap_vertex:RB,fog_vertex:LB,fog_pars_vertex:IB,fog_fragment:DB,fog_pars_fragment:FB,gradientmap_pars_fragment:NB,lightmap_fragment:kB,lightmap_pars_fragment:OB,lights_lambert_fragment:UB,lights_lambert_pars_fragment:zB,lights_pars_begin:GB,lights_toon_fragment:VB,lights_toon_pars_fragment:WB,lights_phong_fragment:jB,lights_phong_pars_fragment:JB,lights_physical_fragment:XB,lights_physical_pars_fragment:KB,lights_fragment_begin:YB,lights_fragment_maps:QB,lights_fragment_end:qB,logdepthbuf_fragment:ZB,logdepthbuf_pars_fragment:$B,logdepthbuf_pars_vertex:e3,logdepthbuf_vertex:t3,map_fragment:n3,map_pars_fragment:i3,map_particle_fragment:r3,map_particle_pars_fragment:s3,metalnessmap_fragment:o3,metalnessmap_pars_fragment:a3,morphcolor_vertex:l3,morphnormal_vertex:u3,morphtarget_pars_vertex:c3,morphtarget_vertex:f3,normal_fragment_begin:h3,normal_fragment_maps:d3,normal_pars_fragment:p3,normal_pars_vertex:m3,normal_vertex:g3,normalmap_pars_fragment:y3,clearcoat_normal_fragment_begin:v3,clearcoat_normal_fragment_maps:x3,clearcoat_pars_fragment:_3,iridescence_pars_fragment:A3,output_fragment:w3,packing:S3,premultiplied_alpha_fragment:M3,project_vertex:C3,dithering_fragment:E3,dithering_pars_fragment:T3,roughnessmap_fragment:b3,roughnessmap_pars_fragment:P3,shadowmap_pars_fragment:B3,shadowmap_pars_vertex:R3,shadowmap_vertex:L3,shadowmask_pars_fragment:I3,skinbase_vertex:D3,skinning_pars_vertex:F3,skinning_vertex:N3,skinnormal_vertex:k3,specularmap_fragment:O3,specularmap_pars_fragment:U3,tonemapping_fragment:z3,tonemapping_pars_fragment:G3,transmission_fragment:H3,transmission_pars_fragment:V3,uv_pars_fragment:W3,uv_pars_vertex:j3,uv_vertex:J3,uv2_pars_fragment:X3,uv2_pars_vertex:K3,uv2_vertex:Y3,worldpos_vertex:Q3,background_vert:q3,background_frag:Z3,backgroundCube_vert:$3,backgroundCube_frag:eR,cube_vert:tR,cube_frag:nR,depth_vert:iR,depth_frag:rR,distanceRGBA_vert:sR,distanceRGBA_frag:oR,equirect_vert:aR,equirect_frag:lR,linedashed_vert:uR,linedashed_frag:cR,meshbasic_vert:fR,meshbasic_frag:hR,meshlambert_vert:dR,meshlambert_frag:pR,meshmatcap_vert:mR,meshmatcap_frag:gR,meshnormal_vert:yR,meshnormal_frag:vR,meshphong_vert:xR,meshphong_frag:_R,meshphysical_vert:AR,meshphysical_frag:wR,meshtoon_vert:SR,meshtoon_frag:MR,points_vert:CR,points_frag:ER,shadow_vert:TR,shadow_frag:bR,sprite_vert:PR,sprite_frag:BR},qe={common:{diffuse:{value:new et(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new dr},uv2Transform:{value:new dr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Be(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new et(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new et(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new dr}},sprite:{diffuse:{value:new et(16777215)},opacity:{value:1},center:{value:new Be(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new dr}}},Ks={basic:{uniforms:fr([qe.common,qe.specularmap,qe.envmap,qe.aomap,qe.lightmap,qe.fog]),vertexShader:Wt.meshbasic_vert,fragmentShader:Wt.meshbasic_frag},lambert:{uniforms:fr([qe.common,qe.specularmap,qe.envmap,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.fog,qe.lights,{emissive:{value:new et(0)}}]),vertexShader:Wt.meshlambert_vert,fragmentShader:Wt.meshlambert_frag},phong:{uniforms:fr([qe.common,qe.specularmap,qe.envmap,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.fog,qe.lights,{emissive:{value:new et(0)},specular:{value:new et(1118481)},shininess:{value:30}}]),vertexShader:Wt.meshphong_vert,fragmentShader:Wt.meshphong_frag},standard:{uniforms:fr([qe.common,qe.envmap,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.roughnessmap,qe.metalnessmap,qe.fog,qe.lights,{emissive:{value:new et(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Wt.meshphysical_vert,fragmentShader:Wt.meshphysical_frag},toon:{uniforms:fr([qe.common,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.gradientmap,qe.fog,qe.lights,{emissive:{value:new et(0)}}]),vertexShader:Wt.meshtoon_vert,fragmentShader:Wt.meshtoon_frag},matcap:{uniforms:fr([qe.common,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.fog,{matcap:{value:null}}]),vertexShader:Wt.meshmatcap_vert,fragmentShader:Wt.meshmatcap_frag},points:{uniforms:fr([qe.points,qe.fog]),vertexShader:Wt.points_vert,fragmentShader:Wt.points_frag},dashed:{uniforms:fr([qe.common,qe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Wt.linedashed_vert,fragmentShader:Wt.linedashed_frag},depth:{uniforms:fr([qe.common,qe.displacementmap]),vertexShader:Wt.depth_vert,fragmentShader:Wt.depth_frag},normal:{uniforms:fr([qe.common,qe.bumpmap,qe.normalmap,qe.displacementmap,{opacity:{value:1}}]),vertexShader:Wt.meshnormal_vert,fragmentShader:Wt.meshnormal_frag},sprite:{uniforms:fr([qe.sprite,qe.fog]),vertexShader:Wt.sprite_vert,fragmentShader:Wt.sprite_frag},background:{uniforms:{uvTransform:{value:new dr},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Wt.background_vert,fragmentShader:Wt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Wt.backgroundCube_vert,fragmentShader:Wt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Wt.cube_vert,fragmentShader:Wt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Wt.equirect_vert,fragmentShader:Wt.equirect_frag},distanceRGBA:{uniforms:fr([qe.common,qe.displacementmap,{referencePosition:{value:new H},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Wt.distanceRGBA_vert,fragmentShader:Wt.distanceRGBA_frag},shadow:{uniforms:fr([qe.lights,qe.fog,{color:{value:new et(0)},opacity:{value:1}}]),vertexShader:Wt.shadow_vert,fragmentShader:Wt.shadow_frag}};Ks.physical={uniforms:fr([Ks.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Be(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new et(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Be},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new et(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new et(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Wt.meshphysical_vert,fragmentShader:Wt.meshphysical_frag};const Ym={r:0,b:0,g:0};function RR(i,e,t,n,r,s,a){const l=new et(0);let f=s===!0?0:1,d,p,g=null,y=0,x=null;function A(S,E){let b=!1,T=E.isScene===!0?E.background:null;T&&T.isTexture&&(T=(E.backgroundBlurriness>0?t:e).get(T));const R=i.xr,I=R.getSession&&R.getSession();I&&I.environmentBlendMode==="additive"&&(T=null),T===null?w(l,f):T&&T.isColor&&(w(T,1),b=!0),(i.autoClear||b)&&i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil),T&&(T.isCubeTexture||T.mapping===fh)?(p===void 0&&(p=new Ti(new Nl(1,1,1),new Po({name:"BackgroundCubeMaterial",uniforms:ih(Ks.backgroundCube.uniforms),vertexShader:Ks.backgroundCube.vertexShader,fragmentShader:Ks.backgroundCube.fragmentShader,side:Nr,depthTest:!1,depthWrite:!1,fog:!1})),p.geometry.deleteAttribute("normal"),p.geometry.deleteAttribute("uv"),p.onBeforeRender=function(F,z,D){this.matrixWorld.copyPosition(D.matrixWorld)},Object.defineProperty(p.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(p)),p.material.uniforms.envMap.value=T,p.material.uniforms.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,p.material.uniforms.backgroundBlurriness.value=E.backgroundBlurriness,p.material.uniforms.backgroundIntensity.value=E.backgroundIntensity,p.material.toneMapped=T.encoding!==Sn,(g!==T||y!==T.version||x!==i.toneMapping)&&(p.material.needsUpdate=!0,g=T,y=T.version,x=i.toneMapping),p.layers.enableAll(),S.unshift(p,p.geometry,p.material,0,0,null)):T&&T.isTexture&&(d===void 0&&(d=new Ti(new dh(2,2),new Po({name:"BackgroundMaterial",uniforms:ih(Ks.background.uniforms),vertexShader:Ks.background.vertexShader,fragmentShader:Ks.background.fragmentShader,side:To,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(d)),d.material.uniforms.t2D.value=T,d.material.uniforms.backgroundIntensity.value=E.backgroundIntensity,d.material.toneMapped=T.encoding!==Sn,T.matrixAutoUpdate===!0&&T.updateMatrix(),d.material.uniforms.uvTransform.value.copy(T.matrix),(g!==T||y!==T.version||x!==i.toneMapping)&&(d.material.needsUpdate=!0,g=T,y=T.version,x=i.toneMapping),d.layers.enableAll(),S.unshift(d,d.geometry,d.material,0,0,null))}function w(S,E){S.getRGB(Ym,OC(i)),n.buffers.color.setClear(Ym.r,Ym.g,Ym.b,E,a)}return{getClearColor:function(){return l},setClearColor:function(S,E=1){l.set(S),f=E,w(l,f)},getClearAlpha:function(){return f},setClearAlpha:function(S){f=S,w(l,f)},render:A}}function LR(i,e,t,n){const r=i.getParameter(34921),s=n.isWebGL2?null:e.get("OES_vertex_array_object"),a=n.isWebGL2||s!==null,l={},f=S(null);let d=f,p=!1;function g($,ce,ge,ve,V){let re=!1;if(a){const k=w(ve,ge,ce);d!==k&&(d=k,x(d.object)),re=E($,ve,ge,V),re&&b($,ve,ge,V)}else{const k=ce.wireframe===!0;(d.geometry!==ve.id||d.program!==ge.id||d.wireframe!==k)&&(d.geometry=ve.id,d.program=ge.id,d.wireframe=k,re=!0)}V!==null&&t.update(V,34963),(re||p)&&(p=!1,D($,ce,ge,ve),V!==null&&i.bindBuffer(34963,t.get(V).buffer))}function y(){return n.isWebGL2?i.createVertexArray():s.createVertexArrayOES()}function x($){return n.isWebGL2?i.bindVertexArray($):s.bindVertexArrayOES($)}function A($){return n.isWebGL2?i.deleteVertexArray($):s.deleteVertexArrayOES($)}function w($,ce,ge){const ve=ge.wireframe===!0;let V=l[$.id];V===void 0&&(V={},l[$.id]=V);let re=V[ce.id];re===void 0&&(re={},V[ce.id]=re);let k=re[ve];return k===void 0&&(k=S(y()),re[ve]=k),k}function S($){const ce=[],ge=[],ve=[];for(let V=0;V<r;V++)ce[V]=0,ge[V]=0,ve[V]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ce,enabledAttributes:ge,attributeDivisors:ve,object:$,attributes:{},index:null}}function E($,ce,ge,ve){const V=d.attributes,re=ce.attributes;let k=0;const Q=ge.getAttributes();for(const K in Q)if(Q[K].location>=0){const Me=V[K];let Pe=re[K];if(Pe===void 0&&(K==="instanceMatrix"&&$.instanceMatrix&&(Pe=$.instanceMatrix),K==="instanceColor"&&$.instanceColor&&(Pe=$.instanceColor)),Me===void 0||Me.attribute!==Pe||Pe&&Me.data!==Pe.data)return!0;k++}return d.attributesNum!==k||d.index!==ve}function b($,ce,ge,ve){const V={},re=ce.attributes;let k=0;const Q=ge.getAttributes();for(const K in Q)if(Q[K].location>=0){let Me=re[K];Me===void 0&&(K==="instanceMatrix"&&$.instanceMatrix&&(Me=$.instanceMatrix),K==="instanceColor"&&$.instanceColor&&(Me=$.instanceColor));const Pe={};Pe.attribute=Me,Me&&Me.data&&(Pe.data=Me.data),V[K]=Pe,k++}d.attributes=V,d.attributesNum=k,d.index=ve}function T(){const $=d.newAttributes;for(let ce=0,ge=$.length;ce<ge;ce++)$[ce]=0}function R($){I($,0)}function I($,ce){const ge=d.newAttributes,ve=d.enabledAttributes,V=d.attributeDivisors;ge[$]=1,ve[$]===0&&(i.enableVertexAttribArray($),ve[$]=1),V[$]!==ce&&((n.isWebGL2?i:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"]($,ce),V[$]=ce)}function F(){const $=d.newAttributes,ce=d.enabledAttributes;for(let ge=0,ve=ce.length;ge<ve;ge++)ce[ge]!==$[ge]&&(i.disableVertexAttribArray(ge),ce[ge]=0)}function z($,ce,ge,ve,V,re){n.isWebGL2===!0&&(ge===5124||ge===5125)?i.vertexAttribIPointer($,ce,ge,V,re):i.vertexAttribPointer($,ce,ge,ve,V,re)}function D($,ce,ge,ve){if(n.isWebGL2===!1&&($.isInstancedMesh||ve.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;T();const V=ve.attributes,re=ge.getAttributes(),k=ce.defaultAttributeValues;for(const Q in re){const K=re[Q];if(K.location>=0){let ae=V[Q];if(ae===void 0&&(Q==="instanceMatrix"&&$.instanceMatrix&&(ae=$.instanceMatrix),Q==="instanceColor"&&$.instanceColor&&(ae=$.instanceColor)),ae!==void 0){const Me=ae.normalized,Pe=ae.itemSize,le=t.get(ae);if(le===void 0)continue;const Ge=le.buffer,Ne=le.type,Qe=le.bytesPerElement;if(ae.isInterleavedBufferAttribute){const Oe=ae.data,Ye=Oe.stride,Ee=ae.offset;if(Oe.isInstancedInterleavedBuffer){for(let we=0;we<K.locationSize;we++)I(K.location+we,Oe.meshPerAttribute);$.isInstancedMesh!==!0&&ve._maxInstanceCount===void 0&&(ve._maxInstanceCount=Oe.meshPerAttribute*Oe.count)}else for(let we=0;we<K.locationSize;we++)R(K.location+we);i.bindBuffer(34962,Ge);for(let we=0;we<K.locationSize;we++)z(K.location+we,Pe/K.locationSize,Ne,Me,Ye*Qe,(Ee+Pe/K.locationSize*we)*Qe)}else{if(ae.isInstancedBufferAttribute){for(let Oe=0;Oe<K.locationSize;Oe++)I(K.location+Oe,ae.meshPerAttribute);$.isInstancedMesh!==!0&&ve._maxInstanceCount===void 0&&(ve._maxInstanceCount=ae.meshPerAttribute*ae.count)}else for(let Oe=0;Oe<K.locationSize;Oe++)R(K.location+Oe);i.bindBuffer(34962,Ge);for(let Oe=0;Oe<K.locationSize;Oe++)z(K.location+Oe,Pe/K.locationSize,Ne,Me,Pe*Qe,Pe/K.locationSize*Oe*Qe)}}else if(k!==void 0){const Me=k[Q];if(Me!==void 0)switch(Me.length){case 2:i.vertexAttrib2fv(K.location,Me);break;case 3:i.vertexAttrib3fv(K.location,Me);break;case 4:i.vertexAttrib4fv(K.location,Me);break;default:i.vertexAttrib1fv(K.location,Me)}}}}F()}function O(){he();for(const $ in l){const ce=l[$];for(const ge in ce){const ve=ce[ge];for(const V in ve)A(ve[V].object),delete ve[V];delete ce[ge]}delete l[$]}}function G($){if(l[$.id]===void 0)return;const ce=l[$.id];for(const ge in ce){const ve=ce[ge];for(const V in ve)A(ve[V].object),delete ve[V];delete ce[ge]}delete l[$.id]}function Y($){for(const ce in l){const ge=l[ce];if(ge[$.id]===void 0)continue;const ve=ge[$.id];for(const V in ve)A(ve[V].object),delete ve[V];delete ge[$.id]}}function he(){ie(),p=!0,d!==f&&(d=f,x(d.object))}function ie(){f.geometry=null,f.program=null,f.wireframe=!1}return{setup:g,reset:he,resetDefaultState:ie,dispose:O,releaseStatesOfGeometry:G,releaseStatesOfProgram:Y,initAttributes:T,enableAttribute:R,disableUnusedAttributes:F}}function IR(i,e,t,n){const r=n.isWebGL2;let s;function a(d){s=d}function l(d,p){i.drawArrays(s,d,p),t.update(p,s,1)}function f(d,p,g){if(g===0)return;let y,x;if(r)y=i,x="drawArraysInstanced";else if(y=e.get("ANGLE_instanced_arrays"),x="drawArraysInstancedANGLE",y===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[x](s,d,p,g),t.update(p,s,g)}this.setMode=a,this.render=l,this.renderInstances=f}function DR(i,e,t){let n;function r(){if(n!==void 0)return n;if(e.has("EXT_texture_filter_anisotropic")===!0){const z=e.get("EXT_texture_filter_anisotropic");n=i.getParameter(z.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}function s(z){if(z==="highp"){if(i.getShaderPrecisionFormat(35633,36338).precision>0&&i.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";z="mediump"}return z==="mediump"&&i.getShaderPrecisionFormat(35633,36337).precision>0&&i.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&i instanceof WebGL2RenderingContext;let l=t.precision!==void 0?t.precision:"highp";const f=s(l);f!==l&&(console.warn("THREE.WebGLRenderer:",l,"not supported, using",f,"instead."),l=f);const d=a||e.has("WEBGL_draw_buffers"),p=t.logarithmicDepthBuffer===!0,g=i.getParameter(34930),y=i.getParameter(35660),x=i.getParameter(3379),A=i.getParameter(34076),w=i.getParameter(34921),S=i.getParameter(36347),E=i.getParameter(36348),b=i.getParameter(36349),T=y>0,R=a||e.has("OES_texture_float"),I=T&&R,F=a?i.getParameter(36183):0;return{isWebGL2:a,drawBuffers:d,getMaxAnisotropy:r,getMaxPrecision:s,precision:l,logarithmicDepthBuffer:p,maxTextures:g,maxVertexTextures:y,maxTextureSize:x,maxCubemapSize:A,maxAttributes:w,maxVertexUniforms:S,maxVaryings:E,maxFragmentUniforms:b,vertexTextures:T,floatFragmentTextures:R,floatVertexTextures:I,maxSamples:F}}function FR(i){const e=this;let t=null,n=0,r=!1,s=!1;const a=new fa,l=new dr,f={value:null,needsUpdate:!1};this.uniform=f,this.numPlanes=0,this.numIntersection=0,this.init=function(g,y){const x=g.length!==0||y||n!==0||r;return r=y,n=g.length,x},this.beginShadows=function(){s=!0,p(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(g,y){t=p(g,y,0)},this.setState=function(g,y,x){const A=g.clippingPlanes,w=g.clipIntersection,S=g.clipShadows,E=i.get(g);if(!r||A===null||A.length===0||s&&!S)s?p(null):d();else{const b=s?0:n,T=b*4;let R=E.clippingState||null;f.value=R,R=p(A,y,T,x);for(let I=0;I!==T;++I)R[I]=t[I];E.clippingState=R,this.numIntersection=w?this.numPlanes:0,this.numPlanes+=b}};function d(){f.value!==t&&(f.value=t,f.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function p(g,y,x,A){const w=g!==null?g.length:0;let S=null;if(w!==0){if(S=f.value,A!==!0||S===null){const E=x+w*4,b=y.matrixWorldInverse;l.getNormalMatrix(b),(S===null||S.length<E)&&(S=new Float32Array(E));for(let T=0,R=x;T!==w;++T,R+=4)a.copy(g[T]).applyMatrix4(b,l),a.normal.toArray(S,R),S[R+3]=a.constant}f.value=S,f.needsUpdate=!0}return e.numPlanes=w,e.numIntersection=0,S}}function NR(i){let e=new WeakMap;function t(a,l){return l===Vd?a.mapping=Cl:l===Wd&&(a.mapping=El),a}function n(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const l=a.mapping;if(l===Vd||l===Wd)if(e.has(a)){const f=e.get(a).texture;return t(f,a.mapping)}else{const f=a.image;if(f&&f.height>0){const d=new e_(f.height/2);return d.fromEquirectangularTexture(i,a),e.set(a,d),a.addEventListener("dispose",r),t(d.texture,a.mapping)}else return null}}return a}function r(a){const l=a.target;l.removeEventListener("dispose",r);const f=e.get(l);f!==void 0&&(e.delete(l),f.dispose())}function s(){e=new WeakMap}return{get:n,dispose:s}}class Zs extends up{constructor(e=-1,t=1,n=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=n-e,a=n+e,l=r+t,f=r-t;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,p=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=d*this.view.offsetX,a=s+d*this.view.width,l-=p*this.view.offsetY,f=l-p*this.view.height}this.projectionMatrix.makeOrthographic(s,a,l,f,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Hf=4,pA=[.125,.215,.35,.446,.526,.582],Uu=20,Ly=new Zs,mA=new et;let Iy=null;const Fu=(1+Math.sqrt(5))/2,Lf=1/Fu,gA=[new H(1,1,1),new H(-1,1,1),new H(1,1,-1),new H(-1,1,-1),new H(0,Fu,Lf),new H(0,Fu,-Lf),new H(Lf,0,Fu),new H(-Lf,0,Fu),new H(Fu,Lf,0),new H(-Fu,Lf,0)];class ox{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){Iy=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,n,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=xA(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=vA(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Iy),e.scissorTest=!1,Qm(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Cl||e.mapping===El?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Iy=this._renderer.getRenderTarget();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:On,minFilter:On,generateMipmaps:!1,type:eh,format:Fr,encoding:bl,depthBuffer:!1},r=yA(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=yA(e,t,n);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=kR(s)),this._blurMaterial=OR(s,e,t)}return r}_compileMaterial(e){const t=new Ti(this._lodPlanes[0],e);this._renderer.compile(t,Ly)}_sceneToCubeUV(e,t,n,r){const l=new Dn(90,1,t,n),f=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],p=this._renderer,g=p.autoClear,y=p.toneMapping;p.getClearColor(mA),p.toneMapping=qs,p.autoClear=!1;const x=new qr({name:"PMREM.Background",side:Nr,depthWrite:!1,depthTest:!1}),A=new Ti(new Nl,x);let w=!1;const S=e.background;S?S.isColor&&(x.color.copy(S),e.background=null,w=!0):(x.color.copy(mA),w=!0);for(let E=0;E<6;E++){const b=E%3;b===0?(l.up.set(0,f[E],0),l.lookAt(d[E],0,0)):b===1?(l.up.set(0,0,f[E]),l.lookAt(0,d[E],0)):(l.up.set(0,f[E],0),l.lookAt(0,0,d[E]));const T=this._cubeSize;Qm(r,b*T,E>2?T:0,T,T),p.setRenderTarget(r),w&&p.render(A,l),p.render(e,l)}A.geometry.dispose(),A.material.dispose(),p.toneMapping=y,p.autoClear=g,e.background=S}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===Cl||e.mapping===El;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=xA()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=vA());const s=r?this._cubemapMaterial:this._equirectMaterial,a=new Ti(this._lodPlanes[0],s),l=s.uniforms;l.envMap.value=e;const f=this._cubeSize;Qm(t,0,0,3*f,2*f),n.setRenderTarget(t),n.render(a,Ly)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=gA[(r-1)%gA.length];this._blur(e,r-1,r,s,a)}t.autoClear=n}_blur(e,t,n,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",s),this._halfBlur(a,e,n,n,r,"longitudinal",s)}_halfBlur(e,t,n,r,s,a,l){const f=this._renderer,d=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const p=3,g=new Ti(this._lodPlanes[r],d),y=d.uniforms,x=this._sizeLods[n]-1,A=isFinite(s)?Math.PI/(2*x):2*Math.PI/(2*Uu-1),w=s/A,S=isFinite(s)?1+Math.floor(p*w):Uu;S>Uu&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${S} samples when the maximum is set to ${Uu}`);const E=[];let b=0;for(let z=0;z<Uu;++z){const D=z/w,O=Math.exp(-D*D/2);E.push(O),z===0?b+=O:z<S&&(b+=2*O)}for(let z=0;z<E.length;z++)E[z]=E[z]/b;y.envMap.value=e.texture,y.samples.value=S,y.weights.value=E,y.latitudinal.value=a==="latitudinal",l&&(y.poleAxis.value=l);const{_lodMax:T}=this;y.dTheta.value=A,y.mipInt.value=T-n;const R=this._sizeLods[r],I=3*R*(r>T-Hf?r-T+Hf:0),F=4*(this._cubeSize-R);Qm(t,I,F,3*R,2*R),f.setRenderTarget(t),f.render(g,Ly)}}function kR(i){const e=[],t=[],n=[];let r=i;const s=i-Hf+1+pA.length;for(let a=0;a<s;a++){const l=Math.pow(2,r);t.push(l);let f=1/l;a>i-Hf?f=pA[a-i+Hf-1]:a===0&&(f=0),n.push(f);const d=1/(l-2),p=-d,g=1+d,y=[p,p,g,p,g,g,p,p,g,g,p,g],x=6,A=6,w=3,S=2,E=1,b=new Float32Array(w*A*x),T=new Float32Array(S*A*x),R=new Float32Array(E*A*x);for(let F=0;F<x;F++){const z=F%3*2/3-1,D=F>2?0:-1,O=[z,D,0,z+2/3,D,0,z+2/3,D+1,0,z,D,0,z+2/3,D+1,0,z,D+1,0];b.set(O,w*A*F),T.set(y,S*A*F);const G=[F,F,F,F,F,F];R.set(G,E*A*F)}const I=new Vt;I.setAttribute("position",new cn(b,w)),I.setAttribute("uv",new cn(T,S)),I.setAttribute("faceIndex",new cn(R,E)),e.push(I),r>Hf&&r--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function yA(i,e,t){const n=new eo(i,e,t);return n.texture.mapping=fh,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function Qm(i,e,t,n,r){i.viewport.set(e,t,n,r),i.scissor.set(e,t,n,r)}function OR(i,e,t){const n=new Float32Array(Uu),r=new H(0,1,0);return new Po({name:"SphericalGaussianBlur",defines:{n:Uu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:t_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:va,depthTest:!1,depthWrite:!1})}function vA(){return new Po({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:t_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:va,depthTest:!1,depthWrite:!1})}function xA(){return new Po({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:t_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:va,depthTest:!1,depthWrite:!1})}function t_(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function UR(i){let e=new WeakMap,t=null;function n(l){if(l&&l.isTexture){const f=l.mapping,d=f===Vd||f===Wd,p=f===Cl||f===El;if(d||p)if(l.isRenderTargetTexture&&l.needsPMREMUpdate===!0){l.needsPMREMUpdate=!1;let g=e.get(l);return t===null&&(t=new ox(i)),g=d?t.fromEquirectangular(l,g):t.fromCubemap(l,g),e.set(l,g),g.texture}else{if(e.has(l))return e.get(l).texture;{const g=l.image;if(d&&g&&g.height>0||p&&g&&r(g)){t===null&&(t=new ox(i));const y=d?t.fromEquirectangular(l):t.fromCubemap(l);return e.set(l,y),l.addEventListener("dispose",s),y.texture}else return null}}}return l}function r(l){let f=0;const d=6;for(let p=0;p<d;p++)l[p]!==void 0&&f++;return f===d}function s(l){const f=l.target;f.removeEventListener("dispose",s);const d=e.get(f);d!==void 0&&(e.delete(f),d.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:a}}function zR(i){const e={};function t(n){if(e[n]!==void 0)return e[n];let r;switch(n){case"WEBGL_depth_texture":r=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=i.getExtension(n)}return e[n]=r,r}return{has:function(n){return t(n)!==null},init:function(n){n.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(n){const r=t(n);return r===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function GR(i,e,t,n){const r={},s=new WeakMap;function a(g){const y=g.target;y.index!==null&&e.remove(y.index);for(const A in y.attributes)e.remove(y.attributes[A]);y.removeEventListener("dispose",a),delete r[y.id];const x=s.get(y);x&&(e.remove(x),s.delete(y)),n.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,t.memory.geometries--}function l(g,y){return r[y.id]===!0||(y.addEventListener("dispose",a),r[y.id]=!0,t.memory.geometries++),y}function f(g){const y=g.attributes;for(const A in y)e.update(y[A],34962);const x=g.morphAttributes;for(const A in x){const w=x[A];for(let S=0,E=w.length;S<E;S++)e.update(w[S],34962)}}function d(g){const y=[],x=g.index,A=g.attributes.position;let w=0;if(x!==null){const b=x.array;w=x.version;for(let T=0,R=b.length;T<R;T+=3){const I=b[T+0],F=b[T+1],z=b[T+2];y.push(I,F,F,z,z,I)}}else{const b=A.array;w=A.version;for(let T=0,R=b.length/3-1;T<R;T+=3){const I=T+0,F=T+1,z=T+2;y.push(I,F,F,z,z,I)}}const S=new(NC(y)?Zx:qx)(y,1);S.version=w;const E=s.get(g);E&&e.remove(E),s.set(g,S)}function p(g){const y=s.get(g);if(y){const x=g.index;x!==null&&y.version<x.version&&d(g)}else d(g);return s.get(g)}return{get:l,update:f,getWireframeAttribute:p}}function HR(i,e,t,n){const r=n.isWebGL2;let s;function a(y){s=y}let l,f;function d(y){l=y.type,f=y.bytesPerElement}function p(y,x){i.drawElements(s,x,l,y*f),t.update(x,s,1)}function g(y,x,A){if(A===0)return;let w,S;if(r)w=i,S="drawElementsInstanced";else if(w=e.get("ANGLE_instanced_arrays"),S="drawElementsInstancedANGLE",w===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}w[S](s,x,l,y*f,A),t.update(x,s,A)}this.setMode=a,this.setIndex=d,this.render=p,this.renderInstances=g}function VR(i){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(s,a,l){switch(t.calls++,a){case 4:t.triangles+=l*(s/3);break;case 1:t.lines+=l*(s/2);break;case 3:t.lines+=l*(s-1);break;case 2:t.lines+=l*s;break;case 0:t.points+=l*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:n}}function WR(i,e){return i[0]-e[0]}function jR(i,e){return Math.abs(e[1])-Math.abs(i[1])}function JR(i,e,t){const n={},r=new Float32Array(8),s=new WeakMap,a=new pn,l=[];for(let d=0;d<8;d++)l[d]=[d,0];function f(d,p,g,y){const x=d.morphTargetInfluences;if(e.isWebGL2===!0){const w=p.morphAttributes.position||p.morphAttributes.normal||p.morphAttributes.color,S=w!==void 0?w.length:0;let E=s.get(p);if(E===void 0||E.count!==S){let ge=function(){$.dispose(),s.delete(p),p.removeEventListener("dispose",ge)};var A=ge;E!==void 0&&E.texture.dispose();const R=p.morphAttributes.position!==void 0,I=p.morphAttributes.normal!==void 0,F=p.morphAttributes.color!==void 0,z=p.morphAttributes.position||[],D=p.morphAttributes.normal||[],O=p.morphAttributes.color||[];let G=0;R===!0&&(G=1),I===!0&&(G=2),F===!0&&(G=3);let Y=p.attributes.position.count*G,he=1;Y>e.maxTextureSize&&(he=Math.ceil(Y/e.maxTextureSize),Y=e.maxTextureSize);const ie=new Float32Array(Y*he*4*S),$=new u0(ie,Y,he,S);$.type=pa,$.needsUpdate=!0;const ce=G*4;for(let ve=0;ve<S;ve++){const V=z[ve],re=D[ve],k=O[ve],Q=Y*he*4*ve;for(let K=0;K<V.count;K++){const ae=K*ce;R===!0&&(a.fromBufferAttribute(V,K),ie[Q+ae+0]=a.x,ie[Q+ae+1]=a.y,ie[Q+ae+2]=a.z,ie[Q+ae+3]=0),I===!0&&(a.fromBufferAttribute(re,K),ie[Q+ae+4]=a.x,ie[Q+ae+5]=a.y,ie[Q+ae+6]=a.z,ie[Q+ae+7]=0),F===!0&&(a.fromBufferAttribute(k,K),ie[Q+ae+8]=a.x,ie[Q+ae+9]=a.y,ie[Q+ae+10]=a.z,ie[Q+ae+11]=k.itemSize===4?a.w:1)}}E={count:S,texture:$,size:new Be(Y,he)},s.set(p,E),p.addEventListener("dispose",ge)}let b=0;for(let R=0;R<x.length;R++)b+=x[R];const T=p.morphTargetsRelative?1:1-b;y.getUniforms().setValue(i,"morphTargetBaseInfluence",T),y.getUniforms().setValue(i,"morphTargetInfluences",x),y.getUniforms().setValue(i,"morphTargetsTexture",E.texture,t),y.getUniforms().setValue(i,"morphTargetsTextureSize",E.size)}else{const w=x===void 0?0:x.length;let S=n[p.id];if(S===void 0||S.length!==w){S=[];for(let I=0;I<w;I++)S[I]=[I,0];n[p.id]=S}for(let I=0;I<w;I++){const F=S[I];F[0]=I,F[1]=x[I]}S.sort(jR);for(let I=0;I<8;I++)I<w&&S[I][1]?(l[I][0]=S[I][0],l[I][1]=S[I][1]):(l[I][0]=Number.MAX_SAFE_INTEGER,l[I][1]=0);l.sort(WR);const E=p.morphAttributes.position,b=p.morphAttributes.normal;let T=0;for(let I=0;I<8;I++){const F=l[I],z=F[0],D=F[1];z!==Number.MAX_SAFE_INTEGER&&D?(E&&p.getAttribute("morphTarget"+I)!==E[z]&&p.setAttribute("morphTarget"+I,E[z]),b&&p.getAttribute("morphNormal"+I)!==b[z]&&p.setAttribute("morphNormal"+I,b[z]),r[I]=D,T+=D):(E&&p.hasAttribute("morphTarget"+I)===!0&&p.deleteAttribute("morphTarget"+I),b&&p.hasAttribute("morphNormal"+I)===!0&&p.deleteAttribute("morphNormal"+I),r[I]=0)}const R=p.morphTargetsRelative?1:1-T;y.getUniforms().setValue(i,"morphTargetBaseInfluence",R),y.getUniforms().setValue(i,"morphTargetInfluences",r)}}return{update:f}}function XR(i,e,t,n){let r=new WeakMap;function s(f){const d=n.render.frame,p=f.geometry,g=e.get(f,p);return r.get(g)!==d&&(e.update(g),r.set(g,d)),f.isInstancedMesh&&(f.hasEventListener("dispose",l)===!1&&f.addEventListener("dispose",l),t.update(f.instanceMatrix,34962),f.instanceColor!==null&&t.update(f.instanceColor,34962)),g}function a(){r=new WeakMap}function l(f){const d=f.target;d.removeEventListener("dispose",l),t.remove(d.instanceMatrix),d.instanceColor!==null&&t.remove(d.instanceColor)}return{update:s,dispose:a}}const GC=new Gn,HC=new u0,VC=new Qx,WC=new cp,_A=[],AA=[],wA=new Float32Array(16),SA=new Float32Array(9),MA=new Float32Array(4);function ph(i,e,t){const n=i[0];if(n<=0||n>0)return i;const r=e*t;let s=_A[r];if(s===void 0&&(s=new Float32Array(r),_A[r]=s),e!==0){n.toArray(s,0);for(let a=1,l=0;a!==e;++a)l+=t,i[a].toArray(s,l)}return s}function xi(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function _i(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}function f0(i,e){let t=AA[e];t===void 0&&(t=new Int32Array(e),AA[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}function KR(i,e){const t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function YR(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(xi(t,e))return;i.uniform2fv(this.addr,e),_i(t,e)}}function QR(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(xi(t,e))return;i.uniform3fv(this.addr,e),_i(t,e)}}function qR(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(xi(t,e))return;i.uniform4fv(this.addr,e),_i(t,e)}}function ZR(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(xi(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),_i(t,e)}else{if(xi(t,n))return;MA.set(n),i.uniformMatrix2fv(this.addr,!1,MA),_i(t,n)}}function $R(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(xi(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),_i(t,e)}else{if(xi(t,n))return;SA.set(n),i.uniformMatrix3fv(this.addr,!1,SA),_i(t,n)}}function eL(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(xi(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),_i(t,e)}else{if(xi(t,n))return;wA.set(n),i.uniformMatrix4fv(this.addr,!1,wA),_i(t,n)}}function tL(i,e){const t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function nL(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(xi(t,e))return;i.uniform2iv(this.addr,e),_i(t,e)}}function iL(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(xi(t,e))return;i.uniform3iv(this.addr,e),_i(t,e)}}function rL(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(xi(t,e))return;i.uniform4iv(this.addr,e),_i(t,e)}}function sL(i,e){const t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function oL(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(xi(t,e))return;i.uniform2uiv(this.addr,e),_i(t,e)}}function aL(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(xi(t,e))return;i.uniform3uiv(this.addr,e),_i(t,e)}}function lL(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(xi(t,e))return;i.uniform4uiv(this.addr,e),_i(t,e)}}function uL(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2D(e||GC,r)}function cL(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||VC,r)}function fL(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTextureCube(e||WC,r)}function hL(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||HC,r)}function dL(i){switch(i){case 5126:return KR;case 35664:return YR;case 35665:return QR;case 35666:return qR;case 35674:return ZR;case 35675:return $R;case 35676:return eL;case 5124:case 35670:return tL;case 35667:case 35671:return nL;case 35668:case 35672:return iL;case 35669:case 35673:return rL;case 5125:return sL;case 36294:return oL;case 36295:return aL;case 36296:return lL;case 35678:case 36198:case 36298:case 36306:case 35682:return uL;case 35679:case 36299:case 36307:return cL;case 35680:case 36300:case 36308:case 36293:return fL;case 36289:case 36303:case 36311:case 36292:return hL}}function pL(i,e){i.uniform1fv(this.addr,e)}function mL(i,e){const t=ph(e,this.size,2);i.uniform2fv(this.addr,t)}function gL(i,e){const t=ph(e,this.size,3);i.uniform3fv(this.addr,t)}function yL(i,e){const t=ph(e,this.size,4);i.uniform4fv(this.addr,t)}function vL(i,e){const t=ph(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function xL(i,e){const t=ph(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function _L(i,e){const t=ph(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function AL(i,e){i.uniform1iv(this.addr,e)}function wL(i,e){i.uniform2iv(this.addr,e)}function SL(i,e){i.uniform3iv(this.addr,e)}function ML(i,e){i.uniform4iv(this.addr,e)}function CL(i,e){i.uniform1uiv(this.addr,e)}function EL(i,e){i.uniform2uiv(this.addr,e)}function TL(i,e){i.uniform3uiv(this.addr,e)}function bL(i,e){i.uniform4uiv(this.addr,e)}function PL(i,e,t){const n=this.cache,r=e.length,s=f0(t,r);xi(n,s)||(i.uniform1iv(this.addr,s),_i(n,s));for(let a=0;a!==r;++a)t.setTexture2D(e[a]||GC,s[a])}function BL(i,e,t){const n=this.cache,r=e.length,s=f0(t,r);xi(n,s)||(i.uniform1iv(this.addr,s),_i(n,s));for(let a=0;a!==r;++a)t.setTexture3D(e[a]||VC,s[a])}function RL(i,e,t){const n=this.cache,r=e.length,s=f0(t,r);xi(n,s)||(i.uniform1iv(this.addr,s),_i(n,s));for(let a=0;a!==r;++a)t.setTextureCube(e[a]||WC,s[a])}function LL(i,e,t){const n=this.cache,r=e.length,s=f0(t,r);xi(n,s)||(i.uniform1iv(this.addr,s),_i(n,s));for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||HC,s[a])}function IL(i){switch(i){case 5126:return pL;case 35664:return mL;case 35665:return gL;case 35666:return yL;case 35674:return vL;case 35675:return xL;case 35676:return _L;case 5124:case 35670:return AL;case 35667:case 35671:return wL;case 35668:case 35672:return SL;case 35669:case 35673:return ML;case 5125:return CL;case 36294:return EL;case 36295:return TL;case 36296:return bL;case 35678:case 36198:case 36298:case 36306:case 35682:return PL;case 35679:case 36299:case 36307:return BL;case 35680:case 36300:case 36308:case 36293:return RL;case 36289:case 36303:case 36311:case 36292:return LL}}class DL{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=dL(t.type)}}class FL{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=IL(t.type)}}class NL{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const l=r[s];l.setValue(e,t[l.id],n)}}}const Dy=/(\w+)(\])?(\[|\.)?/g;function CA(i,e){i.seq.push(e),i.map[e.id]=e}function kL(i,e,t){const n=i.name,r=n.length;for(Dy.lastIndex=0;;){const s=Dy.exec(n),a=Dy.lastIndex;let l=s[1];const f=s[2]==="]",d=s[3];if(f&&(l=l|0),d===void 0||d==="["&&a+2===r){CA(t,d===void 0?new DL(l,i,e):new FL(l,i,e));break}else{let g=t.map[l];g===void 0&&(g=new NL(l),CA(t,g)),t=g}}}class Fg{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let r=0;r<n;++r){const s=e.getActiveUniform(t,r),a=e.getUniformLocation(t,s.name);kL(s,a,this)}}setValue(e,t,n,r){const s=this.map[t];s!==void 0&&s.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];r!==void 0&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let s=0,a=t.length;s!==a;++s){const l=t[s],f=n[l.id];f.needsUpdate!==!1&&l.setValue(e,f.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,s=e.length;r!==s;++r){const a=e[r];a.id in t&&n.push(a)}return n}}function EA(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}let OL=0;function UL(i,e){const t=i.split(`
`),n=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=r;a<s;a++){const l=a+1;n.push(`${l===e?">":" "} ${l}: ${t[a]}`)}return n.join(`
`)}function zL(i){switch(i){case bl:return["Linear","( value )"];case Sn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",i),["Linear","( value )"]}}function TA(i,e,t){const n=i.getShaderParameter(e,35713),r=i.getShaderInfoLog(e).trim();if(n&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const a=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+UL(i.getShaderSource(e),a)}else return r}function GL(i,e){const t=zL(e);return"vec4 "+i+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function HL(i,e){let t;switch(e){case aC:t="Linear";break;case lC:t="Reinhard";break;case uC:t="OptimizedCineon";break;case Wx:t="ACESFilmic";break;case cC:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function VL(i){return[i.extensionDerivatives||i.envMapCubeUVHeight||i.bumpMap||i.tangentSpaceNormalMap||i.clearcoatNormalMap||i.flatShading||i.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(i.extensionFragDepth||i.logarithmicDepthBuffer)&&i.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",i.extensionDrawBuffers&&i.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(i.extensionShaderTextureLOD||i.envMap||i.transmission)&&i.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Pd).join(`
`)}function WL(i){const e=[];for(const t in i){const n=i[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function jL(i,e){const t={},n=i.getProgramParameter(e,35721);for(let r=0;r<n;r++){const s=i.getActiveAttrib(e,r),a=s.name;let l=1;s.type===35674&&(l=2),s.type===35675&&(l=3),s.type===35676&&(l=4),t[a]={type:s.type,location:i.getAttribLocation(e,a),locationSize:l}}return t}function Pd(i){return i!==""}function bA(i,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function PA(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const JL=/^[ \t]*#include +<([\w\d./]+)>/gm;function ax(i){return i.replace(JL,XL)}function XL(i,e){const t=Wt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return ax(t)}const KL=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function BA(i){return i.replace(KL,YL)}function YL(i,e,t,n){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function RA(i){let e="precision "+i.precision+` float;
precision `+i.precision+" int;";return i.precision==="highp"?e+=`
#define HIGH_PRECISION`:i.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function QL(i){let e="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===s0?e="SHADOWMAP_TYPE_PCF":i.shadowMapType===Rd?e="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===Gu&&(e="SHADOWMAP_TYPE_VSM"),e}function qL(i){let e="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case Cl:case El:e="ENVMAP_TYPE_CUBE";break;case fh:e="ENVMAP_TYPE_CUBE_UV";break}return e}function ZL(i){let e="ENVMAP_MODE_REFLECTION";if(i.envMap)switch(i.envMapMode){case El:e="ENVMAP_MODE_REFRACTION";break}return e}function $L(i){let e="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case ap:e="ENVMAP_BLENDING_MULTIPLY";break;case sC:e="ENVMAP_BLENDING_MIX";break;case oC:e="ENVMAP_BLENDING_ADD";break}return e}function eI(i){const e=i.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:n,maxMip:t}}function tI(i,e,t,n){const r=i.getContext(),s=t.defines;let a=t.vertexShader,l=t.fragmentShader;const f=QL(t),d=qL(t),p=ZL(t),g=$L(t),y=eI(t),x=t.isWebGL2?"":VL(t),A=WL(s),w=r.createProgram();let S,E,b=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(S=[A].filter(Pd).join(`
`),S.length>0&&(S+=`
`),E=[x,A].filter(Pd).join(`
`),E.length>0&&(E+=`
`)):(S=[RA(t),"#define SHADER_NAME "+t.shaderName,A,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+f:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Pd).join(`
`),E=[x,RA(t),"#define SHADER_NAME "+t.shaderName,A,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.envMap?"#define "+p:"",t.envMap?"#define "+g:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+f:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==qs?"#define TONE_MAPPING":"",t.toneMapping!==qs?Wt.tonemapping_pars_fragment:"",t.toneMapping!==qs?HL("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Wt.encodings_pars_fragment,GL("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Pd).join(`
`)),a=ax(a),a=bA(a,t),a=PA(a,t),l=ax(l),l=bA(l,t),l=PA(l,t),a=BA(a),l=BA(l),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,S=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+S,E=["#define varying in",t.glslVersion===rx?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===rx?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+E);const T=b+S+a,R=b+E+l,I=EA(r,35633,T),F=EA(r,35632,R);if(r.attachShader(w,I),r.attachShader(w,F),t.index0AttributeName!==void 0?r.bindAttribLocation(w,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(w,0,"position"),r.linkProgram(w),i.debug.checkShaderErrors){const O=r.getProgramInfoLog(w).trim(),G=r.getShaderInfoLog(I).trim(),Y=r.getShaderInfoLog(F).trim();let he=!0,ie=!0;if(r.getProgramParameter(w,35714)===!1){he=!1;const $=TA(r,I,"vertex"),ce=TA(r,F,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(w,35715)+`

Program Info Log: `+O+`
`+$+`
`+ce)}else O!==""?console.warn("THREE.WebGLProgram: Program Info Log:",O):(G===""||Y==="")&&(ie=!1);ie&&(this.diagnostics={runnable:he,programLog:O,vertexShader:{log:G,prefix:S},fragmentShader:{log:Y,prefix:E}})}r.deleteShader(I),r.deleteShader(F);let z;this.getUniforms=function(){return z===void 0&&(z=new Fg(r,w)),z};let D;return this.getAttributes=function(){return D===void 0&&(D=jL(r,w)),D},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(w),this.program=void 0},this.name=t.shaderName,this.id=OL++,this.cacheKey=e,this.usedTimes=1,this.program=w,this.vertexShader=I,this.fragmentShader=F,this}let nI=0;class iI{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new rI(e),t.set(e,n)),n}}class rI{constructor(e){this.id=nI++,this.code=e,this.usedTimes=0}}function sI(i,e,t,n,r,s,a){const l=new ec,f=new iI,d=[],p=r.isWebGL2,g=r.logarithmicDepthBuffer,y=r.vertexTextures;let x=r.precision;const A={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function w(D,O,G,Y,he){const ie=Y.fog,$=he.geometry,ce=D.isMeshStandardMaterial?Y.environment:null,ge=(D.isMeshStandardMaterial?t:e).get(D.envMap||ce),ve=ge&&ge.mapping===fh?ge.image.height:null,V=A[D.type];D.precision!==null&&(x=r.getMaxPrecision(D.precision),x!==D.precision&&console.warn("THREE.WebGLProgram.getParameters:",D.precision,"not supported, using",x,"instead."));const re=$.morphAttributes.position||$.morphAttributes.normal||$.morphAttributes.color,k=re!==void 0?re.length:0;let Q=0;$.morphAttributes.position!==void 0&&(Q=1),$.morphAttributes.normal!==void 0&&(Q=2),$.morphAttributes.color!==void 0&&(Q=3);let K,ae,Me,Pe;if(V){const Ye=Ks[V];K=Ye.vertexShader,ae=Ye.fragmentShader}else K=D.vertexShader,ae=D.fragmentShader,f.update(D),Me=f.getVertexShaderID(D),Pe=f.getFragmentShaderID(D);const le=i.getRenderTarget(),Ge=D.alphaTest>0,Ne=D.clearcoat>0,Qe=D.iridescence>0;return{isWebGL2:p,shaderID:V,shaderName:D.type,vertexShader:K,fragmentShader:ae,defines:D.defines,customVertexShaderID:Me,customFragmentShaderID:Pe,isRawShaderMaterial:D.isRawShaderMaterial===!0,glslVersion:D.glslVersion,precision:x,instancing:he.isInstancedMesh===!0,instancingColor:he.isInstancedMesh===!0&&he.instanceColor!==null,supportsVertexTextures:y,outputEncoding:le===null?i.outputEncoding:le.isXRRenderTarget===!0?le.texture.encoding:bl,map:!!D.map,matcap:!!D.matcap,envMap:!!ge,envMapMode:ge&&ge.mapping,envMapCubeUVHeight:ve,lightMap:!!D.lightMap,aoMap:!!D.aoMap,emissiveMap:!!D.emissiveMap,bumpMap:!!D.bumpMap,normalMap:!!D.normalMap,objectSpaceNormalMap:D.normalMapType===LC,tangentSpaceNormalMap:D.normalMapType===Il,decodeVideoTexture:!!D.map&&D.map.isVideoTexture===!0&&D.map.encoding===Sn,clearcoat:Ne,clearcoatMap:Ne&&!!D.clearcoatMap,clearcoatRoughnessMap:Ne&&!!D.clearcoatRoughnessMap,clearcoatNormalMap:Ne&&!!D.clearcoatNormalMap,iridescence:Qe,iridescenceMap:Qe&&!!D.iridescenceMap,iridescenceThicknessMap:Qe&&!!D.iridescenceThicknessMap,displacementMap:!!D.displacementMap,roughnessMap:!!D.roughnessMap,metalnessMap:!!D.metalnessMap,specularMap:!!D.specularMap,specularIntensityMap:!!D.specularIntensityMap,specularColorMap:!!D.specularColorMap,opaque:D.transparent===!1&&D.blending===Yu,alphaMap:!!D.alphaMap,alphaTest:Ge,gradientMap:!!D.gradientMap,sheen:D.sheen>0,sheenColorMap:!!D.sheenColorMap,sheenRoughnessMap:!!D.sheenRoughnessMap,transmission:D.transmission>0,transmissionMap:!!D.transmissionMap,thicknessMap:!!D.thicknessMap,combine:D.combine,vertexTangents:!!D.normalMap&&!!$.attributes.tangent,vertexColors:D.vertexColors,vertexAlphas:D.vertexColors===!0&&!!$.attributes.color&&$.attributes.color.itemSize===4,vertexUvs:!!D.map||!!D.bumpMap||!!D.normalMap||!!D.specularMap||!!D.alphaMap||!!D.emissiveMap||!!D.roughnessMap||!!D.metalnessMap||!!D.clearcoatMap||!!D.clearcoatRoughnessMap||!!D.clearcoatNormalMap||!!D.iridescenceMap||!!D.iridescenceThicknessMap||!!D.displacementMap||!!D.transmissionMap||!!D.thicknessMap||!!D.specularIntensityMap||!!D.specularColorMap||!!D.sheenColorMap||!!D.sheenRoughnessMap,uvsVertexOnly:!(D.map||D.bumpMap||D.normalMap||D.specularMap||D.alphaMap||D.emissiveMap||D.roughnessMap||D.metalnessMap||D.clearcoatNormalMap||D.iridescenceMap||D.iridescenceThicknessMap||D.transmission>0||D.transmissionMap||D.thicknessMap||D.specularIntensityMap||D.specularColorMap||D.sheen>0||D.sheenColorMap||D.sheenRoughnessMap)&&!!D.displacementMap,fog:!!ie,useFog:D.fog===!0,fogExp2:ie&&ie.isFogExp2,flatShading:!!D.flatShading,sizeAttenuation:D.sizeAttenuation,logarithmicDepthBuffer:g,skinning:he.isSkinnedMesh===!0,morphTargets:$.morphAttributes.position!==void 0,morphNormals:$.morphAttributes.normal!==void 0,morphColors:$.morphAttributes.color!==void 0,morphTargetsCount:k,morphTextureStride:Q,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numSpotLightMaps:O.spotLightMap.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numSpotLightShadowsWithMaps:O.numSpotLightShadowsWithMaps,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:D.dithering,shadowMapEnabled:i.shadowMap.enabled&&G.length>0,shadowMapType:i.shadowMap.type,toneMapping:D.toneMapped?i.toneMapping:qs,physicallyCorrectLights:i.physicallyCorrectLights,premultipliedAlpha:D.premultipliedAlpha,doubleSided:D.side===Ys,flipSided:D.side===Nr,useDepthPacking:!!D.depthPacking,depthPacking:D.depthPacking||0,index0AttributeName:D.index0AttributeName,extensionDerivatives:D.extensions&&D.extensions.derivatives,extensionFragDepth:D.extensions&&D.extensions.fragDepth,extensionDrawBuffers:D.extensions&&D.extensions.drawBuffers,extensionShaderTextureLOD:D.extensions&&D.extensions.shaderTextureLOD,rendererExtensionFragDepth:p||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:p||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:p||n.has("EXT_shader_texture_lod"),customProgramCacheKey:D.customProgramCacheKey()}}function S(D){const O=[];if(D.shaderID?O.push(D.shaderID):(O.push(D.customVertexShaderID),O.push(D.customFragmentShaderID)),D.defines!==void 0)for(const G in D.defines)O.push(G),O.push(D.defines[G]);return D.isRawShaderMaterial===!1&&(E(O,D),b(O,D),O.push(i.outputEncoding)),O.push(D.customProgramCacheKey),O.join()}function E(D,O){D.push(O.precision),D.push(O.outputEncoding),D.push(O.envMapMode),D.push(O.envMapCubeUVHeight),D.push(O.combine),D.push(O.vertexUvs),D.push(O.fogExp2),D.push(O.sizeAttenuation),D.push(O.morphTargetsCount),D.push(O.morphAttributeCount),D.push(O.numDirLights),D.push(O.numPointLights),D.push(O.numSpotLights),D.push(O.numSpotLightMaps),D.push(O.numHemiLights),D.push(O.numRectAreaLights),D.push(O.numDirLightShadows),D.push(O.numPointLightShadows),D.push(O.numSpotLightShadows),D.push(O.numSpotLightShadowsWithMaps),D.push(O.shadowMapType),D.push(O.toneMapping),D.push(O.numClippingPlanes),D.push(O.numClipIntersection),D.push(O.depthPacking)}function b(D,O){l.disableAll(),O.isWebGL2&&l.enable(0),O.supportsVertexTextures&&l.enable(1),O.instancing&&l.enable(2),O.instancingColor&&l.enable(3),O.map&&l.enable(4),O.matcap&&l.enable(5),O.envMap&&l.enable(6),O.lightMap&&l.enable(7),O.aoMap&&l.enable(8),O.emissiveMap&&l.enable(9),O.bumpMap&&l.enable(10),O.normalMap&&l.enable(11),O.objectSpaceNormalMap&&l.enable(12),O.tangentSpaceNormalMap&&l.enable(13),O.clearcoat&&l.enable(14),O.clearcoatMap&&l.enable(15),O.clearcoatRoughnessMap&&l.enable(16),O.clearcoatNormalMap&&l.enable(17),O.iridescence&&l.enable(18),O.iridescenceMap&&l.enable(19),O.iridescenceThicknessMap&&l.enable(20),O.displacementMap&&l.enable(21),O.specularMap&&l.enable(22),O.roughnessMap&&l.enable(23),O.metalnessMap&&l.enable(24),O.gradientMap&&l.enable(25),O.alphaMap&&l.enable(26),O.alphaTest&&l.enable(27),O.vertexColors&&l.enable(28),O.vertexAlphas&&l.enable(29),O.vertexUvs&&l.enable(30),O.vertexTangents&&l.enable(31),O.uvsVertexOnly&&l.enable(32),D.push(l.mask),l.disableAll(),O.fog&&l.enable(0),O.useFog&&l.enable(1),O.flatShading&&l.enable(2),O.logarithmicDepthBuffer&&l.enable(3),O.skinning&&l.enable(4),O.morphTargets&&l.enable(5),O.morphNormals&&l.enable(6),O.morphColors&&l.enable(7),O.premultipliedAlpha&&l.enable(8),O.shadowMapEnabled&&l.enable(9),O.physicallyCorrectLights&&l.enable(10),O.doubleSided&&l.enable(11),O.flipSided&&l.enable(12),O.useDepthPacking&&l.enable(13),O.dithering&&l.enable(14),O.specularIntensityMap&&l.enable(15),O.specularColorMap&&l.enable(16),O.transmission&&l.enable(17),O.transmissionMap&&l.enable(18),O.thicknessMap&&l.enable(19),O.sheen&&l.enable(20),O.sheenColorMap&&l.enable(21),O.sheenRoughnessMap&&l.enable(22),O.decodeVideoTexture&&l.enable(23),O.opaque&&l.enable(24),D.push(l.mask)}function T(D){const O=A[D.type];let G;if(O){const Y=Ks[O];G=UC.clone(Y.uniforms)}else G=D.uniforms;return G}function R(D,O){let G;for(let Y=0,he=d.length;Y<he;Y++){const ie=d[Y];if(ie.cacheKey===O){G=ie,++G.usedTimes;break}}return G===void 0&&(G=new tI(i,O,D,s),d.push(G)),G}function I(D){if(--D.usedTimes===0){const O=d.indexOf(D);d[O]=d[d.length-1],d.pop(),D.destroy()}}function F(D){f.remove(D)}function z(){f.dispose()}return{getParameters:w,getProgramCacheKey:S,getUniforms:T,acquireProgram:R,releaseProgram:I,releaseShaderCache:F,programs:d,dispose:z}}function oI(){let i=new WeakMap;function e(s){let a=i.get(s);return a===void 0&&(a={},i.set(s,a)),a}function t(s){i.delete(s)}function n(s,a,l){i.get(s)[a]=l}function r(){i=new WeakMap}return{get:e,remove:t,update:n,dispose:r}}function aI(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function LA(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function IA(){const i=[];let e=0;const t=[],n=[],r=[];function s(){e=0,t.length=0,n.length=0,r.length=0}function a(g,y,x,A,w,S){let E=i[e];return E===void 0?(E={id:g.id,object:g,geometry:y,material:x,groupOrder:A,renderOrder:g.renderOrder,z:w,group:S},i[e]=E):(E.id=g.id,E.object=g,E.geometry=y,E.material=x,E.groupOrder=A,E.renderOrder=g.renderOrder,E.z=w,E.group=S),e++,E}function l(g,y,x,A,w,S){const E=a(g,y,x,A,w,S);x.transmission>0?n.push(E):x.transparent===!0?r.push(E):t.push(E)}function f(g,y,x,A,w,S){const E=a(g,y,x,A,w,S);x.transmission>0?n.unshift(E):x.transparent===!0?r.unshift(E):t.unshift(E)}function d(g,y){t.length>1&&t.sort(g||aI),n.length>1&&n.sort(y||LA),r.length>1&&r.sort(y||LA)}function p(){for(let g=e,y=i.length;g<y;g++){const x=i[g];if(x.id===null)break;x.id=null,x.object=null,x.geometry=null,x.material=null,x.group=null}}return{opaque:t,transmissive:n,transparent:r,init:s,push:l,unshift:f,finish:p,sort:d}}function lI(){let i=new WeakMap;function e(n,r){const s=i.get(n);let a;return s===void 0?(a=new IA,i.set(n,[a])):r>=s.length?(a=new IA,s.push(a)):a=s[r],a}function t(){i=new WeakMap}return{get:e,dispose:t}}function uI(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new H,color:new et};break;case"SpotLight":t={position:new H,direction:new H,color:new et,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new H,color:new et,distance:0,decay:0};break;case"HemisphereLight":t={direction:new H,skyColor:new et,groundColor:new et};break;case"RectAreaLight":t={color:new et,position:new H,halfWidth:new H,halfHeight:new H};break}return i[e.id]=t,t}}}function cI(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Be};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Be};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Be,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[e.id]=t,t}}}let fI=0;function hI(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}function dI(i,e){const t=new uI,n=cI(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let p=0;p<9;p++)r.probe.push(new H);const s=new H,a=new Lt,l=new Lt;function f(p,g){let y=0,x=0,A=0;for(let Y=0;Y<9;Y++)r.probe[Y].set(0,0,0);let w=0,S=0,E=0,b=0,T=0,R=0,I=0,F=0,z=0,D=0;p.sort(hI);const O=g!==!0?Math.PI:1;for(let Y=0,he=p.length;Y<he;Y++){const ie=p[Y],$=ie.color,ce=ie.intensity,ge=ie.distance,ve=ie.shadow&&ie.shadow.map?ie.shadow.map.texture:null;if(ie.isAmbientLight)y+=$.r*ce*O,x+=$.g*ce*O,A+=$.b*ce*O;else if(ie.isLightProbe)for(let V=0;V<9;V++)r.probe[V].addScaledVector(ie.sh.coefficients[V],ce);else if(ie.isDirectionalLight){const V=t.get(ie);if(V.color.copy(ie.color).multiplyScalar(ie.intensity*O),ie.castShadow){const re=ie.shadow,k=n.get(ie);k.shadowBias=re.bias,k.shadowNormalBias=re.normalBias,k.shadowRadius=re.radius,k.shadowMapSize=re.mapSize,r.directionalShadow[w]=k,r.directionalShadowMap[w]=ve,r.directionalShadowMatrix[w]=ie.shadow.matrix,R++}r.directional[w]=V,w++}else if(ie.isSpotLight){const V=t.get(ie);V.position.setFromMatrixPosition(ie.matrixWorld),V.color.copy($).multiplyScalar(ce*O),V.distance=ge,V.coneCos=Math.cos(ie.angle),V.penumbraCos=Math.cos(ie.angle*(1-ie.penumbra)),V.decay=ie.decay,r.spot[E]=V;const re=ie.shadow;if(ie.map&&(r.spotLightMap[z]=ie.map,z++,re.updateMatrices(ie),ie.castShadow&&D++),r.spotLightMatrix[E]=re.matrix,ie.castShadow){const k=n.get(ie);k.shadowBias=re.bias,k.shadowNormalBias=re.normalBias,k.shadowRadius=re.radius,k.shadowMapSize=re.mapSize,r.spotShadow[E]=k,r.spotShadowMap[E]=ve,F++}E++}else if(ie.isRectAreaLight){const V=t.get(ie);V.color.copy($).multiplyScalar(ce),V.halfWidth.set(ie.width*.5,0,0),V.halfHeight.set(0,ie.height*.5,0),r.rectArea[b]=V,b++}else if(ie.isPointLight){const V=t.get(ie);if(V.color.copy(ie.color).multiplyScalar(ie.intensity*O),V.distance=ie.distance,V.decay=ie.decay,ie.castShadow){const re=ie.shadow,k=n.get(ie);k.shadowBias=re.bias,k.shadowNormalBias=re.normalBias,k.shadowRadius=re.radius,k.shadowMapSize=re.mapSize,k.shadowCameraNear=re.camera.near,k.shadowCameraFar=re.camera.far,r.pointShadow[S]=k,r.pointShadowMap[S]=ve,r.pointShadowMatrix[S]=ie.shadow.matrix,I++}r.point[S]=V,S++}else if(ie.isHemisphereLight){const V=t.get(ie);V.skyColor.copy(ie.color).multiplyScalar(ce*O),V.groundColor.copy(ie.groundColor).multiplyScalar(ce*O),r.hemi[T]=V,T++}}b>0&&(e.isWebGL2||i.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=qe.LTC_FLOAT_1,r.rectAreaLTC2=qe.LTC_FLOAT_2):i.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=qe.LTC_HALF_1,r.rectAreaLTC2=qe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=y,r.ambient[1]=x,r.ambient[2]=A;const G=r.hash;(G.directionalLength!==w||G.pointLength!==S||G.spotLength!==E||G.rectAreaLength!==b||G.hemiLength!==T||G.numDirectionalShadows!==R||G.numPointShadows!==I||G.numSpotShadows!==F||G.numSpotMaps!==z)&&(r.directional.length=w,r.spot.length=E,r.rectArea.length=b,r.point.length=S,r.hemi.length=T,r.directionalShadow.length=R,r.directionalShadowMap.length=R,r.pointShadow.length=I,r.pointShadowMap.length=I,r.spotShadow.length=F,r.spotShadowMap.length=F,r.directionalShadowMatrix.length=R,r.pointShadowMatrix.length=I,r.spotLightMatrix.length=F+z-D,r.spotLightMap.length=z,r.numSpotLightShadowsWithMaps=D,G.directionalLength=w,G.pointLength=S,G.spotLength=E,G.rectAreaLength=b,G.hemiLength=T,G.numDirectionalShadows=R,G.numPointShadows=I,G.numSpotShadows=F,G.numSpotMaps=z,r.version=fI++)}function d(p,g){let y=0,x=0,A=0,w=0,S=0;const E=g.matrixWorldInverse;for(let b=0,T=p.length;b<T;b++){const R=p[b];if(R.isDirectionalLight){const I=r.directional[y];I.direction.setFromMatrixPosition(R.matrixWorld),s.setFromMatrixPosition(R.target.matrixWorld),I.direction.sub(s),I.direction.transformDirection(E),y++}else if(R.isSpotLight){const I=r.spot[A];I.position.setFromMatrixPosition(R.matrixWorld),I.position.applyMatrix4(E),I.direction.setFromMatrixPosition(R.matrixWorld),s.setFromMatrixPosition(R.target.matrixWorld),I.direction.sub(s),I.direction.transformDirection(E),A++}else if(R.isRectAreaLight){const I=r.rectArea[w];I.position.setFromMatrixPosition(R.matrixWorld),I.position.applyMatrix4(E),l.identity(),a.copy(R.matrixWorld),a.premultiply(E),l.extractRotation(a),I.halfWidth.set(R.width*.5,0,0),I.halfHeight.set(0,R.height*.5,0),I.halfWidth.applyMatrix4(l),I.halfHeight.applyMatrix4(l),w++}else if(R.isPointLight){const I=r.point[x];I.position.setFromMatrixPosition(R.matrixWorld),I.position.applyMatrix4(E),x++}else if(R.isHemisphereLight){const I=r.hemi[S];I.direction.setFromMatrixPosition(R.matrixWorld),I.direction.transformDirection(E),S++}}}return{setup:f,setupView:d,state:r}}function DA(i,e){const t=new dI(i,e),n=[],r=[];function s(){n.length=0,r.length=0}function a(g){n.push(g)}function l(g){r.push(g)}function f(g){t.setup(n,g)}function d(g){t.setupView(n,g)}return{init:s,state:{lightsArray:n,shadowsArray:r,lights:t},setupLights:f,setupLightsView:d,pushLight:a,pushShadow:l}}function pI(i,e){let t=new WeakMap;function n(s,a=0){const l=t.get(s);let f;return l===void 0?(f=new DA(i,e),t.set(s,[f])):a>=l.length?(f=new DA(i,e),l.push(f)):f=l[a],f}function r(){t=new WeakMap}return{get:n,dispose:r}}class n_ extends vi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BC,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class i_ extends vi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new H,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const mI=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,gI=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function yI(i,e,t){let n=new c0;const r=new Be,s=new Be,a=new pn,l=new n_({depthPacking:RC}),f=new i_,d={},p=t.maxTextureSize,g={[To]:Nr,[Nr]:To,[Ys]:Ys},y=new Po({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Be},radius:{value:4}},vertexShader:mI,fragmentShader:gI}),x=y.clone();x.defines.HORIZONTAL_PASS=1;const A=new Vt;A.setAttribute("position",new cn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const w=new Ti(A,y),S=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=s0,this.render=function(R,I,F){if(S.enabled===!1||S.autoUpdate===!1&&S.needsUpdate===!1||R.length===0)return;const z=i.getRenderTarget(),D=i.getActiveCubeFace(),O=i.getActiveMipmapLevel(),G=i.state;G.setBlending(va),G.buffers.color.setClear(1,1,1,1),G.buffers.depth.setTest(!0),G.setScissorTest(!1);for(let Y=0,he=R.length;Y<he;Y++){const ie=R[Y],$=ie.shadow;if($===void 0){console.warn("THREE.WebGLShadowMap:",ie,"has no shadow.");continue}if($.autoUpdate===!1&&$.needsUpdate===!1)continue;r.copy($.mapSize);const ce=$.getFrameExtents();if(r.multiply(ce),s.copy($.mapSize),(r.x>p||r.y>p)&&(r.x>p&&(s.x=Math.floor(p/ce.x),r.x=s.x*ce.x,$.mapSize.x=s.x),r.y>p&&(s.y=Math.floor(p/ce.y),r.y=s.y*ce.y,$.mapSize.y=s.y)),$.map===null){const ve=this.type!==Gu?{minFilter:jn,magFilter:jn}:{};$.map=new eo(r.x,r.y,ve),$.map.texture.name=ie.name+".shadowMap",$.camera.updateProjectionMatrix()}i.setRenderTarget($.map),i.clear();const ge=$.getViewportCount();for(let ve=0;ve<ge;ve++){const V=$.getViewport(ve);a.set(s.x*V.x,s.y*V.y,s.x*V.z,s.y*V.w),G.viewport(a),$.updateMatrices(ie,ve),n=$.getFrustum(),T(I,F,$.camera,ie,this.type)}$.isPointLightShadow!==!0&&this.type===Gu&&E($,F),$.needsUpdate=!1}S.needsUpdate=!1,i.setRenderTarget(z,D,O)};function E(R,I){const F=e.update(w);y.defines.VSM_SAMPLES!==R.blurSamples&&(y.defines.VSM_SAMPLES=R.blurSamples,x.defines.VSM_SAMPLES=R.blurSamples,y.needsUpdate=!0,x.needsUpdate=!0),R.mapPass===null&&(R.mapPass=new eo(r.x,r.y)),y.uniforms.shadow_pass.value=R.map.texture,y.uniforms.resolution.value=R.mapSize,y.uniforms.radius.value=R.radius,i.setRenderTarget(R.mapPass),i.clear(),i.renderBufferDirect(I,null,F,y,w,null),x.uniforms.shadow_pass.value=R.mapPass.texture,x.uniforms.resolution.value=R.mapSize,x.uniforms.radius.value=R.radius,i.setRenderTarget(R.map),i.clear(),i.renderBufferDirect(I,null,F,x,w,null)}function b(R,I,F,z,D,O){let G=null;const Y=F.isPointLight===!0?R.customDistanceMaterial:R.customDepthMaterial;if(Y!==void 0)G=Y;else if(G=F.isPointLight===!0?f:l,i.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0){const he=G.uuid,ie=I.uuid;let $=d[he];$===void 0&&($={},d[he]=$);let ce=$[ie];ce===void 0&&(ce=G.clone(),$[ie]=ce),G=ce}return G.visible=I.visible,G.wireframe=I.wireframe,O===Gu?G.side=I.shadowSide!==null?I.shadowSide:I.side:G.side=I.shadowSide!==null?I.shadowSide:g[I.side],G.alphaMap=I.alphaMap,G.alphaTest=I.alphaTest,G.map=I.map,G.clipShadows=I.clipShadows,G.clippingPlanes=I.clippingPlanes,G.clipIntersection=I.clipIntersection,G.displacementMap=I.displacementMap,G.displacementScale=I.displacementScale,G.displacementBias=I.displacementBias,G.wireframeLinewidth=I.wireframeLinewidth,G.linewidth=I.linewidth,F.isPointLight===!0&&G.isMeshDistanceMaterial===!0&&(G.referencePosition.setFromMatrixPosition(F.matrixWorld),G.nearDistance=z,G.farDistance=D),G}function T(R,I,F,z,D){if(R.visible===!1)return;if(R.layers.test(I.layers)&&(R.isMesh||R.isLine||R.isPoints)&&(R.castShadow||R.receiveShadow&&D===Gu)&&(!R.frustumCulled||n.intersectsObject(R))){R.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,R.matrixWorld);const Y=e.update(R),he=R.material;if(Array.isArray(he)){const ie=Y.groups;for(let $=0,ce=ie.length;$<ce;$++){const ge=ie[$],ve=he[ge.materialIndex];if(ve&&ve.visible){const V=b(R,ve,z,F.near,F.far,D);i.renderBufferDirect(F,null,Y,V,R,ge)}}}else if(he.visible){const ie=b(R,he,z,F.near,F.far,D);i.renderBufferDirect(F,null,Y,ie,R,null)}}const G=R.children;for(let Y=0,he=G.length;Y<he;Y++)T(G[Y],I,F,z,D)}}function vI(i,e,t){const n=t.isWebGL2;function r(){let q=!1;const _e=new pn;let Ie=null;const Je=new pn(0,0,0,0);return{setMask:function(dt){Ie!==dt&&!q&&(i.colorMask(dt,dt,dt,dt),Ie=dt)},setLocked:function(dt){q=dt},setClear:function(dt,jt,tn,fn,fi){fi===!0&&(dt*=fn,jt*=fn,tn*=fn),_e.set(dt,jt,tn,fn),Je.equals(_e)===!1&&(i.clearColor(dt,jt,tn,fn),Je.copy(_e))},reset:function(){q=!1,Ie=null,Je.set(-1,0,0,0)}}}function s(){let q=!1,_e=null,Ie=null,Je=null;return{setTest:function(dt){dt?Ge(2929):Ne(2929)},setMask:function(dt){_e!==dt&&!q&&(i.depthMask(dt),_e=dt)},setFunc:function(dt){if(Ie!==dt){switch(dt){case ZM:i.depthFunc(512);break;case $M:i.depthFunc(519);break;case eC:i.depthFunc(513);break;case Gg:i.depthFunc(515);break;case tC:i.depthFunc(514);break;case nC:i.depthFunc(518);break;case iC:i.depthFunc(516);break;case rC:i.depthFunc(517);break;default:i.depthFunc(515)}Ie=dt}},setLocked:function(dt){q=dt},setClear:function(dt){Je!==dt&&(i.clearDepth(dt),Je=dt)},reset:function(){q=!1,_e=null,Ie=null,Je=null}}}function a(){let q=!1,_e=null,Ie=null,Je=null,dt=null,jt=null,tn=null,fn=null,fi=null;return{setTest:function(Kt){q||(Kt?Ge(2960):Ne(2960))},setMask:function(Kt){_e!==Kt&&!q&&(i.stencilMask(Kt),_e=Kt)},setFunc:function(Kt,Jn,Cn){(Ie!==Kt||Je!==Jn||dt!==Cn)&&(i.stencilFunc(Kt,Jn,Cn),Ie=Kt,Je=Jn,dt=Cn)},setOp:function(Kt,Jn,Cn){(jt!==Kt||tn!==Jn||fn!==Cn)&&(i.stencilOp(Kt,Jn,Cn),jt=Kt,tn=Jn,fn=Cn)},setLocked:function(Kt){q=Kt},setClear:function(Kt){fi!==Kt&&(i.clearStencil(Kt),fi=Kt)},reset:function(){q=!1,_e=null,Ie=null,Je=null,dt=null,jt=null,tn=null,fn=null,fi=null}}}const l=new r,f=new s,d=new a,p=new WeakMap,g=new WeakMap;let y={},x={},A=new WeakMap,w=[],S=null,E=!1,b=null,T=null,R=null,I=null,F=null,z=null,D=null,O=!1,G=null,Y=null,he=null,ie=null,$=null;const ce=i.getParameter(35661);let ge=!1,ve=0;const V=i.getParameter(7938);V.indexOf("WebGL")!==-1?(ve=parseFloat(/^WebGL (\d)/.exec(V)[1]),ge=ve>=1):V.indexOf("OpenGL ES")!==-1&&(ve=parseFloat(/^OpenGL ES (\d)/.exec(V)[1]),ge=ve>=2);let re=null,k={};const Q=i.getParameter(3088),K=i.getParameter(2978),ae=new pn().fromArray(Q),Me=new pn().fromArray(K);function Pe(q,_e,Ie){const Je=new Uint8Array(4),dt=i.createTexture();i.bindTexture(q,dt),i.texParameteri(q,10241,9728),i.texParameteri(q,10240,9728);for(let jt=0;jt<Ie;jt++)i.texImage2D(_e+jt,0,6408,1,1,0,6408,5121,Je);return dt}const le={};le[3553]=Pe(3553,3553,1),le[34067]=Pe(34067,34069,6),l.setClear(0,0,0,1),f.setClear(1),d.setClear(0),Ge(2929),f.setFunc(Gg),Ke(!1),mt(Pv),Ge(2884),ze(va);function Ge(q){y[q]!==!0&&(i.enable(q),y[q]=!0)}function Ne(q){y[q]!==!1&&(i.disable(q),y[q]=!1)}function Qe(q,_e){return x[q]!==_e?(i.bindFramebuffer(q,_e),x[q]=_e,n&&(q===36009&&(x[36160]=_e),q===36160&&(x[36009]=_e)),!0):!1}function Oe(q,_e){let Ie=w,Je=!1;if(q)if(Ie=A.get(_e),Ie===void 0&&(Ie=[],A.set(_e,Ie)),q.isWebGLMultipleRenderTargets){const dt=q.texture;if(Ie.length!==dt.length||Ie[0]!==36064){for(let jt=0,tn=dt.length;jt<tn;jt++)Ie[jt]=36064+jt;Ie.length=dt.length,Je=!0}}else Ie[0]!==36064&&(Ie[0]=36064,Je=!0);else Ie[0]!==1029&&(Ie[0]=1029,Je=!0);Je&&(t.isWebGL2?i.drawBuffers(Ie):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ie))}function Ye(q){return S!==q?(i.useProgram(q),S=q,!0):!1}const Ee={[Ou]:32774,[GM]:32778,[HM]:32779};if(n)Ee[Iv]=32775,Ee[Dv]=32776;else{const q=e.get("EXT_blend_minmax");q!==null&&(Ee[Iv]=q.MIN_EXT,Ee[Dv]=q.MAX_EXT)}const we={[VM]:0,[WM]:1,[jM]:768,[Hx]:770,[qM]:776,[YM]:774,[XM]:772,[JM]:769,[Vx]:771,[QM]:775,[KM]:773};function ze(q,_e,Ie,Je,dt,jt,tn,fn){if(q===va){E===!0&&(Ne(3042),E=!1);return}if(E===!1&&(Ge(3042),E=!0),q!==zM){if(q!==b||fn!==O){if((T!==Ou||F!==Ou)&&(i.blendEquation(32774),T=Ou,F=Ou),fn)switch(q){case Yu:i.blendFuncSeparate(1,771,1,771);break;case Bv:i.blendFunc(1,1);break;case Rv:i.blendFuncSeparate(0,769,0,1);break;case Lv:i.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",q);break}else switch(q){case Yu:i.blendFuncSeparate(770,771,1,771);break;case Bv:i.blendFunc(770,1);break;case Rv:i.blendFuncSeparate(0,769,0,1);break;case Lv:i.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",q);break}R=null,I=null,z=null,D=null,b=q,O=fn}return}dt=dt||_e,jt=jt||Ie,tn=tn||Je,(_e!==T||dt!==F)&&(i.blendEquationSeparate(Ee[_e],Ee[dt]),T=_e,F=dt),(Ie!==R||Je!==I||jt!==z||tn!==D)&&(i.blendFuncSeparate(we[Ie],we[Je],we[jt],we[tn]),R=Ie,I=Je,z=jt,D=tn),b=q,O=!1}function rt(q,_e){q.side===Ys?Ne(2884):Ge(2884);let Ie=q.side===Nr;_e&&(Ie=!Ie),Ke(Ie),q.blending===Yu&&q.transparent===!1?ze(va):ze(q.blending,q.blendEquation,q.blendSrc,q.blendDst,q.blendEquationAlpha,q.blendSrcAlpha,q.blendDstAlpha,q.premultipliedAlpha),f.setFunc(q.depthFunc),f.setTest(q.depthTest),f.setMask(q.depthWrite),l.setMask(q.colorWrite);const Je=q.stencilWrite;d.setTest(Je),Je&&(d.setMask(q.stencilWriteMask),d.setFunc(q.stencilFunc,q.stencilRef,q.stencilFuncMask),d.setOp(q.stencilFail,q.stencilZFail,q.stencilZPass)),at(q.polygonOffset,q.polygonOffsetFactor,q.polygonOffsetUnits),q.alphaToCoverage===!0?Ge(32926):Ne(32926)}function Ke(q){G!==q&&(q?i.frontFace(2304):i.frontFace(2305),G=q)}function mt(q){q!==kM?(Ge(2884),q!==Y&&(q===Pv?i.cullFace(1029):q===OM?i.cullFace(1028):i.cullFace(1032))):Ne(2884),Y=q}function gt(q){q!==he&&(ge&&i.lineWidth(q),he=q)}function at(q,_e,Ie){q?(Ge(32823),(ie!==_e||$!==Ie)&&(i.polygonOffset(_e,Ie),ie=_e,$=Ie)):Ne(32823)}function kt(q){q?Ge(3089):Ne(3089)}function Ot(q){q===void 0&&(q=33984+ce-1),re!==q&&(i.activeTexture(q),re=q)}function J(q,_e,Ie){Ie===void 0&&(re===null?Ie=33984+ce-1:Ie=re);let Je=k[Ie];Je===void 0&&(Je={type:void 0,texture:void 0},k[Ie]=Je),(Je.type!==q||Je.texture!==_e)&&(re!==Ie&&(i.activeTexture(Ie),re=Ie),i.bindTexture(q,_e||le[q]),Je.type=q,Je.texture=_e)}function U(){const q=k[re];q!==void 0&&q.type!==void 0&&(i.bindTexture(q.type,null),q.type=void 0,q.texture=void 0)}function xe(){try{i.compressedTexImage2D.apply(i,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function ke(){try{i.compressedTexImage3D.apply(i,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function He(){try{i.texSubImage2D.apply(i,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function je(){try{i.texSubImage3D.apply(i,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function _t(){try{i.compressedTexSubImage2D.apply(i,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function Ze(){try{i.compressedTexSubImage3D.apply(i,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function be(){try{i.texStorage2D.apply(i,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function ct(){try{i.texStorage3D.apply(i,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function St(){try{i.texImage2D.apply(i,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function lt(){try{i.texImage3D.apply(i,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function xt(q){ae.equals(q)===!1&&(i.scissor(q.x,q.y,q.z,q.w),ae.copy(q))}function yt(q){Me.equals(q)===!1&&(i.viewport(q.x,q.y,q.z,q.w),Me.copy(q))}function te(q,_e){let Ie=g.get(_e);Ie===void 0&&(Ie=new WeakMap,g.set(_e,Ie));let Je=Ie.get(q);Je===void 0&&(Je=i.getUniformBlockIndex(_e,q.name),Ie.set(q,Je))}function Le(q,_e){const Je=g.get(_e).get(q);p.get(_e)!==Je&&(i.uniformBlockBinding(_e,Je,q.__bindingPointIndex),p.set(_e,Je))}function nt(){i.disable(3042),i.disable(2884),i.disable(2929),i.disable(32823),i.disable(3089),i.disable(2960),i.disable(32926),i.blendEquation(32774),i.blendFunc(1,0),i.blendFuncSeparate(1,0,1,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(513),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(519,0,4294967295),i.stencilOp(7680,7680,7680),i.clearStencil(0),i.cullFace(1029),i.frontFace(2305),i.polygonOffset(0,0),i.activeTexture(33984),i.bindFramebuffer(36160,null),n===!0&&(i.bindFramebuffer(36009,null),i.bindFramebuffer(36008,null)),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),y={},re=null,k={},x={},A=new WeakMap,w=[],S=null,E=!1,b=null,T=null,R=null,I=null,F=null,z=null,D=null,O=!1,G=null,Y=null,he=null,ie=null,$=null,ae.set(0,0,i.canvas.width,i.canvas.height),Me.set(0,0,i.canvas.width,i.canvas.height),l.reset(),f.reset(),d.reset()}return{buffers:{color:l,depth:f,stencil:d},enable:Ge,disable:Ne,bindFramebuffer:Qe,drawBuffers:Oe,useProgram:Ye,setBlending:ze,setMaterial:rt,setFlipSided:Ke,setCullFace:mt,setLineWidth:gt,setPolygonOffset:at,setScissorTest:kt,activeTexture:Ot,bindTexture:J,unbindTexture:U,compressedTexImage2D:xe,compressedTexImage3D:ke,texImage2D:St,texImage3D:lt,updateUBOMapping:te,uniformBlockBinding:Le,texStorage2D:be,texStorage3D:ct,texSubImage2D:He,texSubImage3D:je,compressedTexSubImage2D:_t,compressedTexSubImage3D:Ze,scissor:xt,viewport:yt,reset:nt}}function xI(i,e,t,n,r,s,a){const l=r.isWebGL2,f=r.maxTextures,d=r.maxCubemapSize,p=r.maxTextureSize,g=r.maxSamples,y=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,x=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),A=new WeakMap;let w;const S=new WeakMap;let E=!1;try{E=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function b(J,U){return E?new OffscreenCanvas(J,U):Yd("canvas")}function T(J,U,xe,ke){let He=1;if((J.width>ke||J.height>ke)&&(He=ke/Math.max(J.width,J.height)),He<1||U===!0)if(typeof HTMLImageElement<"u"&&J instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&J instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&J instanceof ImageBitmap){const je=U?Wg:Math.floor,_t=je(He*J.width),Ze=je(He*J.height);w===void 0&&(w=b(_t,Ze));const be=xe?b(_t,Ze):w;return be.width=_t,be.height=Ze,be.getContext("2d").drawImage(J,0,0,_t,Ze),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+J.width+"x"+J.height+") to ("+_t+"x"+Ze+")."),be}else return"data"in J&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+J.width+"x"+J.height+")."),J;return J}function R(J){return sx(J.width)&&sx(J.height)}function I(J){return l?!1:J.wrapS!==Hi||J.wrapT!==Hi||J.minFilter!==jn&&J.minFilter!==On}function F(J,U){return J.generateMipmaps&&U&&J.minFilter!==jn&&J.minFilter!==On}function z(J){i.generateMipmap(J)}function D(J,U,xe,ke,He=!1){if(l===!1)return U;if(J!==null){if(i[J]!==void 0)return i[J];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+J+"'")}let je=U;return U===6403&&(xe===5126&&(je=33326),xe===5131&&(je=33325),xe===5121&&(je=33321)),U===33319&&(xe===5126&&(je=33328),xe===5131&&(je=33327),xe===5121&&(je=33323)),U===6408&&(xe===5126&&(je=34836),xe===5131&&(je=34842),xe===5121&&(je=ke===Sn&&He===!1?35907:32856),xe===32819&&(je=32854),xe===32820&&(je=32855)),(je===33325||je===33326||je===33327||je===33328||je===34842||je===34836)&&e.get("EXT_color_buffer_float"),je}function O(J,U,xe){return F(J,xe)===!0||J.isFramebufferTexture&&J.minFilter!==jn&&J.minFilter!==On?Math.log2(Math.max(U.width,U.height))+1:J.mipmaps!==void 0&&J.mipmaps.length>0?J.mipmaps.length:J.isCompressedTexture&&Array.isArray(J.image)?U.mipmaps.length:1}function G(J){return J===jn||J===jd||J===Yf?9728:9729}function Y(J){const U=J.target;U.removeEventListener("dispose",Y),ie(U),U.isVideoTexture&&A.delete(U)}function he(J){const U=J.target;U.removeEventListener("dispose",he),ce(U)}function ie(J){const U=n.get(J);if(U.__webglInit===void 0)return;const xe=J.source,ke=S.get(xe);if(ke){const He=ke[U.__cacheKey];He.usedTimes--,He.usedTimes===0&&$(J),Object.keys(ke).length===0&&S.delete(xe)}n.remove(J)}function $(J){const U=n.get(J);i.deleteTexture(U.__webglTexture);const xe=J.source,ke=S.get(xe);delete ke[U.__cacheKey],a.memory.textures--}function ce(J){const U=J.texture,xe=n.get(J),ke=n.get(U);if(ke.__webglTexture!==void 0&&(i.deleteTexture(ke.__webglTexture),a.memory.textures--),J.depthTexture&&J.depthTexture.dispose(),J.isWebGLCubeRenderTarget)for(let He=0;He<6;He++)i.deleteFramebuffer(xe.__webglFramebuffer[He]),xe.__webglDepthbuffer&&i.deleteRenderbuffer(xe.__webglDepthbuffer[He]);else{if(i.deleteFramebuffer(xe.__webglFramebuffer),xe.__webglDepthbuffer&&i.deleteRenderbuffer(xe.__webglDepthbuffer),xe.__webglMultisampledFramebuffer&&i.deleteFramebuffer(xe.__webglMultisampledFramebuffer),xe.__webglColorRenderbuffer)for(let He=0;He<xe.__webglColorRenderbuffer.length;He++)xe.__webglColorRenderbuffer[He]&&i.deleteRenderbuffer(xe.__webglColorRenderbuffer[He]);xe.__webglDepthRenderbuffer&&i.deleteRenderbuffer(xe.__webglDepthRenderbuffer)}if(J.isWebGLMultipleRenderTargets)for(let He=0,je=U.length;He<je;He++){const _t=n.get(U[He]);_t.__webglTexture&&(i.deleteTexture(_t.__webglTexture),a.memory.textures--),n.remove(U[He])}n.remove(U),n.remove(J)}let ge=0;function ve(){ge=0}function V(){const J=ge;return J>=f&&console.warn("THREE.WebGLTextures: Trying to use "+J+" texture units while this GPU supports only "+f),ge+=1,J}function re(J){const U=[];return U.push(J.wrapS),U.push(J.wrapT),U.push(J.wrapR||0),U.push(J.magFilter),U.push(J.minFilter),U.push(J.anisotropy),U.push(J.internalFormat),U.push(J.format),U.push(J.type),U.push(J.generateMipmaps),U.push(J.premultiplyAlpha),U.push(J.flipY),U.push(J.unpackAlignment),U.push(J.encoding),U.join()}function k(J,U){const xe=n.get(J);if(J.isVideoTexture&&kt(J),J.isRenderTargetTexture===!1&&J.version>0&&xe.__version!==J.version){const ke=J.image;if(ke===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ke.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ne(xe,J,U);return}}t.bindTexture(3553,xe.__webglTexture,33984+U)}function Q(J,U){const xe=n.get(J);if(J.version>0&&xe.__version!==J.version){Ne(xe,J,U);return}t.bindTexture(35866,xe.__webglTexture,33984+U)}function K(J,U){const xe=n.get(J);if(J.version>0&&xe.__version!==J.version){Ne(xe,J,U);return}t.bindTexture(32879,xe.__webglTexture,33984+U)}function ae(J,U){const xe=n.get(J);if(J.version>0&&xe.__version!==J.version){Qe(xe,J,U);return}t.bindTexture(34067,xe.__webglTexture,33984+U)}const Me={[Tl]:10497,[Hi]:33071,[$f]:33648},Pe={[jn]:9728,[jd]:9984,[Yf]:9986,[On]:9729,[a0]:9985,[bo]:9987};function le(J,U,xe){if(xe?(i.texParameteri(J,10242,Me[U.wrapS]),i.texParameteri(J,10243,Me[U.wrapT]),(J===32879||J===35866)&&i.texParameteri(J,32882,Me[U.wrapR]),i.texParameteri(J,10240,Pe[U.magFilter]),i.texParameteri(J,10241,Pe[U.minFilter])):(i.texParameteri(J,10242,33071),i.texParameteri(J,10243,33071),(J===32879||J===35866)&&i.texParameteri(J,32882,33071),(U.wrapS!==Hi||U.wrapT!==Hi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),i.texParameteri(J,10240,G(U.magFilter)),i.texParameteri(J,10241,G(U.minFilter)),U.minFilter!==jn&&U.minFilter!==On&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const ke=e.get("EXT_texture_filter_anisotropic");if(U.magFilter===jn||U.minFilter!==Yf&&U.minFilter!==bo||U.type===pa&&e.has("OES_texture_float_linear")===!1||l===!1&&U.type===eh&&e.has("OES_texture_half_float_linear")===!1)return;(U.anisotropy>1||n.get(U).__currentAnisotropy)&&(i.texParameterf(J,ke.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(U.anisotropy,r.getMaxAnisotropy())),n.get(U).__currentAnisotropy=U.anisotropy)}}function Ge(J,U){let xe=!1;J.__webglInit===void 0&&(J.__webglInit=!0,U.addEventListener("dispose",Y));const ke=U.source;let He=S.get(ke);He===void 0&&(He={},S.set(ke,He));const je=re(U);if(je!==J.__cacheKey){He[je]===void 0&&(He[je]={texture:i.createTexture(),usedTimes:0},a.memory.textures++,xe=!0),He[je].usedTimes++;const _t=He[J.__cacheKey];_t!==void 0&&(He[J.__cacheKey].usedTimes--,_t.usedTimes===0&&$(U)),J.__cacheKey=je,J.__webglTexture=He[je].texture}return xe}function Ne(J,U,xe){let ke=3553;(U.isDataArrayTexture||U.isCompressedArrayTexture)&&(ke=35866),U.isData3DTexture&&(ke=32879);const He=Ge(J,U),je=U.source;t.bindTexture(ke,J.__webglTexture,33984+xe);const _t=n.get(je);if(je.version!==_t.__version||He===!0){t.activeTexture(33984+xe),i.pixelStorei(37440,U.flipY),i.pixelStorei(37441,U.premultiplyAlpha),i.pixelStorei(3317,U.unpackAlignment),i.pixelStorei(37443,0);const Ze=I(U)&&R(U.image)===!1;let be=T(U.image,Ze,!1,p);be=Ot(U,be);const ct=R(be)||l,St=s.convert(U.format,U.encoding);let lt=s.convert(U.type),xt=D(U.internalFormat,St,lt,U.encoding,U.isVideoTexture);le(ke,U,ct);let yt;const te=U.mipmaps,Le=l&&U.isVideoTexture!==!0,nt=_t.__version===void 0||He===!0,q=O(U,be,ct);if(U.isDepthTexture)xt=6402,l?U.type===pa?xt=36012:U.type===Al?xt=33190:U.type===Qu?xt=35056:xt=33189:U.type===pa&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),U.format===wl&&xt===6402&&U.type!==jx&&U.type!==Al&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),U.type=Al,lt=s.convert(U.type)),U.format===nc&&xt===6402&&(xt=34041,U.type!==Qu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),U.type=Qu,lt=s.convert(U.type))),nt&&(Le?t.texStorage2D(3553,1,xt,be.width,be.height):t.texImage2D(3553,0,xt,be.width,be.height,0,St,lt,null));else if(U.isDataTexture)if(te.length>0&&ct){Le&&nt&&t.texStorage2D(3553,q,xt,te[0].width,te[0].height);for(let _e=0,Ie=te.length;_e<Ie;_e++)yt=te[_e],Le?t.texSubImage2D(3553,_e,0,0,yt.width,yt.height,St,lt,yt.data):t.texImage2D(3553,_e,xt,yt.width,yt.height,0,St,lt,yt.data);U.generateMipmaps=!1}else Le?(nt&&t.texStorage2D(3553,q,xt,be.width,be.height),t.texSubImage2D(3553,0,0,0,be.width,be.height,St,lt,be.data)):t.texImage2D(3553,0,xt,be.width,be.height,0,St,lt,be.data);else if(U.isCompressedTexture)if(U.isCompressedArrayTexture){Le&&nt&&t.texStorage3D(35866,q,xt,te[0].width,te[0].height,be.depth);for(let _e=0,Ie=te.length;_e<Ie;_e++)yt=te[_e],U.format!==Fr?St!==null?Le?t.compressedTexSubImage3D(35866,_e,0,0,0,yt.width,yt.height,be.depth,St,yt.data,0,0):t.compressedTexImage3D(35866,_e,xt,yt.width,yt.height,be.depth,0,yt.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Le?t.texSubImage3D(35866,_e,0,0,0,yt.width,yt.height,be.depth,St,lt,yt.data):t.texImage3D(35866,_e,xt,yt.width,yt.height,be.depth,0,St,lt,yt.data)}else{Le&&nt&&t.texStorage2D(3553,q,xt,te[0].width,te[0].height);for(let _e=0,Ie=te.length;_e<Ie;_e++)yt=te[_e],U.format!==Fr?St!==null?Le?t.compressedTexSubImage2D(3553,_e,0,0,yt.width,yt.height,St,yt.data):t.compressedTexImage2D(3553,_e,xt,yt.width,yt.height,0,yt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Le?t.texSubImage2D(3553,_e,0,0,yt.width,yt.height,St,lt,yt.data):t.texImage2D(3553,_e,xt,yt.width,yt.height,0,St,lt,yt.data)}else if(U.isDataArrayTexture)Le?(nt&&t.texStorage3D(35866,q,xt,be.width,be.height,be.depth),t.texSubImage3D(35866,0,0,0,0,be.width,be.height,be.depth,St,lt,be.data)):t.texImage3D(35866,0,xt,be.width,be.height,be.depth,0,St,lt,be.data);else if(U.isData3DTexture)Le?(nt&&t.texStorage3D(32879,q,xt,be.width,be.height,be.depth),t.texSubImage3D(32879,0,0,0,0,be.width,be.height,be.depth,St,lt,be.data)):t.texImage3D(32879,0,xt,be.width,be.height,be.depth,0,St,lt,be.data);else if(U.isFramebufferTexture){if(nt)if(Le)t.texStorage2D(3553,q,xt,be.width,be.height);else{let _e=be.width,Ie=be.height;for(let Je=0;Je<q;Je++)t.texImage2D(3553,Je,xt,_e,Ie,0,St,lt,null),_e>>=1,Ie>>=1}}else if(te.length>0&&ct){Le&&nt&&t.texStorage2D(3553,q,xt,te[0].width,te[0].height);for(let _e=0,Ie=te.length;_e<Ie;_e++)yt=te[_e],Le?t.texSubImage2D(3553,_e,0,0,St,lt,yt):t.texImage2D(3553,_e,xt,St,lt,yt);U.generateMipmaps=!1}else Le?(nt&&t.texStorage2D(3553,q,xt,be.width,be.height),t.texSubImage2D(3553,0,0,0,St,lt,be)):t.texImage2D(3553,0,xt,St,lt,be);F(U,ct)&&z(ke),_t.__version=je.version,U.onUpdate&&U.onUpdate(U)}J.__version=U.version}function Qe(J,U,xe){if(U.image.length!==6)return;const ke=Ge(J,U),He=U.source;t.bindTexture(34067,J.__webglTexture,33984+xe);const je=n.get(He);if(He.version!==je.__version||ke===!0){t.activeTexture(33984+xe),i.pixelStorei(37440,U.flipY),i.pixelStorei(37441,U.premultiplyAlpha),i.pixelStorei(3317,U.unpackAlignment),i.pixelStorei(37443,0);const _t=U.isCompressedTexture||U.image[0].isCompressedTexture,Ze=U.image[0]&&U.image[0].isDataTexture,be=[];for(let _e=0;_e<6;_e++)!_t&&!Ze?be[_e]=T(U.image[_e],!1,!0,d):be[_e]=Ze?U.image[_e].image:U.image[_e],be[_e]=Ot(U,be[_e]);const ct=be[0],St=R(ct)||l,lt=s.convert(U.format,U.encoding),xt=s.convert(U.type),yt=D(U.internalFormat,lt,xt,U.encoding),te=l&&U.isVideoTexture!==!0,Le=je.__version===void 0||ke===!0;let nt=O(U,ct,St);le(34067,U,St);let q;if(_t){te&&Le&&t.texStorage2D(34067,nt,yt,ct.width,ct.height);for(let _e=0;_e<6;_e++){q=be[_e].mipmaps;for(let Ie=0;Ie<q.length;Ie++){const Je=q[Ie];U.format!==Fr?lt!==null?te?t.compressedTexSubImage2D(34069+_e,Ie,0,0,Je.width,Je.height,lt,Je.data):t.compressedTexImage2D(34069+_e,Ie,yt,Je.width,Je.height,0,Je.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):te?t.texSubImage2D(34069+_e,Ie,0,0,Je.width,Je.height,lt,xt,Je.data):t.texImage2D(34069+_e,Ie,yt,Je.width,Je.height,0,lt,xt,Je.data)}}}else{q=U.mipmaps,te&&Le&&(q.length>0&&nt++,t.texStorage2D(34067,nt,yt,be[0].width,be[0].height));for(let _e=0;_e<6;_e++)if(Ze){te?t.texSubImage2D(34069+_e,0,0,0,be[_e].width,be[_e].height,lt,xt,be[_e].data):t.texImage2D(34069+_e,0,yt,be[_e].width,be[_e].height,0,lt,xt,be[_e].data);for(let Ie=0;Ie<q.length;Ie++){const dt=q[Ie].image[_e].image;te?t.texSubImage2D(34069+_e,Ie+1,0,0,dt.width,dt.height,lt,xt,dt.data):t.texImage2D(34069+_e,Ie+1,yt,dt.width,dt.height,0,lt,xt,dt.data)}}else{te?t.texSubImage2D(34069+_e,0,0,0,lt,xt,be[_e]):t.texImage2D(34069+_e,0,yt,lt,xt,be[_e]);for(let Ie=0;Ie<q.length;Ie++){const Je=q[Ie];te?t.texSubImage2D(34069+_e,Ie+1,0,0,lt,xt,Je.image[_e]):t.texImage2D(34069+_e,Ie+1,yt,lt,xt,Je.image[_e])}}}F(U,St)&&z(34067),je.__version=He.version,U.onUpdate&&U.onUpdate(U)}J.__version=U.version}function Oe(J,U,xe,ke,He){const je=s.convert(xe.format,xe.encoding),_t=s.convert(xe.type),Ze=D(xe.internalFormat,je,_t,xe.encoding);n.get(U).__hasExternalTextures||(He===32879||He===35866?t.texImage3D(He,0,Ze,U.width,U.height,U.depth,0,je,_t,null):t.texImage2D(He,0,Ze,U.width,U.height,0,je,_t,null)),t.bindFramebuffer(36160,J),at(U)?y.framebufferTexture2DMultisampleEXT(36160,ke,He,n.get(xe).__webglTexture,0,gt(U)):(He===3553||He>=34069&&He<=34074)&&i.framebufferTexture2D(36160,ke,He,n.get(xe).__webglTexture,0),t.bindFramebuffer(36160,null)}function Ye(J,U,xe){if(i.bindRenderbuffer(36161,J),U.depthBuffer&&!U.stencilBuffer){let ke=33189;if(xe||at(U)){const He=U.depthTexture;He&&He.isDepthTexture&&(He.type===pa?ke=36012:He.type===Al&&(ke=33190));const je=gt(U);at(U)?y.renderbufferStorageMultisampleEXT(36161,je,ke,U.width,U.height):i.renderbufferStorageMultisample(36161,je,ke,U.width,U.height)}else i.renderbufferStorage(36161,ke,U.width,U.height);i.framebufferRenderbuffer(36160,36096,36161,J)}else if(U.depthBuffer&&U.stencilBuffer){const ke=gt(U);xe&&at(U)===!1?i.renderbufferStorageMultisample(36161,ke,35056,U.width,U.height):at(U)?y.renderbufferStorageMultisampleEXT(36161,ke,35056,U.width,U.height):i.renderbufferStorage(36161,34041,U.width,U.height),i.framebufferRenderbuffer(36160,33306,36161,J)}else{const ke=U.isWebGLMultipleRenderTargets===!0?U.texture:[U.texture];for(let He=0;He<ke.length;He++){const je=ke[He],_t=s.convert(je.format,je.encoding),Ze=s.convert(je.type),be=D(je.internalFormat,_t,Ze,je.encoding),ct=gt(U);xe&&at(U)===!1?i.renderbufferStorageMultisample(36161,ct,be,U.width,U.height):at(U)?y.renderbufferStorageMultisampleEXT(36161,ct,be,U.width,U.height):i.renderbufferStorage(36161,be,U.width,U.height)}}i.bindRenderbuffer(36161,null)}function Ee(J,U){if(U&&U.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,J),!(U.depthTexture&&U.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(U.depthTexture).__webglTexture||U.depthTexture.image.width!==U.width||U.depthTexture.image.height!==U.height)&&(U.depthTexture.image.width=U.width,U.depthTexture.image.height=U.height,U.depthTexture.needsUpdate=!0),k(U.depthTexture,0);const ke=n.get(U.depthTexture).__webglTexture,He=gt(U);if(U.depthTexture.format===wl)at(U)?y.framebufferTexture2DMultisampleEXT(36160,36096,3553,ke,0,He):i.framebufferTexture2D(36160,36096,3553,ke,0);else if(U.depthTexture.format===nc)at(U)?y.framebufferTexture2DMultisampleEXT(36160,33306,3553,ke,0,He):i.framebufferTexture2D(36160,33306,3553,ke,0);else throw new Error("Unknown depthTexture format")}function we(J){const U=n.get(J),xe=J.isWebGLCubeRenderTarget===!0;if(J.depthTexture&&!U.__autoAllocateDepthBuffer){if(xe)throw new Error("target.depthTexture not supported in Cube render targets");Ee(U.__webglFramebuffer,J)}else if(xe){U.__webglDepthbuffer=[];for(let ke=0;ke<6;ke++)t.bindFramebuffer(36160,U.__webglFramebuffer[ke]),U.__webglDepthbuffer[ke]=i.createRenderbuffer(),Ye(U.__webglDepthbuffer[ke],J,!1)}else t.bindFramebuffer(36160,U.__webglFramebuffer),U.__webglDepthbuffer=i.createRenderbuffer(),Ye(U.__webglDepthbuffer,J,!1);t.bindFramebuffer(36160,null)}function ze(J,U,xe){const ke=n.get(J);U!==void 0&&Oe(ke.__webglFramebuffer,J,J.texture,36064,3553),xe!==void 0&&we(J)}function rt(J){const U=J.texture,xe=n.get(J),ke=n.get(U);J.addEventListener("dispose",he),J.isWebGLMultipleRenderTargets!==!0&&(ke.__webglTexture===void 0&&(ke.__webglTexture=i.createTexture()),ke.__version=U.version,a.memory.textures++);const He=J.isWebGLCubeRenderTarget===!0,je=J.isWebGLMultipleRenderTargets===!0,_t=R(J)||l;if(He){xe.__webglFramebuffer=[];for(let Ze=0;Ze<6;Ze++)xe.__webglFramebuffer[Ze]=i.createFramebuffer()}else{if(xe.__webglFramebuffer=i.createFramebuffer(),je)if(r.drawBuffers){const Ze=J.texture;for(let be=0,ct=Ze.length;be<ct;be++){const St=n.get(Ze[be]);St.__webglTexture===void 0&&(St.__webglTexture=i.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(l&&J.samples>0&&at(J)===!1){const Ze=je?U:[U];xe.__webglMultisampledFramebuffer=i.createFramebuffer(),xe.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,xe.__webglMultisampledFramebuffer);for(let be=0;be<Ze.length;be++){const ct=Ze[be];xe.__webglColorRenderbuffer[be]=i.createRenderbuffer(),i.bindRenderbuffer(36161,xe.__webglColorRenderbuffer[be]);const St=s.convert(ct.format,ct.encoding),lt=s.convert(ct.type),xt=D(ct.internalFormat,St,lt,ct.encoding,J.isXRRenderTarget===!0),yt=gt(J);i.renderbufferStorageMultisample(36161,yt,xt,J.width,J.height),i.framebufferRenderbuffer(36160,36064+be,36161,xe.__webglColorRenderbuffer[be])}i.bindRenderbuffer(36161,null),J.depthBuffer&&(xe.__webglDepthRenderbuffer=i.createRenderbuffer(),Ye(xe.__webglDepthRenderbuffer,J,!0)),t.bindFramebuffer(36160,null)}}if(He){t.bindTexture(34067,ke.__webglTexture),le(34067,U,_t);for(let Ze=0;Ze<6;Ze++)Oe(xe.__webglFramebuffer[Ze],J,U,36064,34069+Ze);F(U,_t)&&z(34067),t.unbindTexture()}else if(je){const Ze=J.texture;for(let be=0,ct=Ze.length;be<ct;be++){const St=Ze[be],lt=n.get(St);t.bindTexture(3553,lt.__webglTexture),le(3553,St,_t),Oe(xe.__webglFramebuffer,J,St,36064+be,3553),F(St,_t)&&z(3553)}t.unbindTexture()}else{let Ze=3553;(J.isWebGL3DRenderTarget||J.isWebGLArrayRenderTarget)&&(l?Ze=J.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Ze,ke.__webglTexture),le(Ze,U,_t),Oe(xe.__webglFramebuffer,J,U,36064,Ze),F(U,_t)&&z(Ze),t.unbindTexture()}J.depthBuffer&&we(J)}function Ke(J){const U=R(J)||l,xe=J.isWebGLMultipleRenderTargets===!0?J.texture:[J.texture];for(let ke=0,He=xe.length;ke<He;ke++){const je=xe[ke];if(F(je,U)){const _t=J.isWebGLCubeRenderTarget?34067:3553,Ze=n.get(je).__webglTexture;t.bindTexture(_t,Ze),z(_t),t.unbindTexture()}}}function mt(J){if(l&&J.samples>0&&at(J)===!1){const U=J.isWebGLMultipleRenderTargets?J.texture:[J.texture],xe=J.width,ke=J.height;let He=16384;const je=[],_t=J.stencilBuffer?33306:36096,Ze=n.get(J),be=J.isWebGLMultipleRenderTargets===!0;if(be)for(let ct=0;ct<U.length;ct++)t.bindFramebuffer(36160,Ze.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(36160,36064+ct,36161,null),t.bindFramebuffer(36160,Ze.__webglFramebuffer),i.framebufferTexture2D(36009,36064+ct,3553,null,0);t.bindFramebuffer(36008,Ze.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Ze.__webglFramebuffer);for(let ct=0;ct<U.length;ct++){je.push(36064+ct),J.depthBuffer&&je.push(_t);const St=Ze.__ignoreDepthValues!==void 0?Ze.__ignoreDepthValues:!1;if(St===!1&&(J.depthBuffer&&(He|=256),J.stencilBuffer&&(He|=1024)),be&&i.framebufferRenderbuffer(36008,36064,36161,Ze.__webglColorRenderbuffer[ct]),St===!0&&(i.invalidateFramebuffer(36008,[_t]),i.invalidateFramebuffer(36009,[_t])),be){const lt=n.get(U[ct]).__webglTexture;i.framebufferTexture2D(36009,36064,3553,lt,0)}i.blitFramebuffer(0,0,xe,ke,0,0,xe,ke,He,9728),x&&i.invalidateFramebuffer(36008,je)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),be)for(let ct=0;ct<U.length;ct++){t.bindFramebuffer(36160,Ze.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(36160,36064+ct,36161,Ze.__webglColorRenderbuffer[ct]);const St=n.get(U[ct]).__webglTexture;t.bindFramebuffer(36160,Ze.__webglFramebuffer),i.framebufferTexture2D(36009,36064+ct,3553,St,0)}t.bindFramebuffer(36009,Ze.__webglMultisampledFramebuffer)}}function gt(J){return Math.min(g,J.samples)}function at(J){const U=n.get(J);return l&&J.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&U.__useRenderToTexture!==!1}function kt(J){const U=a.render.frame;A.get(J)!==U&&(A.set(J,U),J.update())}function Ot(J,U){const xe=J.encoding,ke=J.format,He=J.type;return J.isCompressedTexture===!0||J.isVideoTexture===!0||J.format===Vg||xe!==bl&&(xe===Sn?l===!1?e.has("EXT_sRGB")===!0&&ke===Fr?(J.format=Vg,J.minFilter=On,J.generateMipmaps=!1):U=Yx.sRGBToLinear(U):(ke!==Fr||He!==wa)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",xe)),U}this.allocateTextureUnit=V,this.resetTextureUnits=ve,this.setTexture2D=k,this.setTexture2DArray=Q,this.setTexture3D=K,this.setTextureCube=ae,this.rebindTextures=ze,this.setupRenderTarget=rt,this.updateRenderTargetMipmap=Ke,this.updateMultisampleRenderTarget=mt,this.setupDepthRenderbuffer=we,this.setupFrameBufferTexture=Oe,this.useMultisampledRTT=at}function jC(i,e,t){const n=t.isWebGL2;function r(s,a=null){let l;if(s===wa)return 5121;if(s===pC)return 32819;if(s===mC)return 32820;if(s===fC)return 5120;if(s===hC)return 5122;if(s===jx)return 5123;if(s===dC)return 5124;if(s===Al)return 5125;if(s===pa)return 5126;if(s===eh)return n?5131:(l=e.get("OES_texture_half_float"),l!==null?l.HALF_FLOAT_OES:null);if(s===gC)return 6406;if(s===Fr)return 6408;if(s===yC)return 6409;if(s===vC)return 6410;if(s===wl)return 6402;if(s===nc)return 34041;if(s===Vg)return l=e.get("EXT_sRGB"),l!==null?l.SRGB_ALPHA_EXT:null;if(s===xC)return 6403;if(s===_C)return 36244;if(s===AC)return 33319;if(s===wC)return 33320;if(s===SC)return 36249;if(s===Tg||s===bg||s===Pg||s===Bg)if(a===Sn)if(l=e.get("WEBGL_compressed_texture_s3tc_srgb"),l!==null){if(s===Tg)return l.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===bg)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Pg)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Bg)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(l=e.get("WEBGL_compressed_texture_s3tc"),l!==null){if(s===Tg)return l.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===bg)return l.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Pg)return l.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Bg)return l.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===Fv||s===Nv||s===kv||s===Ov)if(l=e.get("WEBGL_compressed_texture_pvrtc"),l!==null){if(s===Fv)return l.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Nv)return l.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===kv)return l.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Ov)return l.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===MC)return l=e.get("WEBGL_compressed_texture_etc1"),l!==null?l.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===Uv||s===zv)if(l=e.get("WEBGL_compressed_texture_etc"),l!==null){if(s===Uv)return a===Sn?l.COMPRESSED_SRGB8_ETC2:l.COMPRESSED_RGB8_ETC2;if(s===zv)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:l.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Gv||s===Hv||s===Vv||s===Wv||s===jv||s===Jv||s===Xv||s===Kv||s===Yv||s===Qv||s===qv||s===Zv||s===$v||s===ex)if(l=e.get("WEBGL_compressed_texture_astc"),l!==null){if(s===Gv)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:l.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===Hv)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:l.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===Vv)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:l.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===Wv)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:l.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===jv)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:l.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===Jv)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:l.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===Xv)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:l.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===Kv)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:l.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===Yv)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:l.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===Qv)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:l.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===qv)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:l.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===Zv)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:l.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===$v)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:l.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===ex)return a===Sn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:l.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Rg)if(l=e.get("EXT_texture_compression_bptc"),l!==null){if(s===Rg)return a===Sn?l.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:l.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===CC||s===tx||s===nx||s===ix)if(l=e.get("EXT_texture_compression_rgtc"),l!==null){if(s===Rg)return l.COMPRESSED_RED_RGTC1_EXT;if(s===tx)return l.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===nx)return l.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===ix)return l.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Qu?n?34042:(l=e.get("WEBGL_depth_texture"),l!==null?l.UNSIGNED_INT_24_8_WEBGL:null):i[s]!==void 0?i[s]:null}return{convert:r}}class JC extends Dn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class ga extends sn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _I={type:"move"};class Fy{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ga,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ga,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new H,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new H),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ga,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new H,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new H),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let r=null,s=null,a=null;const l=this._targetRay,f=this._grip,d=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(d&&e.hand){a=!0;for(const w of e.hand.values()){const S=t.getJointPose(w,n),E=this._getHandJoint(d,w);S!==null&&(E.matrix.fromArray(S.transform.matrix),E.matrix.decompose(E.position,E.rotation,E.scale),E.jointRadius=S.radius),E.visible=S!==null}const p=d.joints["index-finger-tip"],g=d.joints["thumb-tip"],y=p.position.distanceTo(g.position),x=.02,A=.005;d.inputState.pinching&&y>x+A?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&y<=x-A&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else f!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,n),s!==null&&(f.matrix.fromArray(s.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),s.linearVelocity?(f.hasLinearVelocity=!0,f.linearVelocity.copy(s.linearVelocity)):f.hasLinearVelocity=!1,s.angularVelocity?(f.hasAngularVelocity=!0,f.angularVelocity.copy(s.angularVelocity)):f.hasAngularVelocity=!1));l!==null&&(r=t.getPose(e.targetRaySpace,n),r===null&&s!==null&&(r=s),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(_I)))}return l!==null&&(l.visible=r!==null),f!==null&&(f.visible=s!==null),d!==null&&(d.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new ga;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class XC extends Gn{constructor(e,t,n,r,s,a,l,f,d,p){if(p=p!==void 0?p:wl,p!==wl&&p!==nc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&p===wl&&(n=Al),n===void 0&&p===nc&&(n=Qu),super(null,r,s,a,l,f,p,n,d),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=l!==void 0?l:jn,this.minFilter=f!==void 0?f:jn,this.flipY=!1,this.generateMipmaps=!1}}class AI extends Ca{constructor(e,t){super();const n=this;let r=null,s=1,a=null,l="local-floor",f=1,d=null,p=null,g=null,y=null,x=null,A=null;const w=t.getContextAttributes();let S=null,E=null;const b=[],T=[],R=new Set,I=new Map,F=new Dn;F.layers.enable(1),F.viewport=new pn;const z=new Dn;z.layers.enable(2),z.viewport=new pn;const D=[F,z],O=new JC;O.layers.enable(1),O.layers.enable(2);let G=null,Y=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(K){let ae=b[K];return ae===void 0&&(ae=new Fy,b[K]=ae),ae.getTargetRaySpace()},this.getControllerGrip=function(K){let ae=b[K];return ae===void 0&&(ae=new Fy,b[K]=ae),ae.getGripSpace()},this.getHand=function(K){let ae=b[K];return ae===void 0&&(ae=new Fy,b[K]=ae),ae.getHandSpace()};function he(K){const ae=T.indexOf(K.inputSource);if(ae===-1)return;const Me=b[ae];Me!==void 0&&Me.dispatchEvent({type:K.type,data:K.inputSource})}function ie(){r.removeEventListener("select",he),r.removeEventListener("selectstart",he),r.removeEventListener("selectend",he),r.removeEventListener("squeeze",he),r.removeEventListener("squeezestart",he),r.removeEventListener("squeezeend",he),r.removeEventListener("end",ie),r.removeEventListener("inputsourceschange",$);for(let K=0;K<b.length;K++){const ae=T[K];ae!==null&&(T[K]=null,b[K].disconnect(ae))}G=null,Y=null,e.setRenderTarget(S),x=null,y=null,g=null,r=null,E=null,Q.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(K){s=K,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(K){l=K,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||a},this.setReferenceSpace=function(K){d=K},this.getBaseLayer=function(){return y!==null?y:x},this.getBinding=function(){return g},this.getFrame=function(){return A},this.getSession=function(){return r},this.setSession=async function(K){if(r=K,r!==null){if(S=e.getRenderTarget(),r.addEventListener("select",he),r.addEventListener("selectstart",he),r.addEventListener("selectend",he),r.addEventListener("squeeze",he),r.addEventListener("squeezestart",he),r.addEventListener("squeezeend",he),r.addEventListener("end",ie),r.addEventListener("inputsourceschange",$),w.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ae={antialias:r.renderState.layers===void 0?w.antialias:!0,alpha:w.alpha,depth:w.depth,stencil:w.stencil,framebufferScaleFactor:s};x=new XRWebGLLayer(r,t,ae),r.updateRenderState({baseLayer:x}),E=new eo(x.framebufferWidth,x.framebufferHeight,{format:Fr,type:wa,encoding:e.outputEncoding,stencilBuffer:w.stencil})}else{let ae=null,Me=null,Pe=null;w.depth&&(Pe=w.stencil?35056:33190,ae=w.stencil?nc:wl,Me=w.stencil?Qu:Al);const le={colorFormat:32856,depthFormat:Pe,scaleFactor:s};g=new XRWebGLBinding(r,t),y=g.createProjectionLayer(le),r.updateRenderState({layers:[y]}),E=new eo(y.textureWidth,y.textureHeight,{format:Fr,type:wa,depthTexture:new XC(y.textureWidth,y.textureHeight,Me,void 0,void 0,void 0,void 0,void 0,void 0,ae),stencilBuffer:w.stencil,encoding:e.outputEncoding,samples:w.antialias?4:0});const Ge=e.properties.get(E);Ge.__ignoreDepthValues=y.ignoreDepthValues}E.isXRRenderTarget=!0,this.setFoveation(f),d=null,a=await r.requestReferenceSpace(l),Q.setContext(r),Q.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};function $(K){for(let ae=0;ae<K.removed.length;ae++){const Me=K.removed[ae],Pe=T.indexOf(Me);Pe>=0&&(T[Pe]=null,b[Pe].disconnect(Me))}for(let ae=0;ae<K.added.length;ae++){const Me=K.added[ae];let Pe=T.indexOf(Me);if(Pe===-1){for(let Ge=0;Ge<b.length;Ge++)if(Ge>=T.length){T.push(Me),Pe=Ge;break}else if(T[Ge]===null){T[Ge]=Me,Pe=Ge;break}if(Pe===-1)break}const le=b[Pe];le&&le.connect(Me)}}const ce=new H,ge=new H;function ve(K,ae,Me){ce.setFromMatrixPosition(ae.matrixWorld),ge.setFromMatrixPosition(Me.matrixWorld);const Pe=ce.distanceTo(ge),le=ae.projectionMatrix.elements,Ge=Me.projectionMatrix.elements,Ne=le[14]/(le[10]-1),Qe=le[14]/(le[10]+1),Oe=(le[9]+1)/le[5],Ye=(le[9]-1)/le[5],Ee=(le[8]-1)/le[0],we=(Ge[8]+1)/Ge[0],ze=Ne*Ee,rt=Ne*we,Ke=Pe/(-Ee+we),mt=Ke*-Ee;ae.matrixWorld.decompose(K.position,K.quaternion,K.scale),K.translateX(mt),K.translateZ(Ke),K.matrixWorld.compose(K.position,K.quaternion,K.scale),K.matrixWorldInverse.copy(K.matrixWorld).invert();const gt=Ne+Ke,at=Qe+Ke,kt=ze-mt,Ot=rt+(Pe-mt),J=Oe*Qe/at*gt,U=Ye*Qe/at*gt;K.projectionMatrix.makePerspective(kt,Ot,J,U,gt,at)}function V(K,ae){ae===null?K.matrixWorld.copy(K.matrix):K.matrixWorld.multiplyMatrices(ae.matrixWorld,K.matrix),K.matrixWorldInverse.copy(K.matrixWorld).invert()}this.updateCamera=function(K){if(r===null)return;O.near=z.near=F.near=K.near,O.far=z.far=F.far=K.far,(G!==O.near||Y!==O.far)&&(r.updateRenderState({depthNear:O.near,depthFar:O.far}),G=O.near,Y=O.far);const ae=K.parent,Me=O.cameras;V(O,ae);for(let le=0;le<Me.length;le++)V(Me[le],ae);O.matrixWorld.decompose(O.position,O.quaternion,O.scale),K.matrix.copy(O.matrix),K.matrix.decompose(K.position,K.quaternion,K.scale);const Pe=K.children;for(let le=0,Ge=Pe.length;le<Ge;le++)Pe[le].updateMatrixWorld(!0);Me.length===2?ve(O,F,z):O.projectionMatrix.copy(F.projectionMatrix)},this.getCamera=function(){return O},this.getFoveation=function(){if(!(y===null&&x===null))return f},this.setFoveation=function(K){f=K,y!==null&&(y.fixedFoveation=K),x!==null&&x.fixedFoveation!==void 0&&(x.fixedFoveation=K)},this.getPlanes=function(){return R};let re=null;function k(K,ae){if(p=ae.getViewerPose(d||a),A=ae,p!==null){const Me=p.views;x!==null&&(e.setRenderTargetFramebuffer(E,x.framebuffer),e.setRenderTarget(E));let Pe=!1;Me.length!==O.cameras.length&&(O.cameras.length=0,Pe=!0);for(let le=0;le<Me.length;le++){const Ge=Me[le];let Ne=null;if(x!==null)Ne=x.getViewport(Ge);else{const Oe=g.getViewSubImage(y,Ge);Ne=Oe.viewport,le===0&&(e.setRenderTargetTextures(E,Oe.colorTexture,y.ignoreDepthValues?void 0:Oe.depthStencilTexture),e.setRenderTarget(E))}let Qe=D[le];Qe===void 0&&(Qe=new Dn,Qe.layers.enable(le),Qe.viewport=new pn,D[le]=Qe),Qe.matrix.fromArray(Ge.transform.matrix),Qe.projectionMatrix.fromArray(Ge.projectionMatrix),Qe.viewport.set(Ne.x,Ne.y,Ne.width,Ne.height),le===0&&O.matrix.copy(Qe.matrix),Pe===!0&&O.cameras.push(Qe)}}for(let Me=0;Me<b.length;Me++){const Pe=T[Me],le=b[Me];Pe!==null&&le!==void 0&&le.update(Pe,ae,d||a)}if(re&&re(K,ae),ae.detectedPlanes){n.dispatchEvent({type:"planesdetected",data:ae.detectedPlanes});let Me=null;for(const Pe of R)ae.detectedPlanes.has(Pe)||(Me===null&&(Me=[]),Me.push(Pe));if(Me!==null)for(const Pe of Me)R.delete(Pe),I.delete(Pe),n.dispatchEvent({type:"planeremoved",data:Pe});for(const Pe of ae.detectedPlanes)if(!R.has(Pe))R.add(Pe),I.set(Pe,ae.lastChangedTime),n.dispatchEvent({type:"planeadded",data:Pe});else{const le=I.get(Pe);Pe.lastChangedTime>le&&(I.set(Pe,Pe.lastChangedTime),n.dispatchEvent({type:"planechanged",data:Pe}))}}A=null}const Q=new zC;Q.setAnimationLoop(k),this.setAnimationLoop=function(K){re=K},this.dispose=function(){}}}function wI(i,e){function t(w,S){S.color.getRGB(w.fogColor.value,OC(i)),S.isFog?(w.fogNear.value=S.near,w.fogFar.value=S.far):S.isFogExp2&&(w.fogDensity.value=S.density)}function n(w,S,E,b,T){S.isMeshBasicMaterial||S.isMeshLambertMaterial?r(w,S):S.isMeshToonMaterial?(r(w,S),p(w,S)):S.isMeshPhongMaterial?(r(w,S),d(w,S)):S.isMeshStandardMaterial?(r(w,S),g(w,S),S.isMeshPhysicalMaterial&&y(w,S,T)):S.isMeshMatcapMaterial?(r(w,S),x(w,S)):S.isMeshDepthMaterial?r(w,S):S.isMeshDistanceMaterial?(r(w,S),A(w,S)):S.isMeshNormalMaterial?r(w,S):S.isLineBasicMaterial?(s(w,S),S.isLineDashedMaterial&&a(w,S)):S.isPointsMaterial?l(w,S,E,b):S.isSpriteMaterial?f(w,S):S.isShadowMaterial?(w.color.value.copy(S.color),w.opacity.value=S.opacity):S.isShaderMaterial&&(S.uniformsNeedUpdate=!1)}function r(w,S){w.opacity.value=S.opacity,S.color&&w.diffuse.value.copy(S.color),S.emissive&&w.emissive.value.copy(S.emissive).multiplyScalar(S.emissiveIntensity),S.map&&(w.map.value=S.map),S.alphaMap&&(w.alphaMap.value=S.alphaMap),S.bumpMap&&(w.bumpMap.value=S.bumpMap,w.bumpScale.value=S.bumpScale,S.side===Nr&&(w.bumpScale.value*=-1)),S.displacementMap&&(w.displacementMap.value=S.displacementMap,w.displacementScale.value=S.displacementScale,w.displacementBias.value=S.displacementBias),S.emissiveMap&&(w.emissiveMap.value=S.emissiveMap),S.normalMap&&(w.normalMap.value=S.normalMap,w.normalScale.value.copy(S.normalScale),S.side===Nr&&w.normalScale.value.negate()),S.specularMap&&(w.specularMap.value=S.specularMap),S.alphaTest>0&&(w.alphaTest.value=S.alphaTest);const E=e.get(S).envMap;if(E&&(w.envMap.value=E,w.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,w.reflectivity.value=S.reflectivity,w.ior.value=S.ior,w.refractionRatio.value=S.refractionRatio),S.lightMap){w.lightMap.value=S.lightMap;const R=i.physicallyCorrectLights!==!0?Math.PI:1;w.lightMapIntensity.value=S.lightMapIntensity*R}S.aoMap&&(w.aoMap.value=S.aoMap,w.aoMapIntensity.value=S.aoMapIntensity);let b;S.map?b=S.map:S.specularMap?b=S.specularMap:S.displacementMap?b=S.displacementMap:S.normalMap?b=S.normalMap:S.bumpMap?b=S.bumpMap:S.roughnessMap?b=S.roughnessMap:S.metalnessMap?b=S.metalnessMap:S.alphaMap?b=S.alphaMap:S.emissiveMap?b=S.emissiveMap:S.clearcoatMap?b=S.clearcoatMap:S.clearcoatNormalMap?b=S.clearcoatNormalMap:S.clearcoatRoughnessMap?b=S.clearcoatRoughnessMap:S.iridescenceMap?b=S.iridescenceMap:S.iridescenceThicknessMap?b=S.iridescenceThicknessMap:S.specularIntensityMap?b=S.specularIntensityMap:S.specularColorMap?b=S.specularColorMap:S.transmissionMap?b=S.transmissionMap:S.thicknessMap?b=S.thicknessMap:S.sheenColorMap?b=S.sheenColorMap:S.sheenRoughnessMap&&(b=S.sheenRoughnessMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),w.uvTransform.value.copy(b.matrix));let T;S.aoMap?T=S.aoMap:S.lightMap&&(T=S.lightMap),T!==void 0&&(T.isWebGLRenderTarget&&(T=T.texture),T.matrixAutoUpdate===!0&&T.updateMatrix(),w.uv2Transform.value.copy(T.matrix))}function s(w,S){w.diffuse.value.copy(S.color),w.opacity.value=S.opacity}function a(w,S){w.dashSize.value=S.dashSize,w.totalSize.value=S.dashSize+S.gapSize,w.scale.value=S.scale}function l(w,S,E,b){w.diffuse.value.copy(S.color),w.opacity.value=S.opacity,w.size.value=S.size*E,w.scale.value=b*.5,S.map&&(w.map.value=S.map),S.alphaMap&&(w.alphaMap.value=S.alphaMap),S.alphaTest>0&&(w.alphaTest.value=S.alphaTest);let T;S.map?T=S.map:S.alphaMap&&(T=S.alphaMap),T!==void 0&&(T.matrixAutoUpdate===!0&&T.updateMatrix(),w.uvTransform.value.copy(T.matrix))}function f(w,S){w.diffuse.value.copy(S.color),w.opacity.value=S.opacity,w.rotation.value=S.rotation,S.map&&(w.map.value=S.map),S.alphaMap&&(w.alphaMap.value=S.alphaMap),S.alphaTest>0&&(w.alphaTest.value=S.alphaTest);let E;S.map?E=S.map:S.alphaMap&&(E=S.alphaMap),E!==void 0&&(E.matrixAutoUpdate===!0&&E.updateMatrix(),w.uvTransform.value.copy(E.matrix))}function d(w,S){w.specular.value.copy(S.specular),w.shininess.value=Math.max(S.shininess,1e-4)}function p(w,S){S.gradientMap&&(w.gradientMap.value=S.gradientMap)}function g(w,S){w.roughness.value=S.roughness,w.metalness.value=S.metalness,S.roughnessMap&&(w.roughnessMap.value=S.roughnessMap),S.metalnessMap&&(w.metalnessMap.value=S.metalnessMap),e.get(S).envMap&&(w.envMapIntensity.value=S.envMapIntensity)}function y(w,S,E){w.ior.value=S.ior,S.sheen>0&&(w.sheenColor.value.copy(S.sheenColor).multiplyScalar(S.sheen),w.sheenRoughness.value=S.sheenRoughness,S.sheenColorMap&&(w.sheenColorMap.value=S.sheenColorMap),S.sheenRoughnessMap&&(w.sheenRoughnessMap.value=S.sheenRoughnessMap)),S.clearcoat>0&&(w.clearcoat.value=S.clearcoat,w.clearcoatRoughness.value=S.clearcoatRoughness,S.clearcoatMap&&(w.clearcoatMap.value=S.clearcoatMap),S.clearcoatRoughnessMap&&(w.clearcoatRoughnessMap.value=S.clearcoatRoughnessMap),S.clearcoatNormalMap&&(w.clearcoatNormalScale.value.copy(S.clearcoatNormalScale),w.clearcoatNormalMap.value=S.clearcoatNormalMap,S.side===Nr&&w.clearcoatNormalScale.value.negate())),S.iridescence>0&&(w.iridescence.value=S.iridescence,w.iridescenceIOR.value=S.iridescenceIOR,w.iridescenceThicknessMinimum.value=S.iridescenceThicknessRange[0],w.iridescenceThicknessMaximum.value=S.iridescenceThicknessRange[1],S.iridescenceMap&&(w.iridescenceMap.value=S.iridescenceMap),S.iridescenceThicknessMap&&(w.iridescenceThicknessMap.value=S.iridescenceThicknessMap)),S.transmission>0&&(w.transmission.value=S.transmission,w.transmissionSamplerMap.value=E.texture,w.transmissionSamplerSize.value.set(E.width,E.height),S.transmissionMap&&(w.transmissionMap.value=S.transmissionMap),w.thickness.value=S.thickness,S.thicknessMap&&(w.thicknessMap.value=S.thicknessMap),w.attenuationDistance.value=S.attenuationDistance,w.attenuationColor.value.copy(S.attenuationColor)),w.specularIntensity.value=S.specularIntensity,w.specularColor.value.copy(S.specularColor),S.specularIntensityMap&&(w.specularIntensityMap.value=S.specularIntensityMap),S.specularColorMap&&(w.specularColorMap.value=S.specularColorMap)}function x(w,S){S.matcap&&(w.matcap.value=S.matcap)}function A(w,S){w.referencePosition.value.copy(S.referencePosition),w.nearDistance.value=S.nearDistance,w.farDistance.value=S.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:n}}function SI(i,e,t,n){let r={},s={},a=[];const l=t.isWebGL2?i.getParameter(35375):0;function f(b,T){const R=T.program;n.uniformBlockBinding(b,R)}function d(b,T){let R=r[b.id];R===void 0&&(A(b),R=p(b),r[b.id]=R,b.addEventListener("dispose",S));const I=T.program;n.updateUBOMapping(b,I);const F=e.render.frame;s[b.id]!==F&&(y(b),s[b.id]=F)}function p(b){const T=g();b.__bindingPointIndex=T;const R=i.createBuffer(),I=b.__size,F=b.usage;return i.bindBuffer(35345,R),i.bufferData(35345,I,F),i.bindBuffer(35345,null),i.bindBufferBase(35345,T,R),R}function g(){for(let b=0;b<l;b++)if(a.indexOf(b)===-1)return a.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(b){const T=r[b.id],R=b.uniforms,I=b.__cache;i.bindBuffer(35345,T);for(let F=0,z=R.length;F<z;F++){const D=R[F];if(x(D,F,I)===!0){const O=D.__offset,G=Array.isArray(D.value)?D.value:[D.value];let Y=0;for(let he=0;he<G.length;he++){const ie=G[he],$=w(ie);typeof ie=="number"?(D.__data[0]=ie,i.bufferSubData(35345,O+Y,D.__data)):ie.isMatrix3?(D.__data[0]=ie.elements[0],D.__data[1]=ie.elements[1],D.__data[2]=ie.elements[2],D.__data[3]=ie.elements[0],D.__data[4]=ie.elements[3],D.__data[5]=ie.elements[4],D.__data[6]=ie.elements[5],D.__data[7]=ie.elements[0],D.__data[8]=ie.elements[6],D.__data[9]=ie.elements[7],D.__data[10]=ie.elements[8],D.__data[11]=ie.elements[0]):(ie.toArray(D.__data,Y),Y+=$.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(35345,O,D.__data)}}i.bindBuffer(35345,null)}function x(b,T,R){const I=b.value;if(R[T]===void 0){if(typeof I=="number")R[T]=I;else{const F=Array.isArray(I)?I:[I],z=[];for(let D=0;D<F.length;D++)z.push(F[D].clone());R[T]=z}return!0}else if(typeof I=="number"){if(R[T]!==I)return R[T]=I,!0}else{const F=Array.isArray(R[T])?R[T]:[R[T]],z=Array.isArray(I)?I:[I];for(let D=0;D<F.length;D++){const O=F[D];if(O.equals(z[D])===!1)return O.copy(z[D]),!0}}return!1}function A(b){const T=b.uniforms;let R=0;const I=16;let F=0;for(let z=0,D=T.length;z<D;z++){const O=T[z],G={boundary:0,storage:0},Y=Array.isArray(O.value)?O.value:[O.value];for(let he=0,ie=Y.length;he<ie;he++){const $=Y[he],ce=w($);G.boundary+=ce.boundary,G.storage+=ce.storage}if(O.__data=new Float32Array(G.storage/Float32Array.BYTES_PER_ELEMENT),O.__offset=R,z>0){F=R%I;const he=I-F;F!==0&&he-G.boundary<0&&(R+=I-F,O.__offset=R)}R+=G.storage}return F=R%I,F>0&&(R+=I-F),b.__size=R,b.__cache={},this}function w(b){const T={boundary:0,storage:0};return typeof b=="number"?(T.boundary=4,T.storage=4):b.isVector2?(T.boundary=8,T.storage=8):b.isVector3||b.isColor?(T.boundary=16,T.storage=12):b.isVector4?(T.boundary=16,T.storage=16):b.isMatrix3?(T.boundary=48,T.storage=48):b.isMatrix4?(T.boundary=64,T.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),T}function S(b){const T=b.target;T.removeEventListener("dispose",S);const R=a.indexOf(T.__bindingPointIndex);a.splice(R,1),i.deleteBuffer(r[T.id]),delete r[T.id],delete s[T.id]}function E(){for(const b in r)i.deleteBuffer(r[b]);a=[],r={},s={}}return{bind:f,update:d,dispose:E}}function MI(){const i=Yd("canvas");return i.style.display="block",i}function r_(i={}){this.isWebGLRenderer=!0;const e=i.canvas!==void 0?i.canvas:MI(),t=i.context!==void 0?i.context:null,n=i.depth!==void 0?i.depth:!0,r=i.stencil!==void 0?i.stencil:!0,s=i.antialias!==void 0?i.antialias:!1,a=i.premultipliedAlpha!==void 0?i.premultipliedAlpha:!0,l=i.preserveDrawingBuffer!==void 0?i.preserveDrawingBuffer:!1,f=i.powerPreference!==void 0?i.powerPreference:"default",d=i.failIfMajorPerformanceCaveat!==void 0?i.failIfMajorPerformanceCaveat:!1;let p;t!==null?p=t.getContextAttributes().alpha:p=i.alpha!==void 0?i.alpha:!1;let g=null,y=null;const x=[],A=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=bl,this.physicallyCorrectLights=!1,this.toneMapping=qs,this.toneMappingExposure=1;const w=this;let S=!1,E=0,b=0,T=null,R=-1,I=null;const F=new pn,z=new pn;let D=null,O=e.width,G=e.height,Y=1,he=null,ie=null;const $=new pn(0,0,O,G),ce=new pn(0,0,O,G);let ge=!1;const ve=new c0;let V=!1,re=!1,k=null;const Q=new Lt,K=new Be,ae=new H,Me={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Pe(){return T===null?Y:1}let le=t;function Ge(W,pe){for(let Te=0;Te<W.length;Te++){const de=W[Te],Re=e.getContext(de,pe);if(Re!==null)return Re}return null}try{const W={alpha:!0,depth:n,stencil:r,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:f,failIfMajorPerformanceCaveat:d};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${ch}`),e.addEventListener("webglcontextlost",xt,!1),e.addEventListener("webglcontextrestored",yt,!1),e.addEventListener("webglcontextcreationerror",te,!1),le===null){const pe=["webgl2","webgl","experimental-webgl"];if(w.isWebGL1Renderer===!0&&pe.shift(),le=Ge(pe,W),le===null)throw Ge(pe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}le.getShaderPrecisionFormat===void 0&&(le.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(W){throw console.error("THREE.WebGLRenderer: "+W.message),W}let Ne,Qe,Oe,Ye,Ee,we,ze,rt,Ke,mt,gt,at,kt,Ot,J,U,xe,ke,He,je,_t,Ze,be,ct;function St(){Ne=new zR(le),Qe=new DR(le,Ne,i),Ne.init(Qe),Ze=new jC(le,Ne,Qe),Oe=new vI(le,Ne,Qe),Ye=new VR,Ee=new oI,we=new xI(le,Ne,Oe,Ee,Qe,Ze,Ye),ze=new NR(w),rt=new UR(w),Ke=new ZP(le,Qe),be=new LR(le,Ne,Ke,Qe),mt=new GR(le,Ke,Ye,be),gt=new XR(le,mt,Ke,Ye),He=new JR(le,Qe,we),U=new FR(Ee),at=new sI(w,ze,rt,Ne,Qe,be,U),kt=new wI(w,Ee),Ot=new lI,J=new pI(Ne,Qe),ke=new RR(w,ze,rt,Oe,gt,p,a),xe=new yI(w,gt,Qe),ct=new SI(le,Ye,Qe,Oe),je=new IR(le,Ne,Ye,Qe),_t=new HR(le,Ne,Ye,Qe),Ye.programs=at.programs,w.capabilities=Qe,w.extensions=Ne,w.properties=Ee,w.renderLists=Ot,w.shadowMap=xe,w.state=Oe,w.info=Ye}St();const lt=new AI(w,le);this.xr=lt,this.getContext=function(){return le},this.getContextAttributes=function(){return le.getContextAttributes()},this.forceContextLoss=function(){const W=Ne.get("WEBGL_lose_context");W&&W.loseContext()},this.forceContextRestore=function(){const W=Ne.get("WEBGL_lose_context");W&&W.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(W){W!==void 0&&(Y=W,this.setSize(O,G,!1))},this.getSize=function(W){return W.set(O,G)},this.setSize=function(W,pe,Te){if(lt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}O=W,G=pe,e.width=Math.floor(W*Y),e.height=Math.floor(pe*Y),Te!==!1&&(e.style.width=W+"px",e.style.height=pe+"px"),this.setViewport(0,0,W,pe)},this.getDrawingBufferSize=function(W){return W.set(O*Y,G*Y).floor()},this.setDrawingBufferSize=function(W,pe,Te){O=W,G=pe,Y=Te,e.width=Math.floor(W*Te),e.height=Math.floor(pe*Te),this.setViewport(0,0,W,pe)},this.getCurrentViewport=function(W){return W.copy(F)},this.getViewport=function(W){return W.copy($)},this.setViewport=function(W,pe,Te,de){W.isVector4?$.set(W.x,W.y,W.z,W.w):$.set(W,pe,Te,de),Oe.viewport(F.copy($).multiplyScalar(Y).floor())},this.getScissor=function(W){return W.copy(ce)},this.setScissor=function(W,pe,Te,de){W.isVector4?ce.set(W.x,W.y,W.z,W.w):ce.set(W,pe,Te,de),Oe.scissor(z.copy(ce).multiplyScalar(Y).floor())},this.getScissorTest=function(){return ge},this.setScissorTest=function(W){Oe.setScissorTest(ge=W)},this.setOpaqueSort=function(W){he=W},this.setTransparentSort=function(W){ie=W},this.getClearColor=function(W){return W.copy(ke.getClearColor())},this.setClearColor=function(){ke.setClearColor.apply(ke,arguments)},this.getClearAlpha=function(){return ke.getClearAlpha()},this.setClearAlpha=function(){ke.setClearAlpha.apply(ke,arguments)},this.clear=function(W=!0,pe=!0,Te=!0){let de=0;W&&(de|=16384),pe&&(de|=256),Te&&(de|=1024),le.clear(de)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",xt,!1),e.removeEventListener("webglcontextrestored",yt,!1),e.removeEventListener("webglcontextcreationerror",te,!1),Ot.dispose(),J.dispose(),Ee.dispose(),ze.dispose(),rt.dispose(),gt.dispose(),be.dispose(),ct.dispose(),at.dispose(),lt.dispose(),lt.removeEventListener("sessionstart",Je),lt.removeEventListener("sessionend",dt),k&&(k.dispose(),k=null),jt.stop()};function xt(W){W.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function yt(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const W=Ye.autoReset,pe=xe.enabled,Te=xe.autoUpdate,de=xe.needsUpdate,Re=xe.type;St(),Ye.autoReset=W,xe.enabled=pe,xe.autoUpdate=Te,xe.needsUpdate=de,xe.type=Re}function te(W){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",W.statusMessage)}function Le(W){const pe=W.target;pe.removeEventListener("dispose",Le),nt(pe)}function nt(W){q(W),Ee.remove(W)}function q(W){const pe=Ee.get(W).programs;pe!==void 0&&(pe.forEach(function(Te){at.releaseProgram(Te)}),W.isShaderMaterial&&at.releaseShaderCache(W))}this.renderBufferDirect=function(W,pe,Te,de,Re,At){pe===null&&(pe=Me);const Mt=Re.isMesh&&Re.matrixWorld.determinant()<0,Ft=Bo(W,pe,Te,de,Re);Oe.setMaterial(de,Mt);let Ut=Te.index,Yt=1;de.wireframe===!0&&(Ut=mt.getWireframeAttribute(Te),Yt=2);const Jt=Te.drawRange,Xt=Te.attributes.position;let En=Jt.start*Yt,Ai=(Jt.start+Jt.count)*Yt;At!==null&&(En=Math.max(En,At.start*Yt),Ai=Math.min(Ai,(At.start+At.count)*Yt)),Ut!==null?(En=Math.max(En,0),Ai=Math.min(Ai,Ut.count)):Xt!=null&&(En=Math.max(En,0),Ai=Math.min(Ai,Xt.count));const Or=Ai-En;if(Or<0||Or===1/0)return;be.setup(Re,de,Ft,Te,Ut);let As,It=je;if(Ut!==null&&(As=Ke.get(Ut),It=_t,It.setIndex(As)),Re.isMesh)de.wireframe===!0?(Oe.setLineWidth(de.wireframeLinewidth*Pe()),It.setMode(1)):It.setMode(4);else if(Re.isLine){let zt=de.linewidth;zt===void 0&&(zt=1),Oe.setLineWidth(zt*Pe()),Re.isLineSegments?It.setMode(1):Re.isLineLoop?It.setMode(2):It.setMode(3)}else Re.isPoints?It.setMode(0):Re.isSprite&&It.setMode(4);if(Re.isInstancedMesh)It.renderInstances(En,Or,Re.count);else if(Te.isInstancedBufferGeometry){const zt=Te._maxInstanceCount!==void 0?Te._maxInstanceCount:1/0,ws=Math.min(Te.instanceCount,zt);It.renderInstances(En,Or,ws)}else It.render(En,Or)},this.compile=function(W,pe){function Te(de,Re,At){de.transparent===!0&&de.side===Ys&&de.forceSinglePass===!1?(de.side=Nr,de.needsUpdate=!0,Cn(de,Re,At),de.side=To,de.needsUpdate=!0,Cn(de,Re,At),de.side=Ys):Cn(de,Re,At)}y=J.get(W),y.init(),A.push(y),W.traverseVisible(function(de){de.isLight&&de.layers.test(pe.layers)&&(y.pushLight(de),de.castShadow&&y.pushShadow(de))}),y.setupLights(w.physicallyCorrectLights),W.traverse(function(de){const Re=de.material;if(Re)if(Array.isArray(Re))for(let At=0;At<Re.length;At++){const Mt=Re[At];Te(Mt,W,de)}else Te(Re,W,de)}),A.pop(),y=null};let _e=null;function Ie(W){_e&&_e(W)}function Je(){jt.stop()}function dt(){jt.start()}const jt=new zC;jt.setAnimationLoop(Ie),typeof self<"u"&&jt.setContext(self),this.setAnimationLoop=function(W){_e=W,lt.setAnimationLoop(W),W===null?jt.stop():jt.start()},lt.addEventListener("sessionstart",Je),lt.addEventListener("sessionend",dt),this.render=function(W,pe){if(pe!==void 0&&pe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(S===!0)return;W.matrixWorldAutoUpdate===!0&&W.updateMatrixWorld(),pe.parent===null&&pe.matrixWorldAutoUpdate===!0&&pe.updateMatrixWorld(),lt.enabled===!0&&lt.isPresenting===!0&&(lt.cameraAutoUpdate===!0&&lt.updateCamera(pe),pe=lt.getCamera()),W.isScene===!0&&W.onBeforeRender(w,W,pe,T),y=J.get(W,A.length),y.init(),A.push(y),Q.multiplyMatrices(pe.projectionMatrix,pe.matrixWorldInverse),ve.setFromProjectionMatrix(Q),re=this.localClippingEnabled,V=U.init(this.clippingPlanes,re),g=Ot.get(W,x.length),g.init(),x.push(g),tn(W,pe,0,w.sortObjects),g.finish(),w.sortObjects===!0&&g.sort(he,ie),V===!0&&U.beginShadows();const Te=y.state.shadowsArray;if(xe.render(Te,W,pe),V===!0&&U.endShadows(),this.info.autoReset===!0&&this.info.reset(),ke.render(g,W),y.setupLights(w.physicallyCorrectLights),pe.isArrayCamera){const de=pe.cameras;for(let Re=0,At=de.length;Re<At;Re++){const Mt=de[Re];fn(g,W,Mt,Mt.viewport)}}else fn(g,W,pe);T!==null&&(we.updateMultisampleRenderTarget(T),we.updateRenderTargetMipmap(T)),W.isScene===!0&&W.onAfterRender(w,W,pe),be.resetDefaultState(),R=-1,I=null,A.pop(),A.length>0?y=A[A.length-1]:y=null,x.pop(),x.length>0?g=x[x.length-1]:g=null};function tn(W,pe,Te,de){if(W.visible===!1)return;if(W.layers.test(pe.layers)){if(W.isGroup)Te=W.renderOrder;else if(W.isLOD)W.autoUpdate===!0&&W.update(pe);else if(W.isLight)y.pushLight(W),W.castShadow&&y.pushShadow(W);else if(W.isSprite){if(!W.frustumCulled||ve.intersectsSprite(W)){de&&ae.setFromMatrixPosition(W.matrixWorld).applyMatrix4(Q);const Mt=gt.update(W),Ft=W.material;Ft.visible&&g.push(W,Mt,Ft,Te,ae.z,null)}}else if((W.isMesh||W.isLine||W.isPoints)&&(W.isSkinnedMesh&&W.skeleton.frame!==Ye.render.frame&&(W.skeleton.update(),W.skeleton.frame=Ye.render.frame),!W.frustumCulled||ve.intersectsObject(W))){de&&ae.setFromMatrixPosition(W.matrixWorld).applyMatrix4(Q);const Mt=gt.update(W),Ft=W.material;if(Array.isArray(Ft)){const Ut=Mt.groups;for(let Yt=0,Jt=Ut.length;Yt<Jt;Yt++){const Xt=Ut[Yt],En=Ft[Xt.materialIndex];En&&En.visible&&g.push(W,Mt,En,Te,ae.z,Xt)}}else Ft.visible&&g.push(W,Mt,Ft,Te,ae.z,null)}}const At=W.children;for(let Mt=0,Ft=At.length;Mt<Ft;Mt++)tn(At[Mt],pe,Te,de)}function fn(W,pe,Te,de){const Re=W.opaque,At=W.transmissive,Mt=W.transparent;y.setupLightsView(Te),V===!0&&U.setGlobalState(w.clippingPlanes,Te),At.length>0&&fi(Re,pe,Te),de&&Oe.viewport(F.copy(de)),Re.length>0&&Kt(Re,pe,Te),At.length>0&&Kt(At,pe,Te),Mt.length>0&&Kt(Mt,pe,Te),Oe.buffers.depth.setTest(!0),Oe.buffers.depth.setMask(!0),Oe.buffers.color.setMask(!0),Oe.setPolygonOffset(!1)}function fi(W,pe,Te){const de=Qe.isWebGL2;k===null&&(k=new eo(1,1,{generateMipmaps:!0,type:Ne.has("EXT_color_buffer_half_float")?eh:wa,minFilter:bo,samples:de&&s===!0?4:0})),w.getDrawingBufferSize(K),de?k.setSize(K.x,K.y):k.setSize(Wg(K.x),Wg(K.y));const Re=w.getRenderTarget();w.setRenderTarget(k),w.clear();const At=w.toneMapping;w.toneMapping=qs,Kt(W,pe,Te),w.toneMapping=At,we.updateMultisampleRenderTarget(k),we.updateRenderTargetMipmap(k),w.setRenderTarget(Re)}function Kt(W,pe,Te){const de=pe.isScene===!0?pe.overrideMaterial:null;for(let Re=0,At=W.length;Re<At;Re++){const Mt=W[Re],Ft=Mt.object,Ut=Mt.geometry,Yt=de===null?Mt.material:de,Jt=Mt.group;Ft.layers.test(Te.layers)&&Jn(Ft,pe,Te,Ut,Yt,Jt)}}function Jn(W,pe,Te,de,Re,At){W.onBeforeRender(w,pe,Te,de,Re,At),W.modelViewMatrix.multiplyMatrices(Te.matrixWorldInverse,W.matrixWorld),W.normalMatrix.getNormalMatrix(W.modelViewMatrix),Re.onBeforeRender(w,pe,Te,de,W,At),Re.transparent===!0&&Re.side===Ys&&Re.forceSinglePass===!1?(Re.side=Nr,Re.needsUpdate=!0,w.renderBufferDirect(Te,pe,de,Re,W,At),Re.side=To,Re.needsUpdate=!0,w.renderBufferDirect(Te,pe,de,Re,W,At),Re.side=Ys):w.renderBufferDirect(Te,pe,de,Re,W,At),W.onAfterRender(w,pe,Te,de,Re,At)}function Cn(W,pe,Te){pe.isScene!==!0&&(pe=Me);const de=Ee.get(W),Re=y.state.lights,At=y.state.shadowsArray,Mt=Re.state.version,Ft=at.getParameters(W,Re.state,At,pe,Te),Ut=at.getProgramCacheKey(Ft);let Yt=de.programs;de.environment=W.isMeshStandardMaterial?pe.environment:null,de.fog=pe.fog,de.envMap=(W.isMeshStandardMaterial?rt:ze).get(W.envMap||de.environment),Yt===void 0&&(W.addEventListener("dispose",Le),Yt=new Map,de.programs=Yt);let Jt=Yt.get(Ut);if(Jt!==void 0){if(de.currentProgram===Jt&&de.lightsStateVersion===Mt)return Ta(W,Ft),Jt}else Ft.uniforms=at.getUniforms(W),W.onBuild(Te,Ft,w),W.onBeforeCompile(Ft,w),Jt=at.acquireProgram(Ft,Ut),Yt.set(Ut,Jt),de.uniforms=Ft.uniforms;const Xt=de.uniforms;(!W.isShaderMaterial&&!W.isRawShaderMaterial||W.clipping===!0)&&(Xt.clippingPlanes=U.uniform),Ta(W,Ft),de.needsLights=_s(W),de.lightsStateVersion=Mt,de.needsLights&&(Xt.ambientLightColor.value=Re.state.ambient,Xt.lightProbe.value=Re.state.probe,Xt.directionalLights.value=Re.state.directional,Xt.directionalLightShadows.value=Re.state.directionalShadow,Xt.spotLights.value=Re.state.spot,Xt.spotLightShadows.value=Re.state.spotShadow,Xt.rectAreaLights.value=Re.state.rectArea,Xt.ltc_1.value=Re.state.rectAreaLTC1,Xt.ltc_2.value=Re.state.rectAreaLTC2,Xt.pointLights.value=Re.state.point,Xt.pointLightShadows.value=Re.state.pointShadow,Xt.hemisphereLights.value=Re.state.hemi,Xt.directionalShadowMap.value=Re.state.directionalShadowMap,Xt.directionalShadowMatrix.value=Re.state.directionalShadowMatrix,Xt.spotShadowMap.value=Re.state.spotShadowMap,Xt.spotLightMatrix.value=Re.state.spotLightMatrix,Xt.spotLightMap.value=Re.state.spotLightMap,Xt.pointShadowMap.value=Re.state.pointShadowMap,Xt.pointShadowMatrix.value=Re.state.pointShadowMatrix);const En=Jt.getUniforms(),Ai=Fg.seqWithValue(En.seq,Xt);return de.currentProgram=Jt,de.uniformsList=Ai,Jt}function Ta(W,pe){const Te=Ee.get(W);Te.outputEncoding=pe.outputEncoding,Te.instancing=pe.instancing,Te.skinning=pe.skinning,Te.morphTargets=pe.morphTargets,Te.morphNormals=pe.morphNormals,Te.morphColors=pe.morphColors,Te.morphTargetsCount=pe.morphTargetsCount,Te.numClippingPlanes=pe.numClippingPlanes,Te.numIntersection=pe.numClipIntersection,Te.vertexAlphas=pe.vertexAlphas,Te.vertexTangents=pe.vertexTangents,Te.toneMapping=pe.toneMapping}function Bo(W,pe,Te,de,Re){pe.isScene!==!0&&(pe=Me),we.resetTextureUnits();const At=pe.fog,Mt=de.isMeshStandardMaterial?pe.environment:null,Ft=T===null?w.outputEncoding:T.isXRRenderTarget===!0?T.texture.encoding:bl,Ut=(de.isMeshStandardMaterial?rt:ze).get(de.envMap||Mt),Yt=de.vertexColors===!0&&!!Te.attributes.color&&Te.attributes.color.itemSize===4,Jt=!!de.normalMap&&!!Te.attributes.tangent,Xt=!!Te.morphAttributes.position,En=!!Te.morphAttributes.normal,Ai=!!Te.morphAttributes.color,Or=de.toneMapped?w.toneMapping:qs,As=Te.morphAttributes.position||Te.morphAttributes.normal||Te.morphAttributes.color,It=As!==void 0?As.length:0,zt=Ee.get(de),ws=y.state.lights;if(V===!0&&(re===!0||W!==I)){const an=W===I&&de.id===R;U.setState(de,W,an)}let Tn=!1;de.version===zt.__version?(zt.needsLights&&zt.lightsStateVersion!==ws.state.version||zt.outputEncoding!==Ft||Re.isInstancedMesh&&zt.instancing===!1||!Re.isInstancedMesh&&zt.instancing===!0||Re.isSkinnedMesh&&zt.skinning===!1||!Re.isSkinnedMesh&&zt.skinning===!0||zt.envMap!==Ut||de.fog===!0&&zt.fog!==At||zt.numClippingPlanes!==void 0&&(zt.numClippingPlanes!==U.numPlanes||zt.numIntersection!==U.numIntersection)||zt.vertexAlphas!==Yt||zt.vertexTangents!==Jt||zt.morphTargets!==Xt||zt.morphNormals!==En||zt.morphColors!==Ai||zt.toneMapping!==Or||Qe.isWebGL2===!0&&zt.morphTargetsCount!==It)&&(Tn=!0):(Tn=!0,zt.__version=de.version);let yr=zt.currentProgram;Tn===!0&&(yr=Cn(de,pe,Re));let ba=!1,tr=!1,Pi=!1;const Ct=yr.getUniforms(),Zt=zt.uniforms;if(Oe.useProgram(yr.program)&&(ba=!0,tr=!0,Pi=!0),de.id!==R&&(R=de.id,tr=!0),ba||I!==W){if(Ct.setValue(le,"projectionMatrix",W.projectionMatrix),Qe.logarithmicDepthBuffer&&Ct.setValue(le,"logDepthBufFC",2/(Math.log(W.far+1)/Math.LN2)),I!==W&&(I=W,tr=!0,Pi=!0),de.isShaderMaterial||de.isMeshPhongMaterial||de.isMeshToonMaterial||de.isMeshStandardMaterial||de.envMap){const an=Ct.map.cameraPosition;an!==void 0&&an.setValue(le,ae.setFromMatrixPosition(W.matrixWorld))}(de.isMeshPhongMaterial||de.isMeshToonMaterial||de.isMeshLambertMaterial||de.isMeshBasicMaterial||de.isMeshStandardMaterial||de.isShaderMaterial)&&Ct.setValue(le,"isOrthographic",W.isOrthographicCamera===!0),(de.isMeshPhongMaterial||de.isMeshToonMaterial||de.isMeshLambertMaterial||de.isMeshBasicMaterial||de.isMeshStandardMaterial||de.isShaderMaterial||de.isShadowMaterial||Re.isSkinnedMesh)&&Ct.setValue(le,"viewMatrix",W.matrixWorldInverse)}if(Re.isSkinnedMesh){Ct.setOptional(le,Re,"bindMatrix"),Ct.setOptional(le,Re,"bindMatrixInverse");const an=Re.skeleton;an&&(Qe.floatVertexTextures?(an.boneTexture===null&&an.computeBoneTexture(),Ct.setValue(le,"boneTexture",an.boneTexture,we),Ct.setValue(le,"boneTextureSize",an.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Rn=Te.morphAttributes;if((Rn.position!==void 0||Rn.normal!==void 0||Rn.color!==void 0&&Qe.isWebGL2===!0)&&He.update(Re,Te,de,yr),(tr||zt.receiveShadow!==Re.receiveShadow)&&(zt.receiveShadow=Re.receiveShadow,Ct.setValue(le,"receiveShadow",Re.receiveShadow)),de.isMeshGouraudMaterial&&de.envMap!==null&&(Zt.envMap.value=Ut,Zt.flipEnvMap.value=Ut.isCubeTexture&&Ut.isRenderTargetTexture===!1?-1:1),tr&&(Ct.setValue(le,"toneMappingExposure",w.toneMappingExposure),zt.needsLights&&pc(Zt,Pi),At&&de.fog===!0&&kt.refreshFogUniforms(Zt,At),kt.refreshMaterialUniforms(Zt,de,Y,G,k),Fg.upload(le,zt.uniformsList,Zt,we)),de.isShaderMaterial&&de.uniformsNeedUpdate===!0&&(Fg.upload(le,zt.uniformsList,Zt,we),de.uniformsNeedUpdate=!1),de.isSpriteMaterial&&Ct.setValue(le,"center",Re.center),Ct.setValue(le,"modelViewMatrix",Re.modelViewMatrix),Ct.setValue(le,"normalMatrix",Re.normalMatrix),Ct.setValue(le,"modelMatrix",Re.matrixWorld),de.isShaderMaterial||de.isRawShaderMaterial){const an=de.uniformsGroups;for(let $n=0,Ss=an.length;$n<Ss;$n++)if(Qe.isWebGL2){const vr=an[$n];ct.update(vr,yr),ct.bind(vr,yr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return yr}function pc(W,pe){W.ambientLightColor.needsUpdate=pe,W.lightProbe.needsUpdate=pe,W.directionalLights.needsUpdate=pe,W.directionalLightShadows.needsUpdate=pe,W.pointLights.needsUpdate=pe,W.pointLightShadows.needsUpdate=pe,W.spotLights.needsUpdate=pe,W.spotLightShadows.needsUpdate=pe,W.rectAreaLights.needsUpdate=pe,W.hemisphereLights.needsUpdate=pe}function _s(W){return W.isMeshLambertMaterial||W.isMeshToonMaterial||W.isMeshPhongMaterial||W.isMeshStandardMaterial||W.isShadowMaterial||W.isShaderMaterial&&W.lights===!0}this.getActiveCubeFace=function(){return E},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(W,pe,Te){Ee.get(W.texture).__webglTexture=pe,Ee.get(W.depthTexture).__webglTexture=Te;const de=Ee.get(W);de.__hasExternalTextures=!0,de.__hasExternalTextures&&(de.__autoAllocateDepthBuffer=Te===void 0,de.__autoAllocateDepthBuffer||Ne.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),de.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(W,pe){const Te=Ee.get(W);Te.__webglFramebuffer=pe,Te.__useDefaultFramebuffer=pe===void 0},this.setRenderTarget=function(W,pe=0,Te=0){T=W,E=pe,b=Te;let de=!0,Re=null,At=!1,Mt=!1;if(W){const Ut=Ee.get(W);Ut.__useDefaultFramebuffer!==void 0?(Oe.bindFramebuffer(36160,null),de=!1):Ut.__webglFramebuffer===void 0?we.setupRenderTarget(W):Ut.__hasExternalTextures&&we.rebindTextures(W,Ee.get(W.texture).__webglTexture,Ee.get(W.depthTexture).__webglTexture);const Yt=W.texture;(Yt.isData3DTexture||Yt.isDataArrayTexture||Yt.isCompressedArrayTexture)&&(Mt=!0);const Jt=Ee.get(W).__webglFramebuffer;W.isWebGLCubeRenderTarget?(Re=Jt[pe],At=!0):Qe.isWebGL2&&W.samples>0&&we.useMultisampledRTT(W)===!1?Re=Ee.get(W).__webglMultisampledFramebuffer:Re=Jt,F.copy(W.viewport),z.copy(W.scissor),D=W.scissorTest}else F.copy($).multiplyScalar(Y).floor(),z.copy(ce).multiplyScalar(Y).floor(),D=ge;if(Oe.bindFramebuffer(36160,Re)&&Qe.drawBuffers&&de&&Oe.drawBuffers(W,Re),Oe.viewport(F),Oe.scissor(z),Oe.setScissorTest(D),At){const Ut=Ee.get(W.texture);le.framebufferTexture2D(36160,36064,34069+pe,Ut.__webglTexture,Te)}else if(Mt){const Ut=Ee.get(W.texture),Yt=pe||0;le.framebufferTextureLayer(36160,36064,Ut.__webglTexture,Te||0,Yt)}R=-1},this.readRenderTargetPixels=function(W,pe,Te,de,Re,At,Mt){if(!(W&&W.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ft=Ee.get(W).__webglFramebuffer;if(W.isWebGLCubeRenderTarget&&Mt!==void 0&&(Ft=Ft[Mt]),Ft){Oe.bindFramebuffer(36160,Ft);try{const Ut=W.texture,Yt=Ut.format,Jt=Ut.type;if(Yt!==Fr&&Ze.convert(Yt)!==le.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Xt=Jt===eh&&(Ne.has("EXT_color_buffer_half_float")||Qe.isWebGL2&&Ne.has("EXT_color_buffer_float"));if(Jt!==wa&&Ze.convert(Jt)!==le.getParameter(35738)&&!(Jt===pa&&(Qe.isWebGL2||Ne.has("OES_texture_float")||Ne.has("WEBGL_color_buffer_float")))&&!Xt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}pe>=0&&pe<=W.width-de&&Te>=0&&Te<=W.height-Re&&le.readPixels(pe,Te,de,Re,Ze.convert(Yt),Ze.convert(Jt),At)}finally{const Ut=T!==null?Ee.get(T).__webglFramebuffer:null;Oe.bindFramebuffer(36160,Ut)}}},this.copyFramebufferToTexture=function(W,pe,Te=0){const de=Math.pow(2,-Te),Re=Math.floor(pe.image.width*de),At=Math.floor(pe.image.height*de);we.setTexture2D(pe,0),le.copyTexSubImage2D(3553,Te,0,0,W.x,W.y,Re,At),Oe.unbindTexture()},this.copyTextureToTexture=function(W,pe,Te,de=0){const Re=pe.image.width,At=pe.image.height,Mt=Ze.convert(Te.format),Ft=Ze.convert(Te.type);we.setTexture2D(Te,0),le.pixelStorei(37440,Te.flipY),le.pixelStorei(37441,Te.premultiplyAlpha),le.pixelStorei(3317,Te.unpackAlignment),pe.isDataTexture?le.texSubImage2D(3553,de,W.x,W.y,Re,At,Mt,Ft,pe.image.data):pe.isCompressedTexture?le.compressedTexSubImage2D(3553,de,W.x,W.y,pe.mipmaps[0].width,pe.mipmaps[0].height,Mt,pe.mipmaps[0].data):le.texSubImage2D(3553,de,W.x,W.y,Mt,Ft,pe.image),de===0&&Te.generateMipmaps&&le.generateMipmap(3553),Oe.unbindTexture()},this.copyTextureToTexture3D=function(W,pe,Te,de,Re=0){if(w.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const At=W.max.x-W.min.x+1,Mt=W.max.y-W.min.y+1,Ft=W.max.z-W.min.z+1,Ut=Ze.convert(de.format),Yt=Ze.convert(de.type);let Jt;if(de.isData3DTexture)we.setTexture3D(de,0),Jt=32879;else if(de.isDataArrayTexture)we.setTexture2DArray(de,0),Jt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}le.pixelStorei(37440,de.flipY),le.pixelStorei(37441,de.premultiplyAlpha),le.pixelStorei(3317,de.unpackAlignment);const Xt=le.getParameter(3314),En=le.getParameter(32878),Ai=le.getParameter(3316),Or=le.getParameter(3315),As=le.getParameter(32877),It=Te.isCompressedTexture?Te.mipmaps[0]:Te.image;le.pixelStorei(3314,It.width),le.pixelStorei(32878,It.height),le.pixelStorei(3316,W.min.x),le.pixelStorei(3315,W.min.y),le.pixelStorei(32877,W.min.z),Te.isDataTexture||Te.isData3DTexture?le.texSubImage3D(Jt,Re,pe.x,pe.y,pe.z,At,Mt,Ft,Ut,Yt,It.data):Te.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),le.compressedTexSubImage3D(Jt,Re,pe.x,pe.y,pe.z,At,Mt,Ft,Ut,It.data)):le.texSubImage3D(Jt,Re,pe.x,pe.y,pe.z,At,Mt,Ft,Ut,Yt,It),le.pixelStorei(3314,Xt),le.pixelStorei(32878,En),le.pixelStorei(3316,Ai),le.pixelStorei(3315,Or),le.pixelStorei(32877,As),Re===0&&de.generateMipmaps&&le.generateMipmap(Jt),Oe.unbindTexture()},this.initTexture=function(W){W.isCubeTexture?we.setTextureCube(W,0):W.isData3DTexture?we.setTexture3D(W,0):W.isDataArrayTexture||W.isCompressedArrayTexture?we.setTexture2DArray(W,0):we.setTexture2D(W,0),Oe.unbindTexture()},this.resetState=function(){E=0,b=0,T=null,Oe.reset(),be.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class KC extends r_{}KC.prototype.isWebGL1Renderer=!0;class h0{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new et(e),this.density=t}clone(){return new h0(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class d0{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new et(e),this.near=t,this.far=n}clone(){return new d0(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class s_ extends sn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class fp{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Xd,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Zr()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Zr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Zr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const cr=new H;class Pl{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)cr.fromBufferAttribute(this,t),cr.applyMatrix4(e),this.setXYZ(t,cr.x,cr.y,cr.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)cr.fromBufferAttribute(this,t),cr.applyNormalMatrix(e),this.setXYZ(t,cr.x,cr.y,cr.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)cr.fromBufferAttribute(this,t),cr.transformDirection(e),this.setXYZ(t,cr.x,cr.y,cr.z);return this}setX(e,t){return this.normalized&&(t=_n(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=_n(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=_n(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=_n(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ma(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ma(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ma(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ma(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=_n(t,this.array),n=_n(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=_n(t,this.array),n=_n(n,this.array),r=_n(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=_n(t,this.array),n=_n(n,this.array),r=_n(r,this.array),s=_n(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new cn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Pl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class o_ extends vi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new et(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let If;const md=new H,Df=new H,Ff=new H,Nf=new Be,gd=new Be,YC=new Lt,qm=new H,yd=new H,Zm=new H,FA=new Be,Ny=new Be,NA=new Be;class QC extends sn{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",If===void 0){If=new Vt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new fp(t,5);If.setIndex([0,1,2,0,2,3]),If.setAttribute("position",new Pl(n,3,0,!1)),If.setAttribute("uv",new Pl(n,2,3,!1))}this.geometry=If,this.material=e!==void 0?e:new o_,this.center=new Be(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Df.setFromMatrixScale(this.matrixWorld),YC.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Ff.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Df.multiplyScalar(-Ff.z);const n=this.material.rotation;let r,s;n!==0&&(s=Math.cos(n),r=Math.sin(n));const a=this.center;$m(qm.set(-.5,-.5,0),Ff,a,Df,r,s),$m(yd.set(.5,-.5,0),Ff,a,Df,r,s),$m(Zm.set(.5,.5,0),Ff,a,Df,r,s),FA.set(0,0),Ny.set(1,0),NA.set(1,1);let l=e.ray.intersectTriangle(qm,yd,Zm,!1,md);if(l===null&&($m(yd.set(-.5,.5,0),Ff,a,Df,r,s),Ny.set(0,1),l=e.ray.intersectTriangle(qm,Zm,yd,!1,md),l===null))return;const f=e.ray.origin.distanceTo(md);f<e.near||f>e.far||t.push({distance:f,point:md.clone(),uv:vs.getUV(md,qm,yd,Zm,FA,Ny,NA,new Be),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function $m(i,e,t,n,r,s){Nf.subVectors(i,t).addScalar(.5).multiply(n),r!==void 0?(gd.x=s*Nf.x-r*Nf.y,gd.y=r*Nf.x+s*Nf.y):gd.copy(Nf),i.copy(e),i.x+=gd.x,i.y+=gd.y,i.applyMatrix4(YC)}const eg=new H,kA=new H;class qC extends sn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const s=t[n];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let s=t[n].distance;if(t[n].object.visible&&(s-=s*t[n].hysteresis),e<s)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){eg.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(eg);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){eg.setFromMatrixPosition(e.matrixWorld),kA.setFromMatrixPosition(this.matrixWorld);const n=eg.distanceTo(kA)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),n>=a)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,s=n.length;r<s;r++){const a=n[r];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const OA=new H,UA=new pn,zA=new pn,CI=new H,GA=new Lt;class a_ extends Ti{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Lt,this.bindMatrixInverse=new Lt}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new pn,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const n=this.skeleton,r=this.geometry;UA.fromBufferAttribute(r.attributes.skinIndex,e),zA.fromBufferAttribute(r.attributes.skinWeight,e),OA.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const a=zA.getComponent(s);if(a!==0){const l=UA.getComponent(s);GA.multiplyMatrices(n.bones[l].matrixWorld,n.boneInverses[l]),t.addScaledVector(CI.copy(OA).applyMatrix4(GA),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class p0 extends sn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Qf extends Gn{constructor(e=null,t=1,n=1,r,s,a,l,f,d=jn,p=jn,g,y){super(null,a,l,f,d,p,r,s,g,y),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const HA=new Lt,EI=new Lt;class hp{constructor(e=[],t=[]){this.uuid=Zr(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Lt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new Lt;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const l=e[s]?e[s].matrixWorld:EI;HA.multiplyMatrices(l,t[s]),HA.toArray(n,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new hp(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=DC(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new Qf(t,e,e,Fr,pa);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const s=e.bones[n];let a=t[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new p0),this.bones.push(a),this.boneInverses.push(new Lt().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const a=t[r];e.bones.push(a.uuid);const l=n[r];e.boneInverses.push(l.toArray())}return e}}class rc extends cn{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const VA=new Lt,WA=new Lt,tg=[],TI=new Lt,vd=new Ti;class l_ extends Ti{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new rc(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1;for(let r=0;r<n;r++)this.setMatrixAt(r,TI)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const n=this.matrixWorld,r=this.count;if(vd.geometry=this.geometry,vd.material=this.material,vd.material!==void 0)for(let s=0;s<r;s++){this.getMatrixAt(s,VA),WA.multiplyMatrices(n,VA),vd.matrixWorld=WA,vd.raycast(e,tg);for(let a=0,l=tg.length;a<l;a++){const f=tg[a];f.instanceId=s,f.object=this,t.push(f)}tg.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new rc(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class er extends vi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new et(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const jA=new H,JA=new H,XA=new Lt,ky=new hh,ng=new Fl;class Sa extends sn{constructor(e=new Vt,t=new er){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let r=1,s=t.count;r<s;r++)jA.fromBufferAttribute(t,r-1),JA.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=jA.distanceTo(JA);e.setAttribute("lineDistance",new pt(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,a=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),ng.copy(n.boundingSphere),ng.applyMatrix4(r),ng.radius+=s,e.ray.intersectsSphere(ng)===!1)return;XA.copy(r).invert(),ky.copy(e.ray).applyMatrix4(XA);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),f=l*l,d=new H,p=new H,g=new H,y=new H,x=this.isLineSegments?2:1,A=n.index,S=n.attributes.position;if(A!==null){const E=Math.max(0,a.start),b=Math.min(A.count,a.start+a.count);for(let T=E,R=b-1;T<R;T+=x){const I=A.getX(T),F=A.getX(T+1);if(d.fromBufferAttribute(S,I),p.fromBufferAttribute(S,F),ky.distanceSqToSegment(d,p,y,g)>f)continue;y.applyMatrix4(this.matrixWorld);const D=e.ray.origin.distanceTo(y);D<e.near||D>e.far||t.push({distance:D,point:g.clone().applyMatrix4(this.matrixWorld),index:T,face:null,faceIndex:null,object:this})}}else{const E=Math.max(0,a.start),b=Math.min(S.count,a.start+a.count);for(let T=E,R=b-1;T<R;T+=x){if(d.fromBufferAttribute(S,T),p.fromBufferAttribute(S,T+1),ky.distanceSqToSegment(d,p,y,g)>f)continue;y.applyMatrix4(this.matrixWorld);const F=e.ray.origin.distanceTo(y);F<e.near||F>e.far||t.push({distance:F,point:g.clone().applyMatrix4(this.matrixWorld),index:T,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const l=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}const KA=new H,YA=new H;class to extends Sa{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let r=0,s=t.count;r<s;r+=2)KA.fromBufferAttribute(t,r),YA.fromBufferAttribute(t,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+KA.distanceTo(YA);e.setAttribute("lineDistance",new pt(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class u_ extends Sa{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class dp extends vi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new et(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const QA=new Lt,lx=new hh,ig=new Fl,rg=new H;let c_=class extends sn{constructor(e=new Vt,t=new dp){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,a=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),ig.copy(n.boundingSphere),ig.applyMatrix4(r),ig.radius+=s,e.ray.intersectsSphere(ig)===!1)return;QA.copy(r).invert(),lx.copy(e.ray).applyMatrix4(QA);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),f=l*l,d=n.index,g=n.attributes.position;if(d!==null){const y=Math.max(0,a.start),x=Math.min(d.count,a.start+a.count);for(let A=y,w=x;A<w;A++){const S=d.getX(A);rg.fromBufferAttribute(g,S),qA(rg,S,f,r,e,t,this)}}else{const y=Math.max(0,a.start),x=Math.min(g.count,a.start+a.count);for(let A=y,w=x;A<w;A++)rg.fromBufferAttribute(g,A),qA(rg,A,f,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const l=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}};function qA(i,e,t,n,r,s,a){const l=lx.distanceSqToPoint(i);if(l<t){const f=new H;lx.closestPointToPoint(i,f),f.applyMatrix4(n);const d=r.ray.origin.distanceTo(f);if(d<r.near||d>r.far)return;s.push({distance:d,distanceToRay:Math.sqrt(l),point:f,index:e,face:null,object:a})}}class bI extends Gn{constructor(e,t,n,r,s,a,l,f,d){super(e,t,n,r,s,a,l,f,d),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:On,this.magFilter=s!==void 0?s:On,this.generateMipmaps=!1;const p=this;function g(){p.needsUpdate=!0,e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(g)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class PI extends Gn{constructor(e,t,n){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=n,this.magFilter=jn,this.minFilter=jn,this.generateMipmaps=!1,this.needsUpdate=!0}}class f_ extends Gn{constructor(e,t,n,r,s,a,l,f,d,p,g,y){super(null,a,l,f,d,p,r,s,g,y),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class BI extends f_{constructor(e,t,n,r,s,a){super(e,t,n,s,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Hi}}class RI extends Gn{constructor(e,t,n,r,s,a,l,f,d){super(e,t,n,r,s,a,l,f,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class no{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),s=0;t.push(0);for(let a=1;a<=e;a++)n=this.getPoint(a/e),s+=n.distanceTo(r),t.push(s),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const s=n.length;let a;t?a=t:a=e*n[s-1];let l=0,f=s-1,d;for(;l<=f;)if(r=Math.floor(l+(f-l)/2),d=n[r]-a,d<0)l=r+1;else if(d>0)f=r-1;else{f=r;break}if(r=f,n[r]===a)return r/(s-1);const p=n[r],y=n[r+1]-p,x=(a-p)/y;return(r+x)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const a=this.getPoint(r),l=this.getPoint(s),f=t||(a.isVector2?new Be:new H);return f.copy(l).sub(a).normalize(),f}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new H,r=[],s=[],a=[],l=new H,f=new Lt;for(let x=0;x<=e;x++){const A=x/e;r[x]=this.getTangentAt(A,new H)}s[0]=new H,a[0]=new H;let d=Number.MAX_VALUE;const p=Math.abs(r[0].x),g=Math.abs(r[0].y),y=Math.abs(r[0].z);p<=d&&(d=p,n.set(1,0,0)),g<=d&&(d=g,n.set(0,1,0)),y<=d&&n.set(0,0,1),l.crossVectors(r[0],n).normalize(),s[0].crossVectors(r[0],l),a[0].crossVectors(r[0],s[0]);for(let x=1;x<=e;x++){if(s[x]=s[x-1].clone(),a[x]=a[x-1].clone(),l.crossVectors(r[x-1],r[x]),l.length()>Number.EPSILON){l.normalize();const A=Math.acos(Zn(r[x-1].dot(r[x]),-1,1));s[x].applyMatrix4(f.makeRotationAxis(l,A))}a[x].crossVectors(r[x],s[x])}if(t===!0){let x=Math.acos(Zn(s[0].dot(s[e]),-1,1));x/=e,r[0].dot(l.crossVectors(s[0],s[e]))>0&&(x=-x);for(let A=1;A<=e;A++)s[A].applyMatrix4(f.makeRotationAxis(r[A],x*A)),a[A].crossVectors(r[A],s[A])}return{tangents:r,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class m0 extends no{constructor(e=0,t=0,n=1,r=1,s=0,a=Math.PI*2,l=!1,f=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=l,this.aRotation=f}getPoint(e,t){const n=t||new Be,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(a?s=0:s=r),this.aClockwise===!0&&!a&&(s===r?s=-r:s=s-r);const l=this.aStartAngle+e*s;let f=this.aX+this.xRadius*Math.cos(l),d=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const p=Math.cos(this.aRotation),g=Math.sin(this.aRotation),y=f-this.aX,x=d-this.aY;f=y*p-x*g+this.aX,d=y*g+x*p+this.aY}return n.set(f,d)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class ZC extends m0{constructor(e,t,n,r,s,a){super(e,t,n,n,r,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function h_(){let i=0,e=0,t=0,n=0;function r(s,a,l,f){i=s,e=l,t=-3*s+3*a-2*l-f,n=2*s-2*a+l+f}return{initCatmullRom:function(s,a,l,f,d){r(a,l,d*(l-s),d*(f-a))},initNonuniformCatmullRom:function(s,a,l,f,d,p,g){let y=(a-s)/d-(l-s)/(d+p)+(l-a)/p,x=(l-a)/p-(f-a)/(p+g)+(f-l)/g;y*=p,x*=p,r(a,l,y,x)},calc:function(s){const a=s*s,l=a*s;return i+e*s+t*a+n*l}}}const sg=new H,Oy=new h_,Uy=new h_,zy=new h_;class $C extends no{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new H){const n=t,r=this.points,s=r.length,a=(s-(this.closed?0:1))*e;let l=Math.floor(a),f=a-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/s)+1)*s:f===0&&l===s-1&&(l=s-2,f=1);let d,p;this.closed||l>0?d=r[(l-1)%s]:(sg.subVectors(r[0],r[1]).add(r[0]),d=sg);const g=r[l%s],y=r[(l+1)%s];if(this.closed||l+2<s?p=r[(l+2)%s]:(sg.subVectors(r[s-1],r[s-2]).add(r[s-1]),p=sg),this.curveType==="centripetal"||this.curveType==="chordal"){const x=this.curveType==="chordal"?.5:.25;let A=Math.pow(d.distanceToSquared(g),x),w=Math.pow(g.distanceToSquared(y),x),S=Math.pow(y.distanceToSquared(p),x);w<1e-4&&(w=1),A<1e-4&&(A=w),S<1e-4&&(S=w),Oy.initNonuniformCatmullRom(d.x,g.x,y.x,p.x,A,w,S),Uy.initNonuniformCatmullRom(d.y,g.y,y.y,p.y,A,w,S),zy.initNonuniformCatmullRom(d.z,g.z,y.z,p.z,A,w,S)}else this.curveType==="catmullrom"&&(Oy.initCatmullRom(d.x,g.x,y.x,p.x,this.tension),Uy.initCatmullRom(d.y,g.y,y.y,p.y,this.tension),zy.initCatmullRom(d.z,g.z,y.z,p.z,this.tension));return n.set(Oy.calc(f),Uy.calc(f),zy.calc(f)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new H().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function ZA(i,e,t,n,r){const s=(n-e)*.5,a=(r-t)*.5,l=i*i,f=i*l;return(2*t-2*n+s+a)*f+(-3*t+3*n-2*s-a)*l+s*i+t}function LI(i,e){const t=1-i;return t*t*e}function II(i,e){return 2*(1-i)*i*e}function DI(i,e){return i*i*e}function Id(i,e,t,n){return LI(i,e)+II(i,t)+DI(i,n)}function FI(i,e){const t=1-i;return t*t*t*e}function NI(i,e){const t=1-i;return 3*t*t*i*e}function kI(i,e){return 3*(1-i)*i*i*e}function OI(i,e){return i*i*i*e}function Dd(i,e,t,n,r){return FI(i,e)+NI(i,t)+kI(i,n)+OI(i,r)}class d_ extends no{constructor(e=new Be,t=new Be,n=new Be,r=new Be){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new Be){const n=t,r=this.v0,s=this.v1,a=this.v2,l=this.v3;return n.set(Dd(e,r.x,s.x,a.x,l.x),Dd(e,r.y,s.y,a.y,l.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class eE extends no{constructor(e=new H,t=new H,n=new H,r=new H){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new H){const n=t,r=this.v0,s=this.v1,a=this.v2,l=this.v3;return n.set(Dd(e,r.x,s.x,a.x,l.x),Dd(e,r.y,s.y,a.y,l.y),Dd(e,r.z,s.z,a.z,l.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class g0 extends no{constructor(e=new Be,t=new Be){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Be){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const n=t||new Be;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class tE extends no{constructor(e=new H,t=new H){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new H){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class p_ extends no{constructor(e=new Be,t=new Be,n=new Be){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Be){const n=t,r=this.v0,s=this.v1,a=this.v2;return n.set(Id(e,r.x,s.x,a.x),Id(e,r.y,s.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class m_ extends no{constructor(e=new H,t=new H,n=new H){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new H){const n=t,r=this.v0,s=this.v1,a=this.v2;return n.set(Id(e,r.x,s.x,a.x),Id(e,r.y,s.y,a.y),Id(e,r.z,s.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class g_ extends no{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Be){const n=t,r=this.points,s=(r.length-1)*e,a=Math.floor(s),l=s-a,f=r[a===0?a:a-1],d=r[a],p=r[a>r.length-2?r.length-1:a+1],g=r[a>r.length-3?r.length-1:a+2];return n.set(ZA(l,f.x,d.x,p.x,g.x),ZA(l,f.y,d.y,p.y,g.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new Be().fromArray(r))}return this}}var y_=Object.freeze({__proto__:null,ArcCurve:ZC,CatmullRomCurve3:$C,CubicBezierCurve:d_,CubicBezierCurve3:eE,EllipseCurve:m0,LineCurve:g0,LineCurve3:tE,QuadraticBezierCurve:p_,QuadraticBezierCurve3:m_,SplineCurve:g_});class nE extends no{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new g0(t,e))}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=n){const a=r[s]-n,l=this.curves[s],f=l.getLength(),d=f===0?0:1-a/f;return l.getPointAt(d,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,s=this.curves;r<s.length;r++){const a=s[r],l=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,f=a.getPoints(l);for(let d=0;d<f.length;d++){const p=f[d];n&&n.equals(p)||(t.push(p),n=p)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(new y_[r.type]().fromJSON(r))}return this}}class Qd extends nE{constructor(e){super(),this.type="Path",this.currentPoint=new Be,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new g0(this.currentPoint.clone(),new Be(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const s=new p_(this.currentPoint.clone(),new Be(e,t),new Be(n,r));return this.curves.push(s),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,s,a){const l=new d_(this.currentPoint.clone(),new Be(e,t),new Be(n,r),new Be(s,a));return this.curves.push(l),this.currentPoint.set(s,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new g_(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,s,a){const l=this.currentPoint.x,f=this.currentPoint.y;return this.absarc(e+l,t+f,n,r,s,a),this}absarc(e,t,n,r,s,a){return this.absellipse(e,t,n,n,r,s,a),this}ellipse(e,t,n,r,s,a,l,f){const d=this.currentPoint.x,p=this.currentPoint.y;return this.absellipse(e+d,t+p,n,r,s,a,l,f),this}absellipse(e,t,n,r,s,a,l,f){const d=new m0(e,t,n,r,s,a,l,f);if(this.curves.length>0){const g=d.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(d);const p=d.getPoint(1);return this.currentPoint.copy(p),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class mh extends Vt{constructor(e=[new Be(0,-.5),new Be(.5,0),new Be(0,.5)],t=12,n=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=Zn(r,0,Math.PI*2);const s=[],a=[],l=[],f=[],d=[],p=1/t,g=new H,y=new Be,x=new H,A=new H,w=new H;let S=0,E=0;for(let b=0;b<=e.length-1;b++)switch(b){case 0:S=e[b+1].x-e[b].x,E=e[b+1].y-e[b].y,x.x=E*1,x.y=-S,x.z=E*0,w.copy(x),x.normalize(),f.push(x.x,x.y,x.z);break;case e.length-1:f.push(w.x,w.y,w.z);break;default:S=e[b+1].x-e[b].x,E=e[b+1].y-e[b].y,x.x=E*1,x.y=-S,x.z=E*0,A.copy(x),x.x+=w.x,x.y+=w.y,x.z+=w.z,x.normalize(),f.push(x.x,x.y,x.z),w.copy(A)}for(let b=0;b<=t;b++){const T=n+b*p*r,R=Math.sin(T),I=Math.cos(T);for(let F=0;F<=e.length-1;F++){g.x=e[F].x*R,g.y=e[F].y,g.z=e[F].x*I,a.push(g.x,g.y,g.z),y.x=b/t,y.y=F/(e.length-1),l.push(y.x,y.y);const z=f[3*F+0]*R,D=f[3*F+1],O=f[3*F+0]*I;d.push(z,D,O)}}for(let b=0;b<t;b++)for(let T=0;T<e.length-1;T++){const R=T+b*e.length,I=R,F=R+e.length,z=R+e.length+1,D=R+1;s.push(I,F,D),s.push(z,D,F)}this.setIndex(s),this.setAttribute("position",new pt(a,3)),this.setAttribute("uv",new pt(l,2)),this.setAttribute("normal",new pt(d,3))}static fromJSON(e){return new mh(e.points,e.segments,e.phiStart,e.phiLength)}}class pp extends mh{constructor(e=1,t=1,n=4,r=8){const s=new Qd;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new pp(e.radius,e.length,e.capSegments,e.radialSegments)}}class mp extends Vt{constructor(e=1,t=32,n=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const s=[],a=[],l=[],f=[],d=new H,p=new Be;a.push(0,0,0),l.push(0,0,1),f.push(.5,.5);for(let g=0,y=3;g<=t;g++,y+=3){const x=n+g/t*r;d.x=e*Math.cos(x),d.y=e*Math.sin(x),a.push(d.x,d.y,d.z),l.push(0,0,1),p.x=(a[y]/e+1)/2,p.y=(a[y+1]/e+1)/2,f.push(p.x,p.y)}for(let g=1;g<=t;g++)s.push(g,g+1,0);this.setIndex(s),this.setAttribute("position",new pt(a,3)),this.setAttribute("normal",new pt(l,3)),this.setAttribute("uv",new pt(f,2))}static fromJSON(e){return new mp(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class uc extends Vt{constructor(e=1,t=1,n=1,r=32,s=1,a=!1,l=0,f=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:s,openEnded:a,thetaStart:l,thetaLength:f};const d=this;r=Math.floor(r),s=Math.floor(s);const p=[],g=[],y=[],x=[];let A=0;const w=[],S=n/2;let E=0;b(),a===!1&&(e>0&&T(!0),t>0&&T(!1)),this.setIndex(p),this.setAttribute("position",new pt(g,3)),this.setAttribute("normal",new pt(y,3)),this.setAttribute("uv",new pt(x,2));function b(){const R=new H,I=new H;let F=0;const z=(t-e)/n;for(let D=0;D<=s;D++){const O=[],G=D/s,Y=G*(t-e)+e;for(let he=0;he<=r;he++){const ie=he/r,$=ie*f+l,ce=Math.sin($),ge=Math.cos($);I.x=Y*ce,I.y=-G*n+S,I.z=Y*ge,g.push(I.x,I.y,I.z),R.set(ce,z,ge).normalize(),y.push(R.x,R.y,R.z),x.push(ie,1-G),O.push(A++)}w.push(O)}for(let D=0;D<r;D++)for(let O=0;O<s;O++){const G=w[O][D],Y=w[O+1][D],he=w[O+1][D+1],ie=w[O][D+1];p.push(G,Y,ie),p.push(Y,he,ie),F+=6}d.addGroup(E,F,0),E+=F}function T(R){const I=A,F=new Be,z=new H;let D=0;const O=R===!0?e:t,G=R===!0?1:-1;for(let he=1;he<=r;he++)g.push(0,S*G,0),y.push(0,G,0),x.push(.5,.5),A++;const Y=A;for(let he=0;he<=r;he++){const $=he/r*f+l,ce=Math.cos($),ge=Math.sin($);z.x=O*ge,z.y=S*G,z.z=O*ce,g.push(z.x,z.y,z.z),y.push(0,G,0),F.x=ce*.5+.5,F.y=ge*.5*G+.5,x.push(F.x,F.y),A++}for(let he=0;he<r;he++){const ie=I+he,$=Y+he;R===!0?p.push($,$+1,ie):p.push($+1,$,ie),D+=3}d.addGroup(E,D,R===!0?1:2),E+=D}}static fromJSON(e){return new uc(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class gp extends uc{constructor(e=1,t=1,n=32,r=1,s=!1,a=0,l=Math.PI*2){super(0,e,t,n,r,s,a,l),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:l}}static fromJSON(e){return new gp(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ea extends Vt{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const s=[],a=[];l(r),d(n),p(),this.setAttribute("position",new pt(s,3)),this.setAttribute("normal",new pt(s.slice(),3)),this.setAttribute("uv",new pt(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function l(b){const T=new H,R=new H,I=new H;for(let F=0;F<t.length;F+=3)x(t[F+0],T),x(t[F+1],R),x(t[F+2],I),f(T,R,I,b)}function f(b,T,R,I){const F=I+1,z=[];for(let D=0;D<=F;D++){z[D]=[];const O=b.clone().lerp(R,D/F),G=T.clone().lerp(R,D/F),Y=F-D;for(let he=0;he<=Y;he++)he===0&&D===F?z[D][he]=O:z[D][he]=O.clone().lerp(G,he/Y)}for(let D=0;D<F;D++)for(let O=0;O<2*(F-D)-1;O++){const G=Math.floor(O/2);O%2===0?(y(z[D][G+1]),y(z[D+1][G]),y(z[D][G])):(y(z[D][G+1]),y(z[D+1][G+1]),y(z[D+1][G]))}}function d(b){const T=new H;for(let R=0;R<s.length;R+=3)T.x=s[R+0],T.y=s[R+1],T.z=s[R+2],T.normalize().multiplyScalar(b),s[R+0]=T.x,s[R+1]=T.y,s[R+2]=T.z}function p(){const b=new H;for(let T=0;T<s.length;T+=3){b.x=s[T+0],b.y=s[T+1],b.z=s[T+2];const R=S(b)/2/Math.PI+.5,I=E(b)/Math.PI+.5;a.push(R,1-I)}A(),g()}function g(){for(let b=0;b<a.length;b+=6){const T=a[b+0],R=a[b+2],I=a[b+4],F=Math.max(T,R,I),z=Math.min(T,R,I);F>.9&&z<.1&&(T<.2&&(a[b+0]+=1),R<.2&&(a[b+2]+=1),I<.2&&(a[b+4]+=1))}}function y(b){s.push(b.x,b.y,b.z)}function x(b,T){const R=b*3;T.x=e[R+0],T.y=e[R+1],T.z=e[R+2]}function A(){const b=new H,T=new H,R=new H,I=new H,F=new Be,z=new Be,D=new Be;for(let O=0,G=0;O<s.length;O+=9,G+=6){b.set(s[O+0],s[O+1],s[O+2]),T.set(s[O+3],s[O+4],s[O+5]),R.set(s[O+6],s[O+7],s[O+8]),F.set(a[G+0],a[G+1]),z.set(a[G+2],a[G+3]),D.set(a[G+4],a[G+5]),I.copy(b).add(T).add(R).divideScalar(3);const Y=S(I);w(F,G+0,b,Y),w(z,G+2,T,Y),w(D,G+4,R,Y)}}function w(b,T,R,I){I<0&&b.x===1&&(a[T]=b.x-1),R.x===0&&R.z===0&&(a[T]=I/2/Math.PI+.5)}function S(b){return Math.atan2(b.z,-b.x)}function E(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}static fromJSON(e){return new Ea(e.vertices,e.indices,e.radius,e.details)}}class yp extends Ea{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new yp(e.radius,e.detail)}}const og=new H,ag=new H,Gy=new H,lg=new vs;class iE extends Vt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Zu*t),a=e.getIndex(),l=e.getAttribute("position"),f=a?a.count:l.count,d=[0,0,0],p=["a","b","c"],g=new Array(3),y={},x=[];for(let A=0;A<f;A+=3){a?(d[0]=a.getX(A),d[1]=a.getX(A+1),d[2]=a.getX(A+2)):(d[0]=A,d[1]=A+1,d[2]=A+2);const{a:w,b:S,c:E}=lg;if(w.fromBufferAttribute(l,d[0]),S.fromBufferAttribute(l,d[1]),E.fromBufferAttribute(l,d[2]),lg.getNormal(Gy),g[0]=`${Math.round(w.x*r)},${Math.round(w.y*r)},${Math.round(w.z*r)}`,g[1]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,g[2]=`${Math.round(E.x*r)},${Math.round(E.y*r)},${Math.round(E.z*r)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let b=0;b<3;b++){const T=(b+1)%3,R=g[b],I=g[T],F=lg[p[b]],z=lg[p[T]],D=`${R}_${I}`,O=`${I}_${R}`;O in y&&y[O]?(Gy.dot(y[O].normal)<=s&&(x.push(F.x,F.y,F.z),x.push(z.x,z.y,z.z)),y[O]=null):D in y||(y[D]={index0:d[b],index1:d[T],normal:Gy.clone()})}}for(const A in y)if(y[A]){const{index0:w,index1:S}=y[A];og.fromBufferAttribute(l,w),ag.fromBufferAttribute(l,S),x.push(og.x,og.y,og.z),x.push(ag.x,ag.y,ag.z)}this.setAttribute("position",new pt(x,3))}}}class tc extends Qd{constructor(e){super(e),this.uuid=Zr(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(new Qd().fromJSON(r))}return this}}const UI={triangulate:function(i,e,t=2){const n=e&&e.length,r=n?e[0]*t:i.length;let s=rE(i,0,r,t,!0);const a=[];if(!s||s.next===s.prev)return a;let l,f,d,p,g,y,x;if(n&&(s=WI(i,e,s,t)),i.length>80*t){l=d=i[0],f=p=i[1];for(let A=t;A<r;A+=t)g=i[A],y=i[A+1],g<l&&(l=g),y<f&&(f=y),g>d&&(d=g),y>p&&(p=y);x=Math.max(d-l,p-f),x=x!==0?32767/x:0}return qd(s,a,t,l,f,x,0),a}};function rE(i,e,t,n,r){let s,a;if(r===tD(i,e,t,n)>0)for(s=e;s<t;s+=n)a=$A(s,i[s],i[s+1],a);else for(s=t-n;s>=e;s-=n)a=$A(s,i[s],i[s+1],a);return a&&y0(a,a.next)&&($d(a),a=a.next),a}function sc(i,e){if(!i)return i;e||(e=i);let t=i,n;do if(n=!1,!t.steiner&&(y0(t,t.next)||Un(t.prev,t,t.next)===0)){if($d(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function qd(i,e,t,n,r,s,a){if(!i)return;!a&&s&&YI(i,n,r,s);let l=i,f,d;for(;i.prev!==i.next;){if(f=i.prev,d=i.next,s?GI(i,n,r,s):zI(i)){e.push(f.i/t|0),e.push(i.i/t|0),e.push(d.i/t|0),$d(i),i=d.next,l=d.next;continue}if(i=d,i===l){a?a===1?(i=HI(sc(i),e,t),qd(i,e,t,n,r,s,2)):a===2&&VI(i,e,t,n,r,s):qd(sc(i),e,t,n,r,s,1);break}}}function zI(i){const e=i.prev,t=i,n=i.next;if(Un(e,t,n)>=0)return!1;const r=e.x,s=t.x,a=n.x,l=e.y,f=t.y,d=n.y,p=r<s?r<a?r:a:s<a?s:a,g=l<f?l<d?l:d:f<d?f:d,y=r>s?r>a?r:a:s>a?s:a,x=l>f?l>d?l:d:f>d?f:d;let A=n.next;for(;A!==e;){if(A.x>=p&&A.x<=y&&A.y>=g&&A.y<=x&&Vf(r,l,s,f,a,d,A.x,A.y)&&Un(A.prev,A,A.next)>=0)return!1;A=A.next}return!0}function GI(i,e,t,n){const r=i.prev,s=i,a=i.next;if(Un(r,s,a)>=0)return!1;const l=r.x,f=s.x,d=a.x,p=r.y,g=s.y,y=a.y,x=l<f?l<d?l:d:f<d?f:d,A=p<g?p<y?p:y:g<y?g:y,w=l>f?l>d?l:d:f>d?f:d,S=p>g?p>y?p:y:g>y?g:y,E=ux(x,A,e,t,n),b=ux(w,S,e,t,n);let T=i.prevZ,R=i.nextZ;for(;T&&T.z>=E&&R&&R.z<=b;){if(T.x>=x&&T.x<=w&&T.y>=A&&T.y<=S&&T!==r&&T!==a&&Vf(l,p,f,g,d,y,T.x,T.y)&&Un(T.prev,T,T.next)>=0||(T=T.prevZ,R.x>=x&&R.x<=w&&R.y>=A&&R.y<=S&&R!==r&&R!==a&&Vf(l,p,f,g,d,y,R.x,R.y)&&Un(R.prev,R,R.next)>=0))return!1;R=R.nextZ}for(;T&&T.z>=E;){if(T.x>=x&&T.x<=w&&T.y>=A&&T.y<=S&&T!==r&&T!==a&&Vf(l,p,f,g,d,y,T.x,T.y)&&Un(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;R&&R.z<=b;){if(R.x>=x&&R.x<=w&&R.y>=A&&R.y<=S&&R!==r&&R!==a&&Vf(l,p,f,g,d,y,R.x,R.y)&&Un(R.prev,R,R.next)>=0)return!1;R=R.nextZ}return!0}function HI(i,e,t){let n=i;do{const r=n.prev,s=n.next.next;!y0(r,s)&&sE(r,n,n.next,s)&&Zd(r,s)&&Zd(s,r)&&(e.push(r.i/t|0),e.push(n.i/t|0),e.push(s.i/t|0),$d(n),$d(n.next),n=i=s),n=n.next}while(n!==i);return sc(n)}function VI(i,e,t,n,r,s){let a=i;do{let l=a.next.next;for(;l!==a.prev;){if(a.i!==l.i&&ZI(a,l)){let f=oE(a,l);a=sc(a,a.next),f=sc(f,f.next),qd(a,e,t,n,r,s,0),qd(f,e,t,n,r,s,0);return}l=l.next}a=a.next}while(a!==i)}function WI(i,e,t,n){const r=[];let s,a,l,f,d;for(s=0,a=e.length;s<a;s++)l=e[s]*n,f=s<a-1?e[s+1]*n:i.length,d=rE(i,l,f,n,!1),d===d.next&&(d.steiner=!0),r.push(qI(d));for(r.sort(jI),s=0;s<r.length;s++)t=JI(r[s],t);return t}function jI(i,e){return i.x-e.x}function JI(i,e){const t=XI(i,e);if(!t)return e;const n=oE(t,i);return sc(n,n.next),sc(t,t.next)}function XI(i,e){let t=e,n=-1/0,r;const s=i.x,a=i.y;do{if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){const y=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(y<=s&&y>n&&(n=y,r=t.x<t.next.x?t:t.next,y===s))return r}t=t.next}while(t!==e);if(!r)return null;const l=r,f=r.x,d=r.y;let p=1/0,g;t=r;do s>=t.x&&t.x>=f&&s!==t.x&&Vf(a<d?s:n,a,f,d,a<d?n:s,a,t.x,t.y)&&(g=Math.abs(a-t.y)/(s-t.x),Zd(t,i)&&(g<p||g===p&&(t.x>r.x||t.x===r.x&&KI(r,t)))&&(r=t,p=g)),t=t.next;while(t!==l);return r}function KI(i,e){return Un(i.prev,i,e.prev)<0&&Un(e.next,i,i.next)<0}function YI(i,e,t,n){let r=i;do r.z===0&&(r.z=ux(r.x,r.y,e,t,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==i);r.prevZ.nextZ=null,r.prevZ=null,QI(r)}function QI(i){let e,t,n,r,s,a,l,f,d=1;do{for(t=i,i=null,s=null,a=0;t;){for(a++,n=t,l=0,e=0;e<d&&(l++,n=n.nextZ,!!n);e++);for(f=d;l>0||f>0&&n;)l!==0&&(f===0||!n||t.z<=n.z)?(r=t,t=t.nextZ,l--):(r=n,n=n.nextZ,f--),s?s.nextZ=r:i=r,r.prevZ=s,s=r;t=n}s.nextZ=null,d*=2}while(a>1);return i}function ux(i,e,t,n,r){return i=(i-t)*r|0,e=(e-n)*r|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function qI(i){let e=i,t=i;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==i);return t}function Vf(i,e,t,n,r,s,a,l){return(r-a)*(e-l)>=(i-a)*(s-l)&&(i-a)*(n-l)>=(t-a)*(e-l)&&(t-a)*(s-l)>=(r-a)*(n-l)}function ZI(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!$I(i,e)&&(Zd(i,e)&&Zd(e,i)&&eD(i,e)&&(Un(i.prev,i,e.prev)||Un(i,e.prev,e))||y0(i,e)&&Un(i.prev,i,i.next)>0&&Un(e.prev,e,e.next)>0)}function Un(i,e,t){return(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y)}function y0(i,e){return i.x===e.x&&i.y===e.y}function sE(i,e,t,n){const r=cg(Un(i,e,t)),s=cg(Un(i,e,n)),a=cg(Un(t,n,i)),l=cg(Un(t,n,e));return!!(r!==s&&a!==l||r===0&&ug(i,t,e)||s===0&&ug(i,n,e)||a===0&&ug(t,i,n)||l===0&&ug(t,e,n))}function ug(i,e,t){return e.x<=Math.max(i.x,t.x)&&e.x>=Math.min(i.x,t.x)&&e.y<=Math.max(i.y,t.y)&&e.y>=Math.min(i.y,t.y)}function cg(i){return i>0?1:i<0?-1:0}function $I(i,e){let t=i;do{if(t.i!==i.i&&t.next.i!==i.i&&t.i!==e.i&&t.next.i!==e.i&&sE(t,t.next,i,e))return!0;t=t.next}while(t!==i);return!1}function Zd(i,e){return Un(i.prev,i,i.next)<0?Un(i,e,i.next)>=0&&Un(i,i.prev,e)>=0:Un(i,e,i.prev)<0||Un(i,i.next,e)<0}function eD(i,e){let t=i,n=!1;const r=(i.x+e.x)/2,s=(i.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==i);return n}function oE(i,e){const t=new cx(i.i,i.x,i.y),n=new cx(e.i,e.x,e.y),r=i.next,s=e.prev;return i.next=e,e.prev=i,t.next=r,r.prev=t,n.next=t,t.prev=n,s.next=n,n.prev=s,n}function $A(i,e,t,n){const r=new cx(i,e,t);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function $d(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function cx(i,e,t){this.i=i,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function tD(i,e,t,n){let r=0;for(let s=e,a=t-n;s<t;s+=n)r+=(i[a]-i[s])*(i[s+1]+i[a+1]),a=s;return r}class Co{static area(e){const t=e.length;let n=0;for(let r=t-1,s=0;s<t;r=s++)n+=e[r].x*e[s].y-e[s].x*e[r].y;return n*.5}static isClockWise(e){return Co.area(e)<0}static triangulateShape(e,t){const n=[],r=[],s=[];ew(e),tw(n,e);let a=e.length;t.forEach(ew);for(let f=0;f<t.length;f++)r.push(a),a+=t[f].length,tw(n,t[f]);const l=UI.triangulate(n,r);for(let f=0;f<l.length;f+=3)s.push(l.slice(f,f+3));return s}}function ew(i){const e=i.length;e>2&&i[e-1].equals(i[0])&&i.pop()}function tw(i,e){for(let t=0;t<e.length;t++)i.push(e[t].x),i.push(e[t].y)}class vp extends Vt{constructor(e=new tc([new Be(.5,.5),new Be(-.5,.5),new Be(-.5,-.5),new Be(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],s=[];for(let l=0,f=e.length;l<f;l++){const d=e[l];a(d)}this.setAttribute("position",new pt(r,3)),this.setAttribute("uv",new pt(s,2)),this.computeVertexNormals();function a(l){const f=[],d=t.curveSegments!==void 0?t.curveSegments:12,p=t.steps!==void 0?t.steps:1,g=t.depth!==void 0?t.depth:1;let y=t.bevelEnabled!==void 0?t.bevelEnabled:!0,x=t.bevelThickness!==void 0?t.bevelThickness:.2,A=t.bevelSize!==void 0?t.bevelSize:x-.1,w=t.bevelOffset!==void 0?t.bevelOffset:0,S=t.bevelSegments!==void 0?t.bevelSegments:3;const E=t.extrudePath,b=t.UVGenerator!==void 0?t.UVGenerator:nD;let T,R=!1,I,F,z,D;E&&(T=E.getSpacedPoints(p),R=!0,y=!1,I=E.computeFrenetFrames(p,!1),F=new H,z=new H,D=new H),y||(S=0,x=0,A=0,w=0);const O=l.extractPoints(d);let G=O.shape;const Y=O.holes;if(!Co.isClockWise(G)){G=G.reverse();for(let Ee=0,we=Y.length;Ee<we;Ee++){const ze=Y[Ee];Co.isClockWise(ze)&&(Y[Ee]=ze.reverse())}}const ie=Co.triangulateShape(G,Y),$=G;for(let Ee=0,we=Y.length;Ee<we;Ee++){const ze=Y[Ee];G=G.concat(ze)}function ce(Ee,we,ze){return we||console.error("THREE.ExtrudeGeometry: vec does not exist"),we.clone().multiplyScalar(ze).add(Ee)}const ge=G.length,ve=ie.length;function V(Ee,we,ze){let rt,Ke,mt;const gt=Ee.x-we.x,at=Ee.y-we.y,kt=ze.x-Ee.x,Ot=ze.y-Ee.y,J=gt*gt+at*at,U=gt*Ot-at*kt;if(Math.abs(U)>Number.EPSILON){const xe=Math.sqrt(J),ke=Math.sqrt(kt*kt+Ot*Ot),He=we.x-at/xe,je=we.y+gt/xe,_t=ze.x-Ot/ke,Ze=ze.y+kt/ke,be=((_t-He)*Ot-(Ze-je)*kt)/(gt*Ot-at*kt);rt=He+gt*be-Ee.x,Ke=je+at*be-Ee.y;const ct=rt*rt+Ke*Ke;if(ct<=2)return new Be(rt,Ke);mt=Math.sqrt(ct/2)}else{let xe=!1;gt>Number.EPSILON?kt>Number.EPSILON&&(xe=!0):gt<-Number.EPSILON?kt<-Number.EPSILON&&(xe=!0):Math.sign(at)===Math.sign(Ot)&&(xe=!0),xe?(rt=-at,Ke=gt,mt=Math.sqrt(J)):(rt=gt,Ke=at,mt=Math.sqrt(J/2))}return new Be(rt/mt,Ke/mt)}const re=[];for(let Ee=0,we=$.length,ze=we-1,rt=Ee+1;Ee<we;Ee++,ze++,rt++)ze===we&&(ze=0),rt===we&&(rt=0),re[Ee]=V($[Ee],$[ze],$[rt]);const k=[];let Q,K=re.concat();for(let Ee=0,we=Y.length;Ee<we;Ee++){const ze=Y[Ee];Q=[];for(let rt=0,Ke=ze.length,mt=Ke-1,gt=rt+1;rt<Ke;rt++,mt++,gt++)mt===Ke&&(mt=0),gt===Ke&&(gt=0),Q[rt]=V(ze[rt],ze[mt],ze[gt]);k.push(Q),K=K.concat(Q)}for(let Ee=0;Ee<S;Ee++){const we=Ee/S,ze=x*Math.cos(we*Math.PI/2),rt=A*Math.sin(we*Math.PI/2)+w;for(let Ke=0,mt=$.length;Ke<mt;Ke++){const gt=ce($[Ke],re[Ke],rt);Ge(gt.x,gt.y,-ze)}for(let Ke=0,mt=Y.length;Ke<mt;Ke++){const gt=Y[Ke];Q=k[Ke];for(let at=0,kt=gt.length;at<kt;at++){const Ot=ce(gt[at],Q[at],rt);Ge(Ot.x,Ot.y,-ze)}}}const ae=A+w;for(let Ee=0;Ee<ge;Ee++){const we=y?ce(G[Ee],K[Ee],ae):G[Ee];R?(z.copy(I.normals[0]).multiplyScalar(we.x),F.copy(I.binormals[0]).multiplyScalar(we.y),D.copy(T[0]).add(z).add(F),Ge(D.x,D.y,D.z)):Ge(we.x,we.y,0)}for(let Ee=1;Ee<=p;Ee++)for(let we=0;we<ge;we++){const ze=y?ce(G[we],K[we],ae):G[we];R?(z.copy(I.normals[Ee]).multiplyScalar(ze.x),F.copy(I.binormals[Ee]).multiplyScalar(ze.y),D.copy(T[Ee]).add(z).add(F),Ge(D.x,D.y,D.z)):Ge(ze.x,ze.y,g/p*Ee)}for(let Ee=S-1;Ee>=0;Ee--){const we=Ee/S,ze=x*Math.cos(we*Math.PI/2),rt=A*Math.sin(we*Math.PI/2)+w;for(let Ke=0,mt=$.length;Ke<mt;Ke++){const gt=ce($[Ke],re[Ke],rt);Ge(gt.x,gt.y,g+ze)}for(let Ke=0,mt=Y.length;Ke<mt;Ke++){const gt=Y[Ke];Q=k[Ke];for(let at=0,kt=gt.length;at<kt;at++){const Ot=ce(gt[at],Q[at],rt);R?Ge(Ot.x,Ot.y+T[p-1].y,T[p-1].x+ze):Ge(Ot.x,Ot.y,g+ze)}}}Me(),Pe();function Me(){const Ee=r.length/3;if(y){let we=0,ze=ge*we;for(let rt=0;rt<ve;rt++){const Ke=ie[rt];Ne(Ke[2]+ze,Ke[1]+ze,Ke[0]+ze)}we=p+S*2,ze=ge*we;for(let rt=0;rt<ve;rt++){const Ke=ie[rt];Ne(Ke[0]+ze,Ke[1]+ze,Ke[2]+ze)}}else{for(let we=0;we<ve;we++){const ze=ie[we];Ne(ze[2],ze[1],ze[0])}for(let we=0;we<ve;we++){const ze=ie[we];Ne(ze[0]+ge*p,ze[1]+ge*p,ze[2]+ge*p)}}n.addGroup(Ee,r.length/3-Ee,0)}function Pe(){const Ee=r.length/3;let we=0;le($,we),we+=$.length;for(let ze=0,rt=Y.length;ze<rt;ze++){const Ke=Y[ze];le(Ke,we),we+=Ke.length}n.addGroup(Ee,r.length/3-Ee,1)}function le(Ee,we){let ze=Ee.length;for(;--ze>=0;){const rt=ze;let Ke=ze-1;Ke<0&&(Ke=Ee.length-1);for(let mt=0,gt=p+S*2;mt<gt;mt++){const at=ge*mt,kt=ge*(mt+1),Ot=we+rt+at,J=we+Ke+at,U=we+Ke+kt,xe=we+rt+kt;Qe(Ot,J,U,xe)}}}function Ge(Ee,we,ze){f.push(Ee),f.push(we),f.push(ze)}function Ne(Ee,we,ze){Oe(Ee),Oe(we),Oe(ze);const rt=r.length/3,Ke=b.generateTopUV(n,r,rt-3,rt-2,rt-1);Ye(Ke[0]),Ye(Ke[1]),Ye(Ke[2])}function Qe(Ee,we,ze,rt){Oe(Ee),Oe(we),Oe(rt),Oe(we),Oe(ze),Oe(rt);const Ke=r.length/3,mt=b.generateSideWallUV(n,r,Ke-6,Ke-3,Ke-2,Ke-1);Ye(mt[0]),Ye(mt[1]),Ye(mt[3]),Ye(mt[1]),Ye(mt[2]),Ye(mt[3])}function Oe(Ee){r.push(f[Ee*3+0]),r.push(f[Ee*3+1]),r.push(f[Ee*3+2])}function Ye(Ee){s.push(Ee.x),s.push(Ee.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return iD(t,n,e)}static fromJSON(e,t){const n=[];for(let s=0,a=e.shapes.length;s<a;s++){const l=t[e.shapes[s]];n.push(l)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new y_[r.type]().fromJSON(r)),new vp(n,e.options)}}const nD={generateTopUV:function(i,e,t,n,r){const s=e[t*3],a=e[t*3+1],l=e[n*3],f=e[n*3+1],d=e[r*3],p=e[r*3+1];return[new Be(s,a),new Be(l,f),new Be(d,p)]},generateSideWallUV:function(i,e,t,n,r,s){const a=e[t*3],l=e[t*3+1],f=e[t*3+2],d=e[n*3],p=e[n*3+1],g=e[n*3+2],y=e[r*3],x=e[r*3+1],A=e[r*3+2],w=e[s*3],S=e[s*3+1],E=e[s*3+2];return Math.abs(l-p)<Math.abs(a-d)?[new Be(a,1-f),new Be(d,1-g),new Be(y,1-A),new Be(w,1-E)]:[new Be(l,1-f),new Be(p,1-g),new Be(x,1-A),new Be(S,1-E)]}};function iD(i,e,t){if(t.shapes=[],Array.isArray(i))for(let n=0,r=i.length;n<r;n++){const s=i[n];t.shapes.push(s.uuid)}else t.shapes.push(i.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class xp extends Ea{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new xp(e.radius,e.detail)}}class gh extends Ea{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new gh(e.radius,e.detail)}}class _p extends Vt{constructor(e=.5,t=1,n=32,r=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:s,thetaLength:a},n=Math.max(3,n),r=Math.max(1,r);const l=[],f=[],d=[],p=[];let g=e;const y=(t-e)/r,x=new H,A=new Be;for(let w=0;w<=r;w++){for(let S=0;S<=n;S++){const E=s+S/n*a;x.x=g*Math.cos(E),x.y=g*Math.sin(E),f.push(x.x,x.y,x.z),d.push(0,0,1),A.x=(x.x/t+1)/2,A.y=(x.y/t+1)/2,p.push(A.x,A.y)}g+=y}for(let w=0;w<r;w++){const S=w*(n+1);for(let E=0;E<n;E++){const b=E+S,T=b,R=b+n+1,I=b+n+2,F=b+1;l.push(T,R,F),l.push(R,I,F)}}this.setIndex(l),this.setAttribute("position",new pt(f,3)),this.setAttribute("normal",new pt(d,3)),this.setAttribute("uv",new pt(p,2))}static fromJSON(e){return new _p(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Ap extends Vt{constructor(e=new tc([new Be(0,.5),new Be(-.5,-.5),new Be(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],s=[],a=[];let l=0,f=0;if(Array.isArray(e)===!1)d(e);else for(let p=0;p<e.length;p++)d(e[p]),this.addGroup(l,f,p),l+=f,f=0;this.setIndex(n),this.setAttribute("position",new pt(r,3)),this.setAttribute("normal",new pt(s,3)),this.setAttribute("uv",new pt(a,2));function d(p){const g=r.length/3,y=p.extractPoints(t);let x=y.shape;const A=y.holes;Co.isClockWise(x)===!1&&(x=x.reverse());for(let S=0,E=A.length;S<E;S++){const b=A[S];Co.isClockWise(b)===!0&&(A[S]=b.reverse())}const w=Co.triangulateShape(x,A);for(let S=0,E=A.length;S<E;S++){const b=A[S];x=x.concat(b)}for(let S=0,E=x.length;S<E;S++){const b=x[S];r.push(b.x,b.y,0),s.push(0,0,1),a.push(b.x,b.y)}for(let S=0,E=w.length;S<E;S++){const b=w[S],T=b[0]+g,R=b[1]+g,I=b[2]+g;n.push(T,R,I),f+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return rD(t,e)}static fromJSON(e,t){const n=[];for(let r=0,s=e.shapes.length;r<s;r++){const a=t[e.shapes[r]];n.push(a)}return new Ap(n,e.curveSegments)}}function rD(i,e){if(e.shapes=[],Array.isArray(i))for(let t=0,n=i.length;t<n;t++){const r=i[t];e.shapes.push(r.uuid)}else e.shapes.push(i.uuid);return e}class yh extends Vt{constructor(e=1,t=32,n=16,r=0,s=Math.PI*2,a=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:s,thetaStart:a,thetaLength:l},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const f=Math.min(a+l,Math.PI);let d=0;const p=[],g=new H,y=new H,x=[],A=[],w=[],S=[];for(let E=0;E<=n;E++){const b=[],T=E/n;let R=0;E==0&&a==0?R=.5/t:E==n&&f==Math.PI&&(R=-.5/t);for(let I=0;I<=t;I++){const F=I/t;g.x=-e*Math.cos(r+F*s)*Math.sin(a+T*l),g.y=e*Math.cos(a+T*l),g.z=e*Math.sin(r+F*s)*Math.sin(a+T*l),A.push(g.x,g.y,g.z),y.copy(g).normalize(),w.push(y.x,y.y,y.z),S.push(F+R,1-T),b.push(d++)}p.push(b)}for(let E=0;E<n;E++)for(let b=0;b<t;b++){const T=p[E][b+1],R=p[E][b],I=p[E+1][b],F=p[E+1][b+1];(E!==0||a>0)&&x.push(T,R,F),(E!==n-1||f<Math.PI)&&x.push(R,I,F)}this.setIndex(x),this.setAttribute("position",new pt(A,3)),this.setAttribute("normal",new pt(w,3)),this.setAttribute("uv",new pt(S,2))}static fromJSON(e){return new yh(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class wp extends Ea{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new wp(e.radius,e.detail)}}class Sp extends Vt{constructor(e=1,t=.4,n=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:s},n=Math.floor(n),r=Math.floor(r);const a=[],l=[],f=[],d=[],p=new H,g=new H,y=new H;for(let x=0;x<=n;x++)for(let A=0;A<=r;A++){const w=A/r*s,S=x/n*Math.PI*2;g.x=(e+t*Math.cos(S))*Math.cos(w),g.y=(e+t*Math.cos(S))*Math.sin(w),g.z=t*Math.sin(S),l.push(g.x,g.y,g.z),p.x=e*Math.cos(w),p.y=e*Math.sin(w),y.subVectors(g,p).normalize(),f.push(y.x,y.y,y.z),d.push(A/r),d.push(x/n)}for(let x=1;x<=n;x++)for(let A=1;A<=r;A++){const w=(r+1)*x+A-1,S=(r+1)*(x-1)+A-1,E=(r+1)*(x-1)+A,b=(r+1)*x+A;a.push(w,S,b),a.push(S,E,b)}this.setIndex(a),this.setAttribute("position",new pt(l,3)),this.setAttribute("normal",new pt(f,3)),this.setAttribute("uv",new pt(d,2))}static fromJSON(e){return new Sp(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Mp extends Vt{constructor(e=1,t=.4,n=64,r=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:s,q:a},n=Math.floor(n),r=Math.floor(r);const l=[],f=[],d=[],p=[],g=new H,y=new H,x=new H,A=new H,w=new H,S=new H,E=new H;for(let T=0;T<=n;++T){const R=T/n*s*Math.PI*2;b(R,s,a,e,x),b(R+.01,s,a,e,A),S.subVectors(A,x),E.addVectors(A,x),w.crossVectors(S,E),E.crossVectors(w,S),w.normalize(),E.normalize();for(let I=0;I<=r;++I){const F=I/r*Math.PI*2,z=-t*Math.cos(F),D=t*Math.sin(F);g.x=x.x+(z*E.x+D*w.x),g.y=x.y+(z*E.y+D*w.y),g.z=x.z+(z*E.z+D*w.z),f.push(g.x,g.y,g.z),y.subVectors(g,x).normalize(),d.push(y.x,y.y,y.z),p.push(T/n),p.push(I/r)}}for(let T=1;T<=n;T++)for(let R=1;R<=r;R++){const I=(r+1)*(T-1)+(R-1),F=(r+1)*T+(R-1),z=(r+1)*T+R,D=(r+1)*(T-1)+R;l.push(I,F,D),l.push(F,z,D)}this.setIndex(l),this.setAttribute("position",new pt(f,3)),this.setAttribute("normal",new pt(d,3)),this.setAttribute("uv",new pt(p,2));function b(T,R,I,F,z){const D=Math.cos(T),O=Math.sin(T),G=I/R*T,Y=Math.cos(G);z.x=F*(2+Y)*.5*D,z.y=F*(2+Y)*O*.5,z.z=F*Math.sin(G)*.5}}static fromJSON(e){return new Mp(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Cp extends Vt{constructor(e=new m_(new H(-1,-1,0),new H(-1,1,0),new H(1,1,0)),t=64,n=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:s};const a=e.computeFrenetFrames(t,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const l=new H,f=new H,d=new Be;let p=new H;const g=[],y=[],x=[],A=[];w(),this.setIndex(A),this.setAttribute("position",new pt(g,3)),this.setAttribute("normal",new pt(y,3)),this.setAttribute("uv",new pt(x,2));function w(){for(let T=0;T<t;T++)S(T);S(s===!1?t:0),b(),E()}function S(T){p=e.getPointAt(T/t,p);const R=a.normals[T],I=a.binormals[T];for(let F=0;F<=r;F++){const z=F/r*Math.PI*2,D=Math.sin(z),O=-Math.cos(z);f.x=O*R.x+D*I.x,f.y=O*R.y+D*I.y,f.z=O*R.z+D*I.z,f.normalize(),y.push(f.x,f.y,f.z),l.x=p.x+n*f.x,l.y=p.y+n*f.y,l.z=p.z+n*f.z,g.push(l.x,l.y,l.z)}}function E(){for(let T=1;T<=t;T++)for(let R=1;R<=r;R++){const I=(r+1)*(T-1)+(R-1),F=(r+1)*T+(R-1),z=(r+1)*T+R,D=(r+1)*(T-1)+R;A.push(I,F,D),A.push(F,z,D)}}function b(){for(let T=0;T<=t;T++)for(let R=0;R<=r;R++)d.x=T/t,d.y=R/r,x.push(d.x,d.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Cp(new y_[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class aE extends Vt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,r=new H,s=new H;if(e.index!==null){const a=e.attributes.position,l=e.index;let f=e.groups;f.length===0&&(f=[{start:0,count:l.count,materialIndex:0}]);for(let d=0,p=f.length;d<p;++d){const g=f[d],y=g.start,x=g.count;for(let A=y,w=y+x;A<w;A+=3)for(let S=0;S<3;S++){const E=l.getX(A+S),b=l.getX(A+(S+1)%3);r.fromBufferAttribute(a,E),s.fromBufferAttribute(a,b),nw(r,s,n)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let l=0,f=a.count/3;l<f;l++)for(let d=0;d<3;d++){const p=3*l+d,g=3*l+(d+1)%3;r.fromBufferAttribute(a,p),s.fromBufferAttribute(a,g),nw(r,s,n)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new pt(t,3))}}}function nw(i,e,t){const n=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`;return t.has(n)===!0||t.has(r)===!0?!1:(t.add(n),t.add(r),!0)}var iw=Object.freeze({__proto__:null,BoxGeometry:Nl,CapsuleGeometry:pp,CircleGeometry:mp,ConeGeometry:gp,CylinderGeometry:uc,DodecahedronGeometry:yp,EdgesGeometry:iE,ExtrudeGeometry:vp,IcosahedronGeometry:xp,LatheGeometry:mh,OctahedronGeometry:gh,PlaneGeometry:dh,PolyhedronGeometry:Ea,RingGeometry:_p,ShapeGeometry:Ap,SphereGeometry:yh,TetrahedronGeometry:wp,TorusGeometry:Sp,TorusKnotGeometry:Mp,TubeGeometry:Cp,WireframeGeometry:aE});class lE extends vi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new et(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class uE extends Po{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Ep extends vi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new et(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Il,this.normalScale=new Be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class xs extends Ep{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Be(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Zn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new et(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new et(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new et(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class cE extends vi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new et(16777215),this.specular=new et(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Il,this.normalScale=new Be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ap,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fE extends vi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new et(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Il,this.normalScale=new Be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class hE extends vi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Il,this.normalScale=new Be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class dE extends vi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Il,this.normalScale=new Be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ap,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class pE extends vi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new et(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Il,this.normalScale=new Be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class mE extends er{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function gs(i,e,t){return v_(i)?new i.constructor(i.subarray(e,t!==void 0?t:i.length)):i.slice(e,t)}function ju(i,e,t){return!i||!t&&i.constructor===e?i:typeof e.BYTES_PER_ELEMENT=="number"?new e(i):Array.prototype.slice.call(i)}function v_(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function gE(i){function e(r,s){return i[r]-i[s]}const t=i.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(e),n}function fx(i,e,t){const n=i.length,r=new i.constructor(n);for(let s=0,a=0;a!==n;++s){const l=t[s]*e;for(let f=0;f!==e;++f)r[a++]=i[l+f]}return r}function x_(i,e,t,n){let r=1,s=i[0];for(;s!==void 0&&s[n]===void 0;)s=i[r++];if(s===void 0)return;let a=s[n];if(a!==void 0)if(Array.isArray(a))do a=s[n],a!==void 0&&(e.push(s.time),t.push.apply(t,a)),s=i[r++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[n],a!==void 0&&(e.push(s.time),a.toArray(t,t.length)),s=i[r++];while(s!==void 0);else do a=s[n],a!==void 0&&(e.push(s.time),t.push(a)),s=i[r++];while(s!==void 0)}function sD(i,e,t,n,r=30){const s=i.clone();s.name=e;const a=[];for(let f=0;f<s.tracks.length;++f){const d=s.tracks[f],p=d.getValueSize(),g=[],y=[];for(let x=0;x<d.times.length;++x){const A=d.times[x]*r;if(!(A<t||A>=n)){g.push(d.times[x]);for(let w=0;w<p;++w)y.push(d.values[x*p+w])}}g.length!==0&&(d.times=ju(g,d.times.constructor),d.values=ju(y,d.values.constructor),a.push(d))}s.tracks=a;let l=1/0;for(let f=0;f<s.tracks.length;++f)l>s.tracks[f].times[0]&&(l=s.tracks[f].times[0]);for(let f=0;f<s.tracks.length;++f)s.tracks[f].shift(-1*l);return s.resetDuration(),s}function oD(i,e=0,t=i,n=30){n<=0&&(n=30);const r=t.tracks.length,s=e/n;for(let a=0;a<r;++a){const l=t.tracks[a],f=l.ValueTypeName;if(f==="bool"||f==="string")continue;const d=i.tracks.find(function(E){return E.name===l.name&&E.ValueTypeName===f});if(d===void 0)continue;let p=0;const g=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=g/3);let y=0;const x=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=x/3);const A=l.times.length-1;let w;if(s<=l.times[0]){const E=p,b=g-p;w=gs(l.values,E,b)}else if(s>=l.times[A]){const E=A*g+p,b=E+g-p;w=gs(l.values,E,b)}else{const E=l.createInterpolant(),b=p,T=g-p;E.evaluate(s),w=gs(E.resultBuffer,b,T)}f==="quaternion"&&new bi().fromArray(w).normalize().conjugate().toArray(w);const S=d.times.length;for(let E=0;E<S;++E){const b=E*x+y;if(f==="quaternion")bi.multiplyQuaternionsFlat(d.values,b,w,0,d.values,b);else{const T=x-y*2;for(let R=0;R<T;++R)d.values[b+R]-=w[R]}}}return i.blendMode=Jx,i}var aD=Object.freeze({__proto__:null,arraySlice:gs,convertArray:ju,flattenJSON:x_,getKeyframeOrder:gE,isTypedArray:v_,makeClipAdditive:oD,sortedArray:fx,subclip:sD});class vh{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],s=t[n-1];e:{t:{let a;n:{i:if(!(e<r)){for(let l=n+2;;){if(r===void 0){if(e<s)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===l)break;if(s=r,r=t[++n],e<r)break t}a=t.length;break n}if(!(e>=s)){const l=t[1];e<l&&(n=2,s=l);for(let f=n-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===f)break;if(r=s,s=t[--n-1],e>=s)break t}a=n,n=0;break n}break e}for(;n<a;){const l=n+a>>>1;e<t[l]?a=l:n=l+1}if(r=t[n],s=t[n-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,s,r)}return this.interpolate_(n,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,s=e*r;for(let a=0;a!==r;++a)t[a]=n[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class yE extends vh{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Hu,endingEnd:Hu}}intervalChanged_(e,t,n){const r=this.parameterPositions;let s=e-2,a=e+1,l=r[s],f=r[a];if(l===void 0)switch(this.getSettings_().endingStart){case Vu:s=e,l=2*t-n;break;case Jd:s=r.length-2,l=t+r[s]-r[s+1];break;default:s=e,l=n}if(f===void 0)switch(this.getSettings_().endingEnd){case Vu:a=e,f=2*n-t;break;case Jd:a=1,f=n+r[1]-r[0];break;default:a=e-1,f=t}const d=(n-t)*.5,p=this.valueSize;this._weightPrev=d/(t-l),this._weightNext=d/(f-n),this._offsetPrev=s*p,this._offsetNext=a*p}interpolate_(e,t,n,r){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,f=e*l,d=f-l,p=this._offsetPrev,g=this._offsetNext,y=this._weightPrev,x=this._weightNext,A=(n-t)/(r-t),w=A*A,S=w*A,E=-y*S+2*y*w-y*A,b=(1+y)*S+(-1.5-2*y)*w+(-.5+y)*A+1,T=(-1-x)*S+(1.5+x)*w+.5*A,R=x*S-x*w;for(let I=0;I!==l;++I)s[I]=E*a[p+I]+b*a[d+I]+T*a[f+I]+R*a[g+I];return s}}class __ extends vh{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,f=e*l,d=f-l,p=(n-t)/(r-t),g=1-p;for(let y=0;y!==l;++y)s[y]=a[d+y]*g+a[f+y]*p;return s}}class vE extends vh{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class io{constructor(e,t,n,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ju(t,this.TimeBufferType),this.values=ju(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:ju(e.times,Array),values:ju(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new vE(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new __(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new yE(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case th:t=this.InterpolantFactoryMethodDiscrete;break;case ic:t=this.InterpolantFactoryMethodLinear;break;case Lg:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return th;case this.InterpolantFactoryMethodLinear:return ic;case this.InterpolantFactoryMethodSmooth:return Lg}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let s=0,a=r-1;for(;s!==r&&n[s]<e;)++s;for(;a!==-1&&n[a]>t;)--a;if(++a,s!==0||a!==r){s>=a&&(a=Math.max(a,1),s=a-1);const l=this.getValueSize();this.times=gs(n,s,a),this.values=gs(this.values,s*l,a*l)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,s=n.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let l=0;l!==s;l++){const f=n[l];if(typeof f=="number"&&isNaN(f)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,f),e=!1;break}if(a!==null&&a>f){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,f,a),e=!1;break}a=f}if(r!==void 0&&v_(r))for(let l=0,f=r.length;l!==f;++l){const d=r[l];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,d),e=!1;break}}return e}optimize(){const e=gs(this.times),t=gs(this.values),n=this.getValueSize(),r=this.getInterpolation()===Lg,s=e.length-1;let a=1;for(let l=1;l<s;++l){let f=!1;const d=e[l],p=e[l+1];if(d!==p&&(l!==1||d!==e[0]))if(r)f=!0;else{const g=l*n,y=g-n,x=g+n;for(let A=0;A!==n;++A){const w=t[g+A];if(w!==t[y+A]||w!==t[x+A]){f=!0;break}}}if(f){if(l!==a){e[a]=e[l];const g=l*n,y=a*n;for(let x=0;x!==n;++x)t[y+x]=t[g+x]}++a}}if(s>0){e[a]=e[s];for(let l=s*n,f=a*n,d=0;d!==n;++d)t[f+d]=t[l+d];++a}return a!==e.length?(this.times=gs(e,0,a),this.values=gs(t,0,a*n)):(this.times=e,this.values=t),this}clone(){const e=gs(this.times,0),t=gs(this.values,0),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}io.prototype.TimeBufferType=Float32Array;io.prototype.ValueBufferType=Float32Array;io.prototype.DefaultInterpolation=ic;class cc extends io{}cc.prototype.ValueTypeName="bool";cc.prototype.ValueBufferType=Array;cc.prototype.DefaultInterpolation=th;cc.prototype.InterpolantFactoryMethodLinear=void 0;cc.prototype.InterpolantFactoryMethodSmooth=void 0;class A_ extends io{}A_.prototype.ValueTypeName="color";class oc extends io{}oc.prototype.ValueTypeName="number";class xE extends vh{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,f=(n-t)/(r-t);let d=e*l;for(let p=d+l;d!==p;d+=4)bi.slerpFlat(s,0,a,d-l,a,d,f);return s}}class Bl extends io{InterpolantFactoryMethodLinear(e){return new xE(this.times,this.values,this.getValueSize(),e)}}Bl.prototype.ValueTypeName="quaternion";Bl.prototype.DefaultInterpolation=ic;Bl.prototype.InterpolantFactoryMethodSmooth=void 0;class fc extends io{}fc.prototype.ValueTypeName="string";fc.prototype.ValueBufferType=Array;fc.prototype.DefaultInterpolation=th;fc.prototype.InterpolantFactoryMethodLinear=void 0;fc.prototype.InterpolantFactoryMethodSmooth=void 0;class ac extends io{}ac.prototype.ValueTypeName="vector";class rh{constructor(e,t=-1,n,r=l0){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=Zr(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let a=0,l=n.length;a!==l;++a)t.push(uD(n[a]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=n.length;s!==a;++s)t.push(io.toJSON(n[s]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const s=t.length,a=[];for(let l=0;l<s;l++){let f=[],d=[];f.push((l+s-1)%s,l,(l+1)%s),d.push(0,1,0);const p=gE(f);f=fx(f,1,p),d=fx(d,1,p),!r&&f[0]===0&&(f.push(s),d.push(d[0])),a.push(new oc(".morphTargetInfluences["+t[l].name+"]",f,d).scale(1/n))}return new this(e,-1,a)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},s=/^([\w-]*?)([\d]+)$/;for(let l=0,f=e.length;l<f;l++){const d=e[l],p=d.name.match(s);if(p&&p.length>1){const g=p[1];let y=r[g];y||(r[g]=y=[]),y.push(d)}}const a=[];for(const l in r)a.push(this.CreateFromMorphTargetSequence(l,r[l],t,n));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(g,y,x,A,w){if(x.length!==0){const S=[],E=[];x_(x,S,E,A),S.length!==0&&w.push(new g(y,S,E))}},r=[],s=e.name||"default",a=e.fps||30,l=e.blendMode;let f=e.length||-1;const d=e.hierarchy||[];for(let g=0;g<d.length;g++){const y=d[g].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const x={};let A;for(A=0;A<y.length;A++)if(y[A].morphTargets)for(let w=0;w<y[A].morphTargets.length;w++)x[y[A].morphTargets[w]]=-1;for(const w in x){const S=[],E=[];for(let b=0;b!==y[A].morphTargets.length;++b){const T=y[A];S.push(T.time),E.push(T.morphTarget===w?1:0)}r.push(new oc(".morphTargetInfluence["+w+"]",S,E))}f=x.length*a}else{const x=".bones["+t[g].name+"]";n(ac,x+".position",y,"pos",r),n(Bl,x+".quaternion",y,"rot",r),n(ac,x+".scale",y,"scl",r)}}return r.length===0?null:new this(s,f,r,l)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,r=e.length;n!==r;++n){const s=this.tracks[n];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function lD(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return oc;case"vector":case"vector2":case"vector3":case"vector4":return ac;case"color":return A_;case"quaternion":return Bl;case"bool":case"boolean":return cc;case"string":return fc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}function uD(i){if(i.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=lD(i.type);if(i.times===void 0){const t=[],n=[];x_(i.keys,t,n,"value"),i.times=t,i.values=n}return e.parse!==void 0?e.parse(i):new e(i.name,i.times,i.values,i.interpolation)}const lc={enabled:!1,files:{},add:function(i,e){this.enabled!==!1&&(this.files[i]=e)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class w_{constructor(e,t,n){const r=this;let s=!1,a=0,l=0,f;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(p){l++,s===!1&&r.onStart!==void 0&&r.onStart(p,a,l),s=!0},this.itemEnd=function(p){a++,r.onProgress!==void 0&&r.onProgress(p,a,l),a===l&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(p){r.onError!==void 0&&r.onError(p)},this.resolveURL=function(p){return f?f(p):p},this.setURLModifier=function(p){return f=p,this},this.addHandler=function(p,g){return d.push(p,g),this},this.removeHandler=function(p){const g=d.indexOf(p);return g!==-1&&d.splice(g,2),this},this.getHandler=function(p){for(let g=0,y=d.length;g<y;g+=2){const x=d[g],A=d[g+1];if(x.global&&(x.lastIndex=0),x.test(p))return A}return null}}}const Wf=new w_;class gr{constructor(e){this.manager=e!==void 0?e:Wf,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,s){n.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const ua={};class cD extends Error{constructor(e,t){super(e),this.response=t}}class $r extends gr{constructor(e){super(e)}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=lc.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(ua[e]!==void 0){ua[e].push({onLoad:t,onProgress:n,onError:r});return}ua[e]=[],ua[e].push({onLoad:t,onProgress:n,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,f=this.responseType;fetch(a).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||d.body===void 0||d.body.getReader===void 0)return d;const p=ua[e],g=d.body.getReader(),y=d.headers.get("Content-Length")||d.headers.get("X-File-Size"),x=y?parseInt(y):0,A=x!==0;let w=0;const S=new ReadableStream({start(E){b();function b(){g.read().then(({done:T,value:R})=>{if(T)E.close();else{w+=R.byteLength;const I=new ProgressEvent("progress",{lengthComputable:A,loaded:w,total:x});for(let F=0,z=p.length;F<z;F++){const D=p[F];D.onProgress&&D.onProgress(I)}E.enqueue(R),b()}})}}});return new Response(S)}else throw new cD(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(f){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(p=>new DOMParser().parseFromString(p,l));case"json":return d.json();default:if(l===void 0)return d.text();{const g=/charset="?([^;"\s]*)"?/i.exec(l),y=g&&g[1]?g[1].toLowerCase():void 0,x=new TextDecoder(y);return d.arrayBuffer().then(A=>x.decode(A))}}}).then(d=>{lc.add(e,d);const p=ua[e];delete ua[e];for(let g=0,y=p.length;g<y;g++){const x=p[g];x.onLoad&&x.onLoad(d)}}).catch(d=>{const p=ua[e];if(p===void 0)throw this.manager.itemError(e),d;delete ua[e];for(let g=0,y=p.length;g<y;g++){const x=p[g];x.onError&&x.onError(d)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class fD extends gr{constructor(e){super(e)}load(e,t,n,r){const s=this,a=new $r(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{t(s.parse(JSON.parse(l)))}catch(f){r?r(f):console.error(f),s.manager.itemError(e)}},n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=rh.parse(e[n]);t.push(r)}return t}}class hD extends gr{constructor(e){super(e)}load(e,t,n,r){const s=this,a=[],l=new f_,f=new $r(this.manager);f.setPath(this.path),f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setWithCredentials(s.withCredentials);let d=0;function p(g){f.load(e[g],function(y){const x=s.parse(y,!0);a[g]={width:x.width,height:x.height,format:x.format,mipmaps:x.mipmaps},d+=1,d===6&&(x.mipmapCount===1&&(l.minFilter=On),l.image=a,l.format=x.format,l.needsUpdate=!0,t&&t(l))},n,r)}if(Array.isArray(e))for(let g=0,y=e.length;g<y;++g)p(g);else f.load(e,function(g){const y=s.parse(g,!0);if(y.isCubemap){const x=y.mipmaps.length/y.mipmapCount;for(let A=0;A<x;A++){a[A]={mipmaps:[]};for(let w=0;w<y.mipmapCount;w++)a[A].mipmaps.push(y.mipmaps[A*y.mipmapCount+w]),a[A].format=y.format,a[A].width=y.width,a[A].height=y.height}l.image=a}else l.image.width=y.width,l.image.height=y.height,l.mipmaps=y.mipmaps;y.mipmapCount===1&&(l.minFilter=On),l.format=y.format,l.needsUpdate=!0,t&&t(l)},n,r);return l}}class ep extends gr{constructor(e){super(e)}load(e,t,n,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=lc.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;const l=Yd("img");function f(){p(),lc.add(e,this),t&&t(this),s.manager.itemEnd(e)}function d(g){p(),r&&r(g),s.manager.itemError(e),s.manager.itemEnd(e)}function p(){l.removeEventListener("load",f,!1),l.removeEventListener("error",d,!1)}return l.addEventListener("load",f,!1),l.addEventListener("error",d,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),s.manager.itemStart(e),l.src=e,l}}class dD extends gr{constructor(e){super(e)}load(e,t,n,r){const s=new cp,a=new ep(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let l=0;function f(d){a.load(e[d],function(p){s.images[d]=p,l++,l===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let d=0;d<e.length;++d)f(d);return s}}class pD extends gr{constructor(e){super(e)}load(e,t,n,r){const s=this,a=new Qf,l=new $r(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(s.withCredentials),l.load(e,function(f){const d=s.parse(f);d&&(d.image!==void 0?a.image=d.image:d.data!==void 0&&(a.image.width=d.width,a.image.height=d.height,a.image.data=d.data),a.wrapS=d.wrapS!==void 0?d.wrapS:Hi,a.wrapT=d.wrapT!==void 0?d.wrapT:Hi,a.magFilter=d.magFilter!==void 0?d.magFilter:On,a.minFilter=d.minFilter!==void 0?d.minFilter:On,a.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.encoding!==void 0&&(a.encoding=d.encoding),d.flipY!==void 0&&(a.flipY=d.flipY),d.format!==void 0&&(a.format=d.format),d.type!==void 0&&(a.type=d.type),d.mipmaps!==void 0&&(a.mipmaps=d.mipmaps,a.minFilter=bo),d.mipmapCount===1&&(a.minFilter=On),d.generateMipmaps!==void 0&&(a.generateMipmaps=d.generateMipmaps),a.needsUpdate=!0,t&&t(a,d))},n,r),a}}class _E extends gr{constructor(e){super(e)}load(e,t,n,r){const s=new Gn,a=new ep(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(l){s.image=l,s.needsUpdate=!0,t!==void 0&&t(s)},n,r),s}}class kl extends sn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new et(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class AE extends kl{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(sn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new et(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Hy=new Lt,rw=new H,sw=new H;class S_{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Be(512,512),this.map=null,this.mapPass=null,this.matrix=new Lt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new c0,this._frameExtents=new Be(1,1),this._viewportCount=1,this._viewports=[new pn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;rw.setFromMatrixPosition(e.matrixWorld),t.position.copy(rw),sw.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(sw),t.updateMatrixWorld(),Hy.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Hy),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Hy)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class mD extends S_{constructor(){super(new Dn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=Kd*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(n!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=n,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class M_ extends kl{constructor(e,t,n=0,r=Math.PI/3,s=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(sn.DEFAULT_UP),this.updateMatrix(),this.target=new sn,this.distance=n,this.angle=r,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new mD}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const ow=new Lt,xd=new H,Vy=new H;class gD extends S_{constructor(){super(new Dn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Be(4,2),this._viewportCount=6,this._viewports=[new pn(2,1,1,1),new pn(0,1,1,1),new pn(3,1,1,1),new pn(1,1,1,1),new pn(3,0,1,1),new pn(1,0,1,1)],this._cubeDirections=[new H(1,0,0),new H(-1,0,0),new H(0,0,1),new H(0,0,-1),new H(0,1,0),new H(0,-1,0)],this._cubeUps=[new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,0,1),new H(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,s=e.distance||n.far;s!==n.far&&(n.far=s,n.updateProjectionMatrix()),xd.setFromMatrixPosition(e.matrixWorld),n.position.copy(xd),Vy.copy(n.position),Vy.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Vy),n.updateMatrixWorld(),r.makeTranslation(-xd.x,-xd.y,-xd.z),ow.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ow)}}class C_ extends kl{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new gD}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class yD extends S_{constructor(){super(new Zs(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class E_ extends kl{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(sn.DEFAULT_UP),this.updateMatrix(),this.target=new sn,this.shadow=new yD}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class wE extends kl{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class SE extends kl{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class ME{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new H)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*s),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],1.092548*(n*r)),t.addScaledVector(a[5],1.092548*(r*s)),t.addScaledVector(a[6],.315392*(3*s*s-1)),t.addScaledVector(a[7],1.092548*(n*s)),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*r),t.addScaledVector(a[2],2*.511664*s),t.addScaledVector(a[3],2*.511664*n),t.addScaledVector(a[4],2*.429043*n*r),t.addScaledVector(a[5],2*.429043*r*s),t.addScaledVector(a[6],.743125*s*s-.247708),t.addScaledVector(a[7],2*.429043*n*s),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const n=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*n*s,t[8]=.546274*(n*n-r*r)}}class v0 extends kl{constructor(e=new ME,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class x0 extends gr{constructor(e){super(e),this.textures={}}load(e,t,n,r){const s=this,a=new $r(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(l){try{t(s.parse(JSON.parse(l)))}catch(f){r?r(f):console.error(f),s.manager.itemError(e)}},n,r)}parse(e){const t=this.textures;function n(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=x0.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new et().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(r.uniforms[s]={},a.type){case"t":r.uniforms[s].value=n(a.value);break;case"c":r.uniforms[s].value=new et().setHex(a.value);break;case"v2":r.uniforms[s].value=new Be().fromArray(a.value);break;case"v3":r.uniforms[s].value=new H().fromArray(a.value);break;case"v4":r.uniforms[s].value=new pn().fromArray(a.value);break;case"m3":r.uniforms[s].value=new dr().fromArray(a.value);break;case"m4":r.uniforms[s].value=new Lt().fromArray(a.value);break;default:r.uniforms[s].value=a.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=n(e.map)),e.matcap!==void 0&&(r.matcap=n(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new Be().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Be().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=n(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:lE,SpriteMaterial:o_,RawShaderMaterial:uE,ShaderMaterial:Po,PointsMaterial:dp,MeshPhysicalMaterial:xs,MeshStandardMaterial:Ep,MeshPhongMaterial:cE,MeshToonMaterial:fE,MeshNormalMaterial:hE,MeshLambertMaterial:dE,MeshDepthMaterial:n_,MeshDistanceMaterial:i_,MeshBasicMaterial:qr,MeshMatcapMaterial:pE,LineDashedMaterial:mE,LineBasicMaterial:er,Material:vi};return new t[e]}}class Sl{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class CE extends Vt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class EE extends gr{constructor(e){super(e)}load(e,t,n,r){const s=this,a=new $r(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(l){try{t(s.parse(JSON.parse(l)))}catch(f){r?r(f):console.error(f),s.manager.itemError(e)}},n,r)}parse(e){const t={},n={};function r(x,A){if(t[A]!==void 0)return t[A];const S=x.interleavedBuffers[A],E=s(x,S.buffer),b=Gf(S.type,E),T=new fp(b,S.stride);return T.uuid=S.uuid,t[A]=T,T}function s(x,A){if(n[A]!==void 0)return n[A];const S=x.arrayBuffers[A],E=new Uint32Array(S).buffer;return n[A]=E,E}const a=e.isInstancedBufferGeometry?new CE:new Vt,l=e.data.index;if(l!==void 0){const x=Gf(l.type,l.array);a.setIndex(new cn(x,1))}const f=e.data.attributes;for(const x in f){const A=f[x];let w;if(A.isInterleavedBufferAttribute){const S=r(e.data,A.data);w=new Pl(S,A.itemSize,A.offset,A.normalized)}else{const S=Gf(A.type,A.array),E=A.isInstancedBufferAttribute?rc:cn;w=new E(S,A.itemSize,A.normalized)}A.name!==void 0&&(w.name=A.name),A.usage!==void 0&&w.setUsage(A.usage),A.updateRange!==void 0&&(w.updateRange.offset=A.updateRange.offset,w.updateRange.count=A.updateRange.count),a.setAttribute(x,w)}const d=e.data.morphAttributes;if(d)for(const x in d){const A=d[x],w=[];for(let S=0,E=A.length;S<E;S++){const b=A[S];let T;if(b.isInterleavedBufferAttribute){const R=r(e.data,b.data);T=new Pl(R,b.itemSize,b.offset,b.normalized)}else{const R=Gf(b.type,b.array);T=new cn(R,b.itemSize,b.normalized)}b.name!==void 0&&(T.name=b.name),w.push(T)}a.morphAttributes[x]=w}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let x=0,A=g.length;x!==A;++x){const w=g[x];a.addGroup(w.start,w.count,w.materialIndex)}const y=e.data.boundingSphere;if(y!==void 0){const x=new H;y.center!==void 0&&x.fromArray(y.center),a.boundingSphere=new Fl(x,y.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class vD extends gr{constructor(e){super(e)}load(e,t,n,r){const s=this,a=this.path===""?Sl.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const l=new $r(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(f){let d=null;try{d=JSON.parse(f)}catch(g){r!==void 0&&r(g),console.error("THREE:ObjectLoader: Can't parse "+e+".",g.message);return}const p=d.metadata;if(p===void 0||p.type===void 0||p.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(d,t)},n,r)}async loadAsync(e,t){const n=this,r=this.path===""?Sl.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new $r(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,t),l=JSON.parse(a),f=l.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(l)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){t!==void 0&&t(d)}),l=this.parseTextures(e.textures,a),f=this.parseMaterials(e.materials,l),d=this.parseObject(e.object,s,f,l,n),p=this.parseSkeletons(e.skeletons,d);if(this.bindSkeletons(d,p),t!==void 0){let g=!1;for(const y in a)if(a[y].data instanceof HTMLImageElement){g=!0;break}g===!1&&t(d)}return d}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,a),f=this.parseObject(e.object,r,l,a,t),d=this.parseSkeletons(e.skeletons,f);return this.bindSkeletons(f,d),f}parseShapes(e){const t={};if(e!==void 0)for(let n=0,r=e.length;n<r;n++){const s=new tc().fromJSON(e[n]);t[s.uuid]=s}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const l=new hp().fromJSON(e[s],r);n[l.uuid]=l}return n}parseGeometries(e,t){const n={};if(e!==void 0){const r=new EE;for(let s=0,a=e.length;s<a;s++){let l;const f=e[s];switch(f.type){case"BufferGeometry":case"InstancedBufferGeometry":l=r.parse(f);break;default:f.type in iw?l=iw[f.type].fromJSON(f,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${f.type}"`)}l.uuid=f.uuid,f.name!==void 0&&(l.name=f.name),l.isBufferGeometry===!0&&f.userData!==void 0&&(l.userData=f.userData),n[f.uuid]=l}}return n}parseMaterials(e,t){const n={},r={};if(e!==void 0){const s=new x0;s.setTextures(t);for(let a=0,l=e.length;a<l;a++){const f=e[a];n[f.uuid]===void 0&&(n[f.uuid]=s.parse(f)),r[f.uuid]=n[f.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const r=e[n],s=rh.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const n=this,r={};let s;function a(f){return n.manager.itemStart(f),s.load(f,function(){n.manager.itemEnd(f)},void 0,function(){n.manager.itemError(f),n.manager.itemEnd(f)})}function l(f){if(typeof f=="string"){const d=f,p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:n.resourcePath+d;return a(p)}else return f.data?{data:Gf(f.type,f.data),width:f.width,height:f.height}:null}if(e!==void 0&&e.length>0){const f=new w_(t);s=new ep(f),s.setCrossOrigin(this.crossOrigin);for(let d=0,p=e.length;d<p;d++){const g=e[d],y=g.url;if(Array.isArray(y)){const x=[];for(let A=0,w=y.length;A<w;A++){const S=y[A],E=l(S);E!==null&&(E instanceof HTMLImageElement?x.push(E):x.push(new Qf(E.data,E.width,E.height)))}r[g.uuid]=new Wu(x)}else{const x=l(g.url);r[g.uuid]=new Wu(x)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function s(a){if(typeof a=="string"){const l=a,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:t.resourcePath+l;return await r.loadAsync(f)}else return a.data?{data:Gf(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){r=new ep(this.manager),r.setCrossOrigin(this.crossOrigin);for(let a=0,l=e.length;a<l;a++){const f=e[a],d=f.url;if(Array.isArray(d)){const p=[];for(let g=0,y=d.length;g<y;g++){const x=d[g],A=await s(x);A!==null&&(A instanceof HTMLImageElement?p.push(A):p.push(new Qf(A.data,A.width,A.height)))}n[f.uuid]=new Wu(p)}else{const p=await s(f.url);n[f.uuid]=new Wu(p)}}}return n}parseTextures(e,t){function n(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const r={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const l=e[s];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),t[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const f=t[l.image],d=f.data;let p;Array.isArray(d)?(p=new cp,d.length===6&&(p.needsUpdate=!0)):(d&&d.data?p=new Qf:p=new Gn,d&&(p.needsUpdate=!0)),p.source=f,p.uuid=l.uuid,l.name!==void 0&&(p.name=l.name),l.mapping!==void 0&&(p.mapping=n(l.mapping,xD)),l.offset!==void 0&&p.offset.fromArray(l.offset),l.repeat!==void 0&&p.repeat.fromArray(l.repeat),l.center!==void 0&&p.center.fromArray(l.center),l.rotation!==void 0&&(p.rotation=l.rotation),l.wrap!==void 0&&(p.wrapS=n(l.wrap[0],aw),p.wrapT=n(l.wrap[1],aw)),l.format!==void 0&&(p.format=l.format),l.type!==void 0&&(p.type=l.type),l.encoding!==void 0&&(p.encoding=l.encoding),l.minFilter!==void 0&&(p.minFilter=n(l.minFilter,lw)),l.magFilter!==void 0&&(p.magFilter=n(l.magFilter,lw)),l.anisotropy!==void 0&&(p.anisotropy=l.anisotropy),l.flipY!==void 0&&(p.flipY=l.flipY),l.generateMipmaps!==void 0&&(p.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(p.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(p.unpackAlignment=l.unpackAlignment),l.userData!==void 0&&(p.userData=l.userData),r[l.uuid]=p}return r}parseObject(e,t,n,r,s){let a;function l(y){return t[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",y),t[y]}function f(y){if(y!==void 0){if(Array.isArray(y)){const x=[];for(let A=0,w=y.length;A<w;A++){const S=y[A];n[S]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",S),x.push(n[S])}return x}return n[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),n[y]}}function d(y){return r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",y),r[y]}let p,g;switch(e.type){case"Scene":a=new s_,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new et(e.background):a.background=d(e.background)),e.environment!==void 0&&(a.environment=d(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new d0(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new h0(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":a=new Dn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Zs(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new wE(e.color,e.intensity);break;case"DirectionalLight":a=new E_(e.color,e.intensity);break;case"PointLight":a=new C_(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new SE(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new M_(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new AE(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new v0().fromJSON(e);break;case"SkinnedMesh":p=l(e.geometry),g=f(e.material),a=new a_(p,g),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":p=l(e.geometry),g=f(e.material),a=new Ti(p,g);break;case"InstancedMesh":p=l(e.geometry),g=f(e.material);const y=e.count,x=e.instanceMatrix,A=e.instanceColor;a=new l_(p,g,y),a.instanceMatrix=new rc(new Float32Array(x.array),16),A!==void 0&&(a.instanceColor=new rc(new Float32Array(A.array),A.itemSize));break;case"LOD":a=new qC;break;case"Line":a=new Sa(l(e.geometry),f(e.material));break;case"LineLoop":a=new u_(l(e.geometry),f(e.material));break;case"LineSegments":a=new to(l(e.geometry),f(e.material));break;case"PointCloud":case"Points":a=new c_(l(e.geometry),f(e.material));break;case"Sprite":a=new QC(f(e.material));break;case"Group":a=new ga;break;case"Bone":a=new p0;break;default:a=new sn}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let x=0;x<y.length;x++)a.add(this.parseObject(y[x],t,n,r,s))}if(e.animations!==void 0){const y=e.animations;for(let x=0;x<y.length;x++){const A=y[x];a.animations.push(s[A])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const y=e.levels;for(let x=0;x<y.length;x++){const A=y[x],w=a.getObjectByProperty("uuid",A.object);w!==void 0&&a.addLevel(w,A.distance,A.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const r=t[n.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(r,n.bindMatrix)}})}}const xD={UVMapping:o0,CubeReflectionMapping:Cl,CubeRefractionMapping:El,EquirectangularReflectionMapping:Vd,EquirectangularRefractionMapping:Wd,CubeUVReflectionMapping:fh},aw={RepeatWrapping:Tl,ClampToEdgeWrapping:Hi,MirroredRepeatWrapping:$f},lw={NearestFilter:jn,NearestMipmapNearestFilter:jd,NearestMipmapLinearFilter:Yf,LinearFilter:On,LinearMipmapNearestFilter:a0,LinearMipmapLinearFilter:bo};class TE extends gr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=lc.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader,fetch(e,l).then(function(f){return f.blob()}).then(function(f){return createImageBitmap(f,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(f){lc.add(e,f),t&&t(f),s.manager.itemEnd(e)}).catch(function(f){r&&r(f),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let fg;class T_{static getContext(){return fg===void 0&&(fg=new(window.AudioContext||window.webkitAudioContext)),fg}static setContext(e){fg=e}}class _D extends gr{constructor(e){super(e)}load(e,t,n,r){const s=this,a=new $r(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const f=l.slice(0);T_.getContext().decodeAudioData(f,function(p){t(p)})}catch(f){r?r(f):console.error(f),s.manager.itemError(e)}},n,r)}}class AD extends v0{constructor(e,t,n=1){super(void 0,n),this.isHemisphereLightProbe=!0;const r=new et().set(e),s=new et().set(t),a=new H(r.r,r.g,r.b),l=new H(s.r,s.g,s.b),f=Math.sqrt(Math.PI),d=f*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(l).multiplyScalar(f),this.sh.coefficients[1].copy(a).sub(l).multiplyScalar(d)}}class wD extends v0{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const n=new et().set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const uw=new Lt,cw=new Lt,Cu=new Lt;class SD{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Dn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Dn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Cu.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,a=t.near*Math.tan(Zu*t.fov*.5)/t.zoom;let l,f;cw.elements[12]=-r,uw.elements[12]=r,l=-a*t.aspect+s,f=a*t.aspect+s,Cu.elements[0]=2*t.near/(f-l),Cu.elements[8]=(f+l)/(f-l),this.cameraL.projectionMatrix.copy(Cu),l=-a*t.aspect-s,f=a*t.aspect-s,Cu.elements[0]=2*t.near/(f-l),Cu.elements[8]=(f+l)/(f-l),this.cameraR.projectionMatrix.copy(Cu)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(cw),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(uw)}}class b_{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=fw(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=fw();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function fw(){return(typeof performance>"u"?Date:performance).now()}const Eu=new H,hw=new bi,MD=new H,Tu=new H;class CD extends sn{constructor(){super(),this.type="AudioListener",this.context=T_.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new b_}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Eu,hw,MD),Tu.set(0,0,-1).applyQuaternion(hw),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Eu.x,r),t.positionY.linearRampToValueAtTime(Eu.y,r),t.positionZ.linearRampToValueAtTime(Eu.z,r),t.forwardX.linearRampToValueAtTime(Tu.x,r),t.forwardY.linearRampToValueAtTime(Tu.y,r),t.forwardZ.linearRampToValueAtTime(Tu.z,r),t.upX.linearRampToValueAtTime(n.x,r),t.upY.linearRampToValueAtTime(n.y,r),t.upZ.linearRampToValueAtTime(n.z,r)}else t.setPosition(Eu.x,Eu.y,Eu.z),t.setOrientation(Tu.x,Tu.y,Tu.z,n.x,n.y,n.z)}}class bE extends sn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const bu=new H,dw=new bi,ED=new H,Pu=new H;class TD extends bE{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(bu,dw,ED),Pu.set(0,0,1).applyQuaternion(dw);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(bu.x,n),t.positionY.linearRampToValueAtTime(bu.y,n),t.positionZ.linearRampToValueAtTime(bu.z,n),t.orientationX.linearRampToValueAtTime(Pu.x,n),t.orientationY.linearRampToValueAtTime(Pu.y,n),t.orientationZ.linearRampToValueAtTime(Pu.z,n)}else t.setPosition(bu.x,bu.y,bu.z),t.setOrientation(Pu.x,Pu.y,Pu.z)}}class bD{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class PE{constructor(e,t,n){this.binding=e,this.valueSize=n;let r,s,a;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:r=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,s=e*r+r;let a=this.cumulativeWeight;if(a===0){for(let l=0;l!==r;++l)n[s+l]=n[l];a=t}else{a+=t;const l=t/a;this._mixBufferRegion(n,s,0,l,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const f=t*this._origIndex;this._mixBufferRegion(n,r,f,1-s,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let f=t,d=t+t;f!==d;++f)if(n[f]!==n[f+t]){l.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let s=n,a=r;s!==a;++s)t[s]=t[r+s%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,s){if(r>=.5)for(let a=0;a!==s;++a)e[t+a]=e[n+a]}_slerp(e,t,n,r){bi.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,s){const a=this._workIndex*s;bi.multiplyQuaternionsFlat(e,a,e,t,e,n),bi.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,n,r,s){const a=1-r;for(let l=0;l!==s;++l){const f=t+l;e[f]=e[f]*a+e[n+l]*r}}_lerpAdditive(e,t,n,r,s){for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]+e[n+a]*r}}}const P_="\\[\\]\\.:\\/",PD=new RegExp("["+P_+"]","g"),B_="[^"+P_+"]",BD="[^"+P_.replace("\\.","")+"]",RD=/((?:WC+[\/:])*)/.source.replace("WC",B_),LD=/(WCOD+)?/.source.replace("WCOD",BD),ID=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",B_),DD=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",B_),FD=new RegExp("^"+RD+LD+ID+DD+"$"),ND=["material","materials","bones","map"];class kD{constructor(e,t,n){const r=n||rn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=n.length;r!==s;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class rn{constructor(e,t,n){this.path=t,this.parsedPath=n||rn.parseTrackName(t),this.node=rn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new rn.Composite(e,t,n):new rn(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(PD,"")}static parseTrackName(e){const t=FD.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=n.nodeName.substring(r+1);ND.indexOf(s)!==-1&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=s)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(s){for(let a=0;a<s.length;a++){const l=s[a];if(l.name===t||l.uuid===t)return l;const f=n(l.children);if(f)return f}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=rn.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let d=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let p=0;p<e.length;p++)if(e[p].name===d){d=p;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(d!==void 0){if(e[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[d]}}const a=e[r];if(a===void 0){const d=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+r+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?l=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let f=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}f=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(f=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(f=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[f],this.setValue=this.SetterByBindingTypeAndVersioning[f][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}rn.Composite=kD;rn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};rn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};rn.prototype.GetterByBindingType=[rn.prototype._getValue_direct,rn.prototype._getValue_array,rn.prototype._getValue_arrayElement,rn.prototype._getValue_toArray];rn.prototype.SetterByBindingTypeAndVersioning=[[rn.prototype._setValue_direct,rn.prototype._setValue_direct_setNeedsUpdate,rn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[rn.prototype._setValue_array,rn.prototype._setValue_array_setNeedsUpdate,rn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[rn.prototype._setValue_arrayElement,rn.prototype._setValue_arrayElement_setNeedsUpdate,rn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[rn.prototype._setValue_fromArray,rn.prototype._setValue_fromArray_setNeedsUpdate,rn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class OD{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Zr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,s=this._bindings,a=s.length;let l,f=e.length,d=this.nCachedObjects_;for(let p=0,g=arguments.length;p!==g;++p){const y=arguments[p],x=y.uuid;let A=t[x];if(A===void 0){A=f++,t[x]=A,e.push(y);for(let w=0,S=a;w!==S;++w)s[w].push(new rn(y,n[w],r[w]))}else if(A<d){l=e[A];const w=--d,S=e[w];t[S.uuid]=A,e[A]=S,t[x]=w,e[w]=y;for(let E=0,b=a;E!==b;++E){const T=s[E],R=T[w];let I=T[A];T[A]=R,I===void 0&&(I=new rn(y,n[E],r[E])),T[w]=I}}else e[A]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let s=this.nCachedObjects_;for(let a=0,l=arguments.length;a!==l;++a){const f=arguments[a],d=f.uuid,p=t[d];if(p!==void 0&&p>=s){const g=s++,y=e[g];t[y.uuid]=p,e[p]=y,t[d]=g,e[g]=f;for(let x=0,A=r;x!==A;++x){const w=n[x],S=w[g],E=w[p];w[p]=S,w[g]=E}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let s=this.nCachedObjects_,a=e.length;for(let l=0,f=arguments.length;l!==f;++l){const d=arguments[l],p=d.uuid,g=t[p];if(g!==void 0)if(delete t[p],g<s){const y=--s,x=e[y],A=--a,w=e[A];t[x.uuid]=g,e[g]=x,t[w.uuid]=y,e[y]=w,e.pop();for(let S=0,E=r;S!==E;++S){const b=n[S],T=b[y],R=b[A];b[g]=T,b[y]=R,b.pop()}}else{const y=--a,x=e[y];y>0&&(t[x.uuid]=g),e[g]=x,e.pop();for(let A=0,w=r;A!==w;++A){const S=n[A];S[g]=S[y],S.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const s=this._bindings;if(r!==void 0)return s[r];const a=this._paths,l=this._parsedPaths,f=this._objects,d=f.length,p=this.nCachedObjects_,g=new Array(d);r=s.length,n[e]=r,a.push(e),l.push(t),s.push(g);for(let y=p,x=f.length;y!==x;++y){const A=f[y];g[y]=new rn(A,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const r=this._paths,s=this._parsedPaths,a=this._bindings,l=a.length-1,f=a[l],d=e[l];t[d]=n,a[n]=f,a.pop(),s[n]=s[l],s.pop(),r[n]=r[l],r.pop()}}}class UD{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const s=t.tracks,a=s.length,l=new Array(a),f={endingStart:Hu,endingEnd:Hu};for(let d=0;d!==a;++d){const p=s[d].createInterpolant(null);l[d]=p,p.settings=f}this._interpolantSettings=f,this._interpolants=l,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=TC,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const r=this._clip.duration,s=e._clip.duration,a=s/r,l=r/s;e.warp(1,a,t),this.warp(l,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,s=r.time,a=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=r._lendControlInterpolant(),this._timeScaleInterpolant=l);const f=l.parameterPositions,d=l.sampleValues;return f[0]=s,f[1]=s+n,d[0]=e/a,d[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const f=(e-s)*n;f<0||n===0?t=0:(this._startTime=null,t=n*f)}t*=this._updateTimeScale(e);const a=this._updateTime(t),l=this._updateWeight(e);if(l>0){const f=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case Jx:for(let p=0,g=f.length;p!==g;++p)f[p].evaluate(a),d[p].accumulateAdditive(l);break;case l0:default:for(let p=0,g=f.length;p!==g;++p)f[p].evaluate(a),d[p].accumulate(r,l)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,s=this._loopCount;const a=n===bC;if(e===0)return s===-1?r:a&&(s&1)===1?t-r:r;if(n===EC){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=t||r<0){const l=Math.floor(r/t);r-=t*l,s+=Math.abs(l);const f=this.repetitions-s;if(f<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(f===1){const d=e<0;this._setEndings(d,!d,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=r;if(a&&(s&1)===1)return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=Vu,r.endingEnd=Vu):(e?r.endingStart=this.zeroSlopeAtStart?Vu:Hu:r.endingStart=Jd,t?r.endingEnd=this.zeroSlopeAtEnd?Vu:Hu:r.endingEnd=Jd)}_scheduleFading(e,t,n){const r=this._mixer,s=r.time;let a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const l=a.parameterPositions,f=a.sampleValues;return l[0]=s,f[0]=t,l[1]=s+e,f[1]=n,this}}const zD=new Float32Array(1);class GD extends Ca{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,s=r.length,a=e._propertyBindings,l=e._interpolants,f=n.uuid,d=this._bindingsByRootAndName;let p=d[f];p===void 0&&(p={},d[f]=p);for(let g=0;g!==s;++g){const y=r[g],x=y.name;let A=p[x];if(A!==void 0)++A.referenceCount,a[g]=A;else{if(A=a[g],A!==void 0){A._cacheIndex===null&&(++A.referenceCount,this._addInactiveBinding(A,f,x));continue}const w=t&&t._propertyBindings[g].binding.parsedPath;A=new PE(rn.create(n,x,w),y.ValueTypeName,y.getValueSize()),++A.referenceCount,this._addInactiveBinding(A,f,x),a[g]=A}l[g].resultBuffer=A.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,n)}const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,s=this._actionsByClip;let a=s[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=a;else{const l=a.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,l=a[s],f=l.knownActions,d=f[f.length-1],p=e._byClipCacheIndex;d._byClipCacheIndex=p,f[p]=d,f.pop(),e._byClipCacheIndex=null;const g=l.actionByRoot,y=(e._localRoot||this._root).uuid;delete g[y],f.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const s=t[n];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,s=this._bindings;let a=r[t];a===void 0&&(a={},r[t]=a),a[n]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,s=n.path,a=this._bindingsByRootAndName,l=a[r],f=t[t.length-1],d=e._cacheIndex;f._cacheIndex=d,t[d]=f,t.pop(),delete l[s],Object.keys(l).length===0&&delete a[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=n,t[n]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new __(new Float32Array(2),new Float32Array(2),1,zD),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=n,t[n]=s}clipAction(e,t,n){const r=t||this._root,s=r.uuid;let a=typeof e=="string"?rh.findByName(r,e):e;const l=a!==null?a.uuid:e,f=this._actionsByClip[l];let d=null;if(n===void 0&&(a!==null?n=a.blendMode:n=l0),f!==void 0){const g=f.actionByRoot[s];if(g!==void 0&&g.blendMode===n)return g;d=f.knownActions[0],a===null&&(a=d._clip)}if(a===null)return null;const p=new UD(this,a,t,n);return this._bindAction(p,d),this._addInactiveAction(p,l,s),p}existingAction(e,t){const n=t||this._root,r=n.uuid,s=typeof e=="string"?rh.findByName(n,e):e,a=s?s.uuid:e,l=this._actionsByClip[a];return l!==void 0&&l.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let d=0;d!==n;++d)t[d]._update(r,e,s,a);const l=this._bindings,f=this._nActiveBindings;for(let d=0;d!==f;++d)l[d].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,s=r[n];if(s!==void 0){const a=s.knownActions;for(let l=0,f=a.length;l!==f;++l){const d=a[l];this._deactivateAction(d);const p=d._cacheIndex,g=t[t.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,g._cacheIndex=p,t[p]=g,t.pop(),this._removeInactiveBindingsForAction(d)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const a in n){const l=n[a].actionByRoot,f=l[t];f!==void 0&&(this._deactivateAction(f),this._removeInactiveAction(f))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const a in s){const l=s[a];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class R_{constructor(e){this.value=e}clone(){return new R_(this.value.clone===void 0?this.value:this.value.clone())}}let HD=0;class VD extends Ca{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:HD++}),this.name="",this.usage=Xd,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++)this.uniforms.push(t[n].clone());return this}clone(){return new this.constructor().copy(this)}}class WD extends fp{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class jD{constructor(e,t,n,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class BE{constructor(e,t,n=0,r=1/0){this.ray=new hh(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new ec,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return hx(e,this,n,t),n.sort(pw),n}intersectObjects(e,t=!0,n=[]){for(let r=0,s=e.length;r<s;r++)hx(e[r],this,n,t);return n.sort(pw),n}}function pw(i,e){return i.distance-e.distance}function hx(i,e,t,n){if(i.layers.test(e.layers)&&i.raycast(e,t),n===!0){const r=i.children;for(let s=0,a=r.length;s<a;s++)hx(r[s],e,t,!0)}}class dx{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Zn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class JD{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}const mw=new Be;class XD{constructor(e=new Be(1/0,1/0),t=new Be(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=mw.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return mw.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const gw=new H,hg=new H;class KD{constructor(e=new H,t=new H){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){gw.subVectors(e,this.start),hg.subVectors(this.end,this.start);const n=hg.dot(hg);let s=hg.dot(gw)/n;return t&&(s=Zn(s,0,1)),s}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const yw=new H;class YD extends sn{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new Vt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,l=1,f=32;a<f;a++,l++){const d=a/f*Math.PI*2,p=l/f*Math.PI*2;r.push(Math.cos(d),Math.sin(d),1,Math.cos(p),Math.sin(p),1)}n.setAttribute("position",new pt(r,3));const s=new er({fog:!1,toneMapped:!1});this.cone=new to(n,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),yw.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(yw),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const gl=new H,dg=new Lt,Wy=new Lt;class QD extends to{constructor(e){const t=RE(e),n=new Vt,r=[],s=[],a=new et(0,0,1),l=new et(0,1,0);for(let d=0;d<t.length;d++){const p=t[d];p.parent&&p.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(a.r,a.g,a.b),s.push(l.r,l.g,l.b))}n.setAttribute("position",new pt(r,3)),n.setAttribute("color",new pt(s,3));const f=new er({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,f),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");Wy.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<t.length;s++){const l=t[s];l.parent&&l.parent.isBone&&(dg.multiplyMatrices(Wy,l.matrixWorld),gl.setFromMatrixPosition(dg),r.setXYZ(a,gl.x,gl.y,gl.z),dg.multiplyMatrices(Wy,l.parent.matrixWorld),gl.setFromMatrixPosition(dg),r.setXYZ(a+1,gl.x,gl.y,gl.z),a+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function RE(i){const e=[];i.isBone===!0&&e.push(i);for(let t=0;t<i.children.length;t++)e.push.apply(e,RE(i.children[t]));return e}class qD extends Ti{constructor(e,t,n){const r=new yh(t,4,2),s=new qr({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const ZD=new H,vw=new et,xw=new et;class $D extends sn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new gh(t);r.rotateY(Math.PI*.5),this.material=new qr({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),a=new Float32Array(s.count*3);r.setAttribute("color",new cn(a,3)),this.add(new Ti(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");vw.copy(this.light.color),xw.copy(this.light.groundColor);for(let n=0,r=t.count;n<r;n++){const s=n<r/2?vw:xw;t.setXYZ(n,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(ZD.setFromMatrixPosition(this.light.matrixWorld).negate())}}class eF extends to{constructor(e=10,t=10,n=4473924,r=8947848){n=new et(n),r=new et(r);const s=t/2,a=e/t,l=e/2,f=[],d=[];for(let y=0,x=0,A=-l;y<=t;y++,A+=a){f.push(-l,0,A,l,0,A),f.push(A,0,-l,A,0,l);const w=y===s?n:r;w.toArray(d,x),x+=3,w.toArray(d,x),x+=3,w.toArray(d,x),x+=3,w.toArray(d,x),x+=3}const p=new Vt;p.setAttribute("position",new pt(f,3)),p.setAttribute("color",new pt(d,3));const g=new er({vertexColors:!0,toneMapped:!1});super(p,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class tF extends to{constructor(e=10,t=16,n=8,r=64,s=4473924,a=8947848){s=new et(s),a=new et(a);const l=[],f=[];if(t>1)for(let g=0;g<t;g++){const y=g/t*(Math.PI*2),x=Math.sin(y)*e,A=Math.cos(y)*e;l.push(0,0,0),l.push(x,0,A);const w=g&1?s:a;f.push(w.r,w.g,w.b),f.push(w.r,w.g,w.b)}for(let g=0;g<n;g++){const y=g&1?s:a,x=e-e/n*g;for(let A=0;A<r;A++){let w=A/r*(Math.PI*2),S=Math.sin(w)*x,E=Math.cos(w)*x;l.push(S,0,E),f.push(y.r,y.g,y.b),w=(A+1)/r*(Math.PI*2),S=Math.sin(w)*x,E=Math.cos(w)*x,l.push(S,0,E),f.push(y.r,y.g,y.b)}}const d=new Vt;d.setAttribute("position",new pt(l,3)),d.setAttribute("color",new pt(f,3));const p=new er({vertexColors:!0,toneMapped:!1});super(d,p),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _w=new H,pg=new H,Aw=new H;class nF extends sn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Vt;r.setAttribute("position",new pt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new er({fog:!1,toneMapped:!1});this.lightPlane=new Sa(r,s),this.add(this.lightPlane),r=new Vt,r.setAttribute("position",new pt([0,0,0,0,0,1],3)),this.targetLine=new Sa(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_w.setFromMatrixPosition(this.light.matrixWorld),pg.setFromMatrixPosition(this.light.target.matrixWorld),Aw.subVectors(pg,_w),this.lightPlane.lookAt(pg),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(pg),this.targetLine.scale.z=Aw.length()}}const mg=new H,Wn=new up;class iF extends to{constructor(e){const t=new Vt,n=new er({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],a={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(A,w){f(A),f(w)}function f(A){r.push(0,0,0),s.push(0,0,0),a[A]===void 0&&(a[A]=[]),a[A].push(r.length/3-1)}t.setAttribute("position",new pt(r,3)),t.setAttribute("color",new pt(s,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const d=new et(16755200),p=new et(16711680),g=new et(43775),y=new et(16777215),x=new et(3355443);this.setColors(d,p,g,y,x)}setColors(e,t,n,r,s){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,t.r,t.g,t.b),l.setXYZ(25,t.r,t.g,t.b),l.setXYZ(26,t.r,t.g,t.b),l.setXYZ(27,t.r,t.g,t.b),l.setXYZ(28,t.r,t.g,t.b),l.setXYZ(29,t.r,t.g,t.b),l.setXYZ(30,t.r,t.g,t.b),l.setXYZ(31,t.r,t.g,t.b),l.setXYZ(32,n.r,n.g,n.b),l.setXYZ(33,n.r,n.g,n.b),l.setXYZ(34,n.r,n.g,n.b),l.setXYZ(35,n.r,n.g,n.b),l.setXYZ(36,n.r,n.g,n.b),l.setXYZ(37,n.r,n.g,n.b),l.setXYZ(38,r.r,r.g,r.b),l.setXYZ(39,r.r,r.g,r.b),l.setXYZ(40,s.r,s.g,s.b),l.setXYZ(41,s.r,s.g,s.b),l.setXYZ(42,s.r,s.g,s.b),l.setXYZ(43,s.r,s.g,s.b),l.setXYZ(44,s.r,s.g,s.b),l.setXYZ(45,s.r,s.g,s.b),l.setXYZ(46,s.r,s.g,s.b),l.setXYZ(47,s.r,s.g,s.b),l.setXYZ(48,s.r,s.g,s.b),l.setXYZ(49,s.r,s.g,s.b),l.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,n=1,r=1;Wn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),qn("c",t,e,Wn,0,0,-1),qn("t",t,e,Wn,0,0,1),qn("n1",t,e,Wn,-1,-1,-1),qn("n2",t,e,Wn,n,-1,-1),qn("n3",t,e,Wn,-1,r,-1),qn("n4",t,e,Wn,n,r,-1),qn("f1",t,e,Wn,-1,-1,1),qn("f2",t,e,Wn,n,-1,1),qn("f3",t,e,Wn,-1,r,1),qn("f4",t,e,Wn,n,r,1),qn("u1",t,e,Wn,n*.7,r*1.1,-1),qn("u2",t,e,Wn,-1*.7,r*1.1,-1),qn("u3",t,e,Wn,0,r*2,-1),qn("cf1",t,e,Wn,-1,0,1),qn("cf2",t,e,Wn,n,0,1),qn("cf3",t,e,Wn,0,-1,1),qn("cf4",t,e,Wn,0,r,1),qn("cn1",t,e,Wn,-1,0,-1),qn("cn2",t,e,Wn,n,0,-1),qn("cn3",t,e,Wn,0,-1,-1),qn("cn4",t,e,Wn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function qn(i,e,t,n,r,s,a){mg.set(r,s,a).unproject(n);const l=e[i];if(l!==void 0){const f=t.getAttribute("position");for(let d=0,p=l.length;d<p;d++)f.setXYZ(l[d],mg.x,mg.y,mg.z)}}const gg=new Dl;class rF extends to{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new Vt;s.setIndex(new cn(n,1)),s.setAttribute("position",new cn(r,3)),super(s,new er({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&gg.setFromObject(this.object),gg.isEmpty())return;const t=gg.min,n=gg.max,r=this.geometry.attributes.position,s=r.array;s[0]=n.x,s[1]=n.y,s[2]=n.z,s[3]=t.x,s[4]=n.y,s[5]=n.z,s[6]=t.x,s[7]=t.y,s[8]=n.z,s[9]=n.x,s[10]=t.y,s[11]=n.z,s[12]=n.x,s[13]=n.y,s[14]=t.z,s[15]=t.x,s[16]=n.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=n.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class sF extends to{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Vt;s.setIndex(new cn(n,1)),s.setAttribute("position",new pt(r,3)),super(s,new er({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class oF extends Sa{constructor(e,t=1,n=16776960){const r=n,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Vt;a.setAttribute("position",new pt(s,3)),a.computeBoundingSphere(),super(a,new er({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],f=new Vt;f.setAttribute("position",new pt(l,3)),f.computeBoundingSphere(),this.add(new Ti(f,new qr({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const ww=new H;let yg,jy;class aF extends sn{constructor(e=new H(0,0,1),t=new H(0,0,0),n=1,r=16776960,s=n*.2,a=s*.2){super(),this.type="ArrowHelper",yg===void 0&&(yg=new Vt,yg.setAttribute("position",new pt([0,0,0,0,1,0],3)),jy=new uc(0,.5,1,5,1),jy.translate(0,-.5,0)),this.position.copy(t),this.line=new Sa(yg,new er({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ti(jy,new qr({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{ww.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(ww,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class lF extends to{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Vt;r.setAttribute("position",new pt(t,3)),r.setAttribute("color",new pt(n,3));const s=new er({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,n){const r=new et,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(n),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class uF{constructor(){this.type="ShapePath",this.color=new et,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Qd,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,s,a){return this.currentPath.bezierCurveTo(e,t,n,r,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(E){const b=[];for(let T=0,R=E.length;T<R;T++){const I=E[T],F=new tc;F.curves=I.curves,b.push(F)}return b}function n(E,b){const T=b.length;let R=!1;for(let I=T-1,F=0;F<T;I=F++){let z=b[I],D=b[F],O=D.x-z.x,G=D.y-z.y;if(Math.abs(G)>Number.EPSILON){if(G<0&&(z=b[F],O=-O,D=b[I],G=-G),E.y<z.y||E.y>D.y)continue;if(E.y===z.y){if(E.x===z.x)return!0}else{const Y=G*(E.x-z.x)-O*(E.y-z.y);if(Y===0)return!0;if(Y<0)continue;R=!R}}else{if(E.y!==z.y)continue;if(D.x<=E.x&&E.x<=z.x||z.x<=E.x&&E.x<=D.x)return!0}}return R}const r=Co.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,l,f;const d=[];if(s.length===1)return l=s[0],f=new tc,f.curves=l.curves,d.push(f),d;let p=!r(s[0].getPoints());p=e?!p:p;const g=[],y=[];let x=[],A=0,w;y[A]=void 0,x[A]=[];for(let E=0,b=s.length;E<b;E++)l=s[E],w=l.getPoints(),a=r(w),a=e?!a:a,a?(!p&&y[A]&&A++,y[A]={s:new tc,p:w},y[A].s.curves=l.curves,p&&A++,x[A]=[]):x[A].push({h:l,p:w[0]});if(!y[0])return t(s);if(y.length>1){let E=!1,b=0;for(let T=0,R=y.length;T<R;T++)g[T]=[];for(let T=0,R=y.length;T<R;T++){const I=x[T];for(let F=0;F<I.length;F++){const z=I[F];let D=!0;for(let O=0;O<y.length;O++)n(z.p,y[O].p)&&(T!==O&&b++,D?(D=!1,g[O].push(z)):E=!0);D&&g[T].push(z)}}b>0&&E===!1&&(x=g)}let S;for(let E=0,b=y.length;E<b;E++){f=y[E].s,d.push(f),S=x[E];for(let T=0,R=S.length;T<R;T++)f.holes.push(S[T].h)}return d}}const da=cF();function cF(){const i=new ArrayBuffer(4),e=new Float32Array(i),t=new Uint32Array(i),n=new Uint32Array(512),r=new Uint32Array(512);for(let f=0;f<256;++f){const d=f-127;d<-27?(n[f]=0,n[f|256]=32768,r[f]=24,r[f|256]=24):d<-14?(n[f]=1024>>-d-14,n[f|256]=1024>>-d-14|32768,r[f]=-d-1,r[f|256]=-d-1):d<=15?(n[f]=d+15<<10,n[f|256]=d+15<<10|32768,r[f]=13,r[f|256]=13):d<128?(n[f]=31744,n[f|256]=64512,r[f]=24,r[f|256]=24):(n[f]=31744,n[f|256]=64512,r[f]=13,r[f|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),l=new Uint32Array(64);for(let f=1;f<1024;++f){let d=f<<13,p=0;for(;(d&8388608)===0;)d<<=1,p-=8388608;d&=-8388609,p+=947912704,s[f]=d|p}for(let f=1024;f<2048;++f)s[f]=939524096+(f-1024<<13);for(let f=1;f<31;++f)a[f]=f<<23;a[31]=1199570944,a[32]=2147483648;for(let f=33;f<63;++f)a[f]=2147483648+(f-32<<23);a[63]=3347054592;for(let f=1;f<64;++f)f!==32&&(l[f]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:r,mantissaTable:s,exponentTable:a,offsetTable:l}}function fF(i){Math.abs(i)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),i=Zn(i,-65504,65504),da.floatView[0]=i;const e=da.uint32View[0],t=e>>23&511;return da.baseTable[t]+((e&8388607)>>da.shiftTable[t])}function hF(i){const e=i>>10;return da.uint32View[0]=da.mantissaTable[da.offsetTable[e]+(i&1023)]+da.exponentTable[e],da.floatView[0]}var dF=Object.freeze({__proto__:null,fromHalfFloat:hF,toHalfFloat:fF});class pF extends Nl{constructor(e,t,n,r,s,a){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,n,r,s,a)}}class mF extends pp{constructor(e,t,n,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,n,r)}}class gF extends mp{constructor(e,t,n,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,n,r)}}class yF extends gp{constructor(e,t,n,r,s,a,l){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,n,r,s,a,l)}}class vF extends uc{constructor(e,t,n,r,s,a,l,f){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,n,r,s,a,l,f)}}class xF extends yp{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class _F extends vp{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class AF extends xp{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class wF extends mh{constructor(e,t,n,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,n,r)}}class SF extends gh{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class MF extends dh{constructor(e,t,n,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,n,r)}}class CF extends Ea{constructor(e,t,n,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,n,r)}}class EF extends _p{constructor(e,t,n,r,s,a){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,n,r,s,a)}}class TF extends Ap{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class bF extends yh{constructor(e,t,n,r,s,a,l){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,n,r,s,a,l)}}class PF extends wp{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class BF extends Sp{constructor(e,t,n,r,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,n,r,s)}}class RF extends Mp{constructor(e,t,n,r,s,a){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,n,r,s,a)}}class LF extends Cp{constructor(e,t,n,r,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,n,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:ch}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=ch);const IF=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Wx,AddEquation:Ou,AddOperation:oC,AdditiveAnimationBlendMode:Jx,AdditiveBlending:Bv,AlphaFormat:gC,AlwaysDepth:$M,AlwaysStencilFunc:IC,AmbientLight:wE,AmbientLightProbe:wD,AnimationClip:rh,AnimationLoader:fD,AnimationMixer:GD,AnimationObjectGroup:OD,AnimationUtils:aD,ArcCurve:ZC,ArrayCamera:JC,ArrowHelper:aF,Audio:bE,AudioAnalyser:bD,AudioContext:T_,AudioListener:CD,AudioLoader:_D,AxesHelper:lF,BackSide:Nr,BasicDepthPacking:BC,BasicShadowMap:UM,Bone:p0,BooleanKeyframeTrack:cc,Box2:XD,Box3:Dl,Box3Helper:sF,BoxBufferGeometry:pF,BoxGeometry:Nl,BoxHelper:rF,BufferAttribute:cn,BufferGeometry:Vt,BufferGeometryLoader:EE,ByteType:fC,Cache:lc,Camera:up,CameraHelper:iF,CanvasTexture:RI,CapsuleBufferGeometry:mF,CapsuleGeometry:pp,CatmullRomCurve3:$C,CineonToneMapping:uC,CircleBufferGeometry:gF,CircleGeometry:mp,ClampToEdgeWrapping:Hi,Clock:b_,Color:et,ColorKeyframeTrack:A_,ColorManagement:$i,CompressedArrayTexture:BI,CompressedTexture:f_,CompressedTextureLoader:hD,ConeBufferGeometry:yF,ConeGeometry:gp,CubeCamera:$x,CubeReflectionMapping:Cl,CubeRefractionMapping:El,CubeTexture:cp,CubeTextureLoader:dD,CubeUVReflectionMapping:fh,CubicBezierCurve:d_,CubicBezierCurve3:eE,CubicInterpolant:yE,CullFaceBack:Pv,CullFaceFront:OM,CullFaceFrontBack:k2,CullFaceNone:kM,Curve:no,CurvePath:nE,CustomBlending:zM,CustomToneMapping:cC,CylinderBufferGeometry:vF,CylinderGeometry:uc,Cylindrical:JD,Data3DTexture:Qx,DataArrayTexture:u0,DataTexture:Qf,DataTextureLoader:pD,DataUtils:dF,DecrementStencilOp:X2,DecrementWrapStencilOp:Y2,DefaultLoadingManager:Wf,DepthFormat:wl,DepthStencilFormat:nc,DepthTexture:XC,DirectionalLight:E_,DirectionalLightHelper:nF,DiscreteInterpolant:vE,DodecahedronBufferGeometry:xF,DodecahedronGeometry:yp,DoubleSide:Ys,DstAlphaFactor:XM,DstColorFactor:YM,DynamicCopyUsage:uP,DynamicDrawUsage:qu,DynamicReadUsage:oP,EdgesGeometry:iE,EllipseCurve:m0,EqualDepth:tC,EqualStencilFunc:$2,EquirectangularReflectionMapping:Vd,EquirectangularRefractionMapping:Wd,Euler:lp,EventDispatcher:Ca,ExtrudeBufferGeometry:_F,ExtrudeGeometry:vp,FileLoader:$r,Float16BufferAttribute:VP,Float32BufferAttribute:pt,Float64BufferAttribute:WP,FloatType:pa,Fog:d0,FogExp2:h0,FramebufferTexture:PI,FrontSide:To,Frustum:c0,GLBufferAttribute:jD,GLSL1:fP,GLSL3:rx,GreaterDepth:iC,GreaterEqualDepth:nC,GreaterEqualStencilFunc:iP,GreaterStencilFunc:tP,GridHelper:eF,Group:ga,HalfFloatType:eh,HemisphereLight:AE,HemisphereLightHelper:$D,HemisphereLightProbe:AD,IcosahedronBufferGeometry:AF,IcosahedronGeometry:xp,ImageBitmapLoader:TE,ImageLoader:ep,ImageUtils:Yx,IncrementStencilOp:J2,IncrementWrapStencilOp:K2,InstancedBufferAttribute:rc,InstancedBufferGeometry:CE,InstancedInterleavedBuffer:WD,InstancedMesh:l_,Int16BufferAttribute:GP,Int32BufferAttribute:HP,Int8BufferAttribute:OP,IntType:dC,InterleavedBuffer:fp,InterleavedBufferAttribute:Pl,Interpolant:vh,InterpolateDiscrete:th,InterpolateLinear:ic,InterpolateSmooth:Lg,InvertStencilOp:Q2,KeepStencilOp:Ig,KeyframeTrack:io,LOD:qC,LatheBufferGeometry:wF,LatheGeometry:mh,Layers:ec,LessDepth:eC,LessEqualDepth:Gg,LessEqualStencilFunc:eP,LessStencilFunc:Z2,Light:kl,LightProbe:v0,Line:Sa,Line3:KD,LineBasicMaterial:er,LineCurve:g0,LineCurve3:tE,LineDashedMaterial:mE,LineLoop:u_,LineSegments:to,LinearEncoding:bl,LinearFilter:On,LinearInterpolant:__,LinearMipMapLinearFilter:H2,LinearMipMapNearestFilter:G2,LinearMipmapLinearFilter:bo,LinearMipmapNearestFilter:a0,LinearSRGBColorSpace:nh,LinearToneMapping:aC,Loader:gr,LoaderUtils:Sl,LoadingManager:w_,LoopOnce:EC,LoopPingPong:bC,LoopRepeat:TC,LuminanceAlphaFormat:vC,LuminanceFormat:yC,MOUSE:Iu,Material:vi,MaterialLoader:x0,MathUtils:FC,Matrix3:dr,Matrix4:Lt,MaxEquation:Dv,Mesh:Ti,MeshBasicMaterial:qr,MeshDepthMaterial:n_,MeshDistanceMaterial:i_,MeshLambertMaterial:dE,MeshMatcapMaterial:pE,MeshNormalMaterial:hE,MeshPhongMaterial:cE,MeshPhysicalMaterial:xs,MeshStandardMaterial:Ep,MeshToonMaterial:fE,MinEquation:Iv,MirroredRepeatWrapping:$f,MixOperation:sC,MultiplyBlending:Lv,MultiplyOperation:ap,NearestFilter:jn,NearestMipMapLinearFilter:z2,NearestMipMapNearestFilter:U2,NearestMipmapLinearFilter:Yf,NearestMipmapNearestFilter:jd,NeverDepth:ZM,NeverStencilFunc:q2,NoBlending:va,NoColorSpace:V2,NoToneMapping:qs,NormalAnimationBlendMode:l0,NormalBlending:Yu,NotEqualDepth:rC,NotEqualStencilFunc:nP,NumberKeyframeTrack:oc,Object3D:sn,ObjectLoader:vD,ObjectSpaceNormalMap:LC,OctahedronBufferGeometry:SF,OctahedronGeometry:gh,OneFactor:WM,OneMinusDstAlphaFactor:KM,OneMinusDstColorFactor:QM,OneMinusSrcAlphaFactor:Vx,OneMinusSrcColorFactor:JM,OrthographicCamera:Zs,PCFShadowMap:s0,PCFSoftShadowMap:Rd,PMREMGenerator:ox,Path:Qd,PerspectiveCamera:Dn,Plane:fa,PlaneBufferGeometry:MF,PlaneGeometry:dh,PlaneHelper:oF,PointLight:C_,PointLightHelper:qD,Points:c_,PointsMaterial:dp,PolarGridHelper:tF,PolyhedronBufferGeometry:CF,PolyhedronGeometry:Ea,PositionalAudio:TD,PropertyBinding:rn,PropertyMixer:PE,QuadraticBezierCurve:p_,QuadraticBezierCurve3:m_,Quaternion:bi,QuaternionKeyframeTrack:Bl,QuaternionLinearInterpolant:xE,RED_GREEN_RGTC2_Format:nx,RED_RGTC1_Format:CC,REVISION:ch,RGBADepthPacking:RC,RGBAFormat:Fr,RGBAIntegerFormat:SC,RGBA_ASTC_10x10_Format:Zv,RGBA_ASTC_10x5_Format:Yv,RGBA_ASTC_10x6_Format:Qv,RGBA_ASTC_10x8_Format:qv,RGBA_ASTC_12x10_Format:$v,RGBA_ASTC_12x12_Format:ex,RGBA_ASTC_4x4_Format:Gv,RGBA_ASTC_5x4_Format:Hv,RGBA_ASTC_5x5_Format:Vv,RGBA_ASTC_6x5_Format:Wv,RGBA_ASTC_6x6_Format:jv,RGBA_ASTC_8x5_Format:Jv,RGBA_ASTC_8x6_Format:Xv,RGBA_ASTC_8x8_Format:Kv,RGBA_BPTC_Format:Rg,RGBA_ETC2_EAC_Format:zv,RGBA_PVRTC_2BPPV1_Format:Ov,RGBA_PVRTC_4BPPV1_Format:kv,RGBA_S3TC_DXT1_Format:bg,RGBA_S3TC_DXT3_Format:Pg,RGBA_S3TC_DXT5_Format:Bg,RGB_ETC1_Format:MC,RGB_ETC2_Format:Uv,RGB_PVRTC_2BPPV1_Format:Nv,RGB_PVRTC_4BPPV1_Format:Fv,RGB_S3TC_DXT1_Format:Tg,RGFormat:AC,RGIntegerFormat:wC,RawShaderMaterial:uE,Ray:hh,Raycaster:BE,RectAreaLight:SE,RedFormat:xC,RedIntegerFormat:_C,ReinhardToneMapping:lC,RepeatWrapping:Tl,ReplaceStencilOp:j2,ReverseSubtractEquation:HM,RingBufferGeometry:EF,RingGeometry:_p,SIGNED_RED_GREEN_RGTC2_Format:ix,SIGNED_RED_RGTC1_Format:tx,SRGBColorSpace:Xs,Scene:s_,ShaderChunk:Wt,ShaderLib:Ks,ShaderMaterial:Po,ShadowMaterial:lE,Shape:tc,ShapeBufferGeometry:TF,ShapeGeometry:Ap,ShapePath:uF,ShapeUtils:Co,ShortType:hC,Skeleton:hp,SkeletonHelper:QD,SkinnedMesh:a_,Source:Wu,Sphere:Fl,SphereBufferGeometry:bF,SphereGeometry:yh,Spherical:dx,SphericalHarmonics3:ME,SplineCurve:g_,SpotLight:M_,SpotLightHelper:YD,Sprite:QC,SpriteMaterial:o_,SrcAlphaFactor:Hx,SrcAlphaSaturateFactor:qM,SrcColorFactor:jM,StaticCopyUsage:lP,StaticDrawUsage:Xd,StaticReadUsage:sP,StereoCamera:SD,StreamCopyUsage:cP,StreamDrawUsage:rP,StreamReadUsage:aP,StringKeyframeTrack:fc,SubtractEquation:GM,SubtractiveBlending:Rv,TOUCH:Du,TangentSpaceNormalMap:Il,TetrahedronBufferGeometry:PF,TetrahedronGeometry:wp,Texture:Gn,TextureLoader:_E,TorusBufferGeometry:BF,TorusGeometry:Sp,TorusKnotBufferGeometry:RF,TorusKnotGeometry:Mp,Triangle:vs,TriangleFanDrawMode:Hg,TriangleStripDrawMode:Xx,TrianglesDrawMode:PC,TubeBufferGeometry:LF,TubeGeometry:Cp,TwoPassDoubleSide:O2,UVMapping:o0,Uint16BufferAttribute:qx,Uint32BufferAttribute:Zx,Uint8BufferAttribute:UP,Uint8ClampedBufferAttribute:zP,Uniform:R_,UniformsGroup:VD,UniformsLib:qe,UniformsUtils:UC,UnsignedByteType:wa,UnsignedInt248Type:Qu,UnsignedIntType:Al,UnsignedShort4444Type:pC,UnsignedShort5551Type:mC,UnsignedShortType:jx,VSMShadowMap:Gu,Vector2:Be,Vector3:H,Vector4:pn,VectorKeyframeTrack:ac,VideoTexture:bI,WebGL1Renderer:KC,WebGL3DRenderTarget:bP,WebGLArrayRenderTarget:TP,WebGLCubeRenderTarget:e_,WebGLMultipleRenderTargets:PP,WebGLRenderTarget:eo,WebGLRenderer:r_,WebGLUtils:jC,WireframeGeometry:aE,WrapAroundEnding:Jd,ZeroCurvatureEnding:Hu,ZeroFactor:VM,ZeroSlopeEnding:Vu,ZeroStencilOp:W2,_SRGBAFormat:Vg,sRGBEncoding:Sn},Symbol.toStringTag,{value:"Module"}));var Jy={exports:{}},yl={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sw;function DF(){return Sw||(Sw=1,yl.ConcurrentRoot=1,yl.ContinuousEventPriority=4,yl.DefaultEventPriority=16,yl.DiscreteEventPriority=1,yl.IdleEventPriority=536870912,yl.LegacyRoot=0),yl}var Mw;function FF(){return Mw||(Mw=1,Jy.exports=DF()),Jy.exports}var jf=FF();function NF(i){let e;const t=new Set,n=(d,p)=>{const g=typeof d=="function"?d(e):d;if(g!==e){const y=e;e=p?g:Object.assign({},e,g),t.forEach(x=>x(e,y))}},r=()=>e,s=(d,p=r,g=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let y=p(e);function x(){const A=p(e);if(!g(y,A)){const w=y;d(y=A,w)}}return t.add(x),()=>t.delete(x)},f={setState:n,getState:r,subscribe:(d,p,g)=>p||g?s(d,p,g):(t.add(d),()=>t.delete(d)),destroy:()=>t.clear()};return e=i(n,r,f),f}const kF=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Cw=kF?Z.useEffect:Z.useLayoutEffect;function OF(i){const e=typeof i=="function"?NF(i):i,t=(n=e.getState,r=Object.is)=>{const[,s]=Z.useReducer(S=>S+1,0),a=e.getState(),l=Z.useRef(a),f=Z.useRef(n),d=Z.useRef(r),p=Z.useRef(!1),g=Z.useRef();g.current===void 0&&(g.current=n(a));let y,x=!1;(l.current!==a||f.current!==n||d.current!==r||p.current)&&(y=n(a),x=!r(g.current,y)),Cw(()=>{x&&(g.current=y),l.current=a,f.current=n,d.current=r,p.current=!1});const A=Z.useRef(a);Cw(()=>{const S=()=>{try{const b=e.getState(),T=f.current(b);d.current(g.current,T)||(l.current=b,g.current=T,s())}catch{p.current=!0,s()}},E=e.subscribe(S);return e.getState()!==A.current&&S(),E},[]);const w=x?y:g.current;return Z.useDebugValue(w),w};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const n=[t,e];return{next(){const r=n.length<=0;return{value:n.shift(),done:r}}}},t}const UF=i=>typeof i=="object"&&typeof i.then=="function",Ju=[];function LE(i,e,t=(n,r)=>n===r){if(i===e)return!0;if(!i||!e)return!1;const n=i.length;if(e.length!==n)return!1;for(let r=0;r<n;r++)if(!t(i[r],e[r]))return!1;return!0}function IE(i,e=null,t=!1,n={}){e===null&&(e=[i]);for(const s of Ju)if(LE(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return n.lifespan&&n.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,n.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:n.equal,remove:()=>{const s=Ju.indexOf(r);s!==-1&&Ju.splice(s,1)},promise:(UF(i)?i:i(...e)).then(s=>{r.response=s,n.lifespan&&n.lifespan>0&&(r.timeout=setTimeout(r.remove,n.lifespan))}).catch(s=>r.error=s)};if(Ju.push(r),!t)throw r.promise}const zF=(i,e,t)=>IE(i,e,!1,t),GF=(i,e,t)=>void IE(i,e,!0,t),HF=i=>{if(i===void 0||i.length===0)Ju.splice(0,Ju.length);else{const e=Ju.find(t=>LE(i,t.keys,t.equal));e&&e.remove()}};var Xy={exports:{}},Ky={exports:{}},Yy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew;function VF(){return Ew||(Ew=1,function(i){function e(V,re){var k=V.length;V.push(re);e:for(;0<k;){var Q=k-1>>>1,K=V[Q];if(0<r(K,re))V[Q]=re,V[k]=K,k=Q;else break e}}function t(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var re=V[0],k=V.pop();if(k!==re){V[0]=k;e:for(var Q=0,K=V.length,ae=K>>>1;Q<ae;){var Me=2*(Q+1)-1,Pe=V[Me],le=Me+1,Ge=V[le];if(0>r(Pe,k))le<K&&0>r(Ge,Pe)?(V[Q]=Ge,V[le]=k,Q=le):(V[Q]=Pe,V[Me]=k,Q=Me);else if(le<K&&0>r(Ge,k))V[Q]=Ge,V[le]=k,Q=le;else break e}}return re}function r(V,re){var k=V.sortIndex-re.sortIndex;return k!==0?k:V.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();i.unstable_now=function(){return a.now()-l}}var f=[],d=[],p=1,g=null,y=3,x=!1,A=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(V){for(var re=t(d);re!==null;){if(re.callback===null)n(d);else if(re.startTime<=V)n(d),re.sortIndex=re.expirationTime,e(f,re);else break;re=t(d)}}function R(V){if(w=!1,T(V),!A)if(t(f)!==null)A=!0,ge(I);else{var re=t(d);re!==null&&ve(R,re.startTime-V)}}function I(V,re){A=!1,w&&(w=!1,E(D),D=-1),x=!0;var k=y;try{for(T(re),g=t(f);g!==null&&(!(g.expirationTime>re)||V&&!Y());){var Q=g.callback;if(typeof Q=="function"){g.callback=null,y=g.priorityLevel;var K=Q(g.expirationTime<=re);re=i.unstable_now(),typeof K=="function"?g.callback=K:g===t(f)&&n(f),T(re)}else n(f);g=t(f)}if(g!==null)var ae=!0;else{var Me=t(d);Me!==null&&ve(R,Me.startTime-re),ae=!1}return ae}finally{g=null,y=k,x=!1}}var F=!1,z=null,D=-1,O=5,G=-1;function Y(){return!(i.unstable_now()-G<O)}function he(){if(z!==null){var V=i.unstable_now();G=V;var re=!0;try{re=z(!0,V)}finally{re?ie():(F=!1,z=null)}}else F=!1}var ie;if(typeof b=="function")ie=function(){b(he)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ce=$.port2;$.port1.onmessage=he,ie=function(){ce.postMessage(null)}}else ie=function(){S(he,0)};function ge(V){z=V,F||(F=!0,ie())}function ve(V,re){D=S(function(){V(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(V){V.callback=null},i.unstable_continueExecution=function(){A||x||(A=!0,ge(I))},i.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<V?Math.floor(1e3/V):5},i.unstable_getCurrentPriorityLevel=function(){return y},i.unstable_getFirstCallbackNode=function(){return t(f)},i.unstable_next=function(V){switch(y){case 1:case 2:case 3:var re=3;break;default:re=y}var k=y;y=re;try{return V()}finally{y=k}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(V,re){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var k=y;y=V;try{return re()}finally{y=k}},i.unstable_scheduleCallback=function(V,re,k){var Q=i.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?Q+k:Q):k=Q,V){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=k+K,V={id:p++,callback:re,priorityLevel:V,startTime:k,expirationTime:K,sortIndex:-1},k>Q?(V.sortIndex=k,e(d,V),t(f)===null&&V===t(d)&&(w?(E(D),D=-1):w=!0,ve(R,k-Q))):(V.sortIndex=K,e(f,V),A||x||(A=!0,ge(I))),V},i.unstable_shouldYield=Y,i.unstable_wrapCallback=function(V){var re=y;return function(){var k=y;y=re;try{return V.apply(this,arguments)}finally{y=k}}}}(Yy)),Yy}var Tw;function DE(){return Tw||(Tw=1,Ky.exports=VF()),Ky.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy,bw;function WF(){return bw||(bw=1,Qy=function(e){var t={},n=lh(),r=DE(),s=Object.assign;function a(c){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+c,v=1;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,f=Symbol.for("react.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),A=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),I=Symbol.iterator;function F(c){return c===null||typeof c!="object"?null:(c=I&&c[I]||c["@@iterator"],typeof c=="function"?c:null)}function z(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case p:return"Fragment";case d:return"Portal";case y:return"Profiler";case g:return"StrictMode";case S:return"Suspense";case E:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case A:return(c.displayName||"Context")+".Consumer";case x:return(c._context.displayName||"Context")+".Provider";case w:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case b:return h=c.displayName||null,h!==null?h:z(c.type)||"Memo";case T:h=c._payload,c=c._init;try{return z(c(h))}catch{}}return null}function D(c){var h=c.type;switch(c.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=h.render,c=c.displayName||c.name||"",h.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(h);case 8:return h===g?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function O(c){var h=c,v=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,(h.flags&4098)!==0&&(v=h.return),c=h.return;while(c)}return h.tag===3?v:null}function G(c){if(O(c)!==c)throw Error(a(188))}function Y(c){var h=c.alternate;if(!h){if(h=O(c),h===null)throw Error(a(188));return h!==c?null:c}for(var v=c,M=h;;){var P=v.return;if(P===null)break;var L=P.alternate;if(L===null){if(M=P.return,M!==null){v=M;continue}break}if(P.child===L.child){for(L=P.child;L;){if(L===v)return G(P),c;if(L===M)return G(P),h;L=L.sibling}throw Error(a(188))}if(v.return!==M.return)v=P,M=L;else{for(var j=!1,oe=P.child;oe;){if(oe===v){j=!0,v=P,M=L;break}if(oe===M){j=!0,M=P,v=L;break}oe=oe.sibling}if(!j){for(oe=L.child;oe;){if(oe===v){j=!0,v=L,M=P;break}if(oe===M){j=!0,M=L,v=P;break}oe=oe.sibling}if(!j)throw Error(a(189))}}if(v.alternate!==M)throw Error(a(190))}if(v.tag!==3)throw Error(a(188));return v.stateNode.current===v?c:h}function he(c){return c=Y(c),c!==null?ie(c):null}function ie(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var h=ie(c);if(h!==null)return h;c=c.sibling}return null}function $(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var h=$(c);if(h!==null)return h}c=c.sibling}return null}var ce=Array.isArray,ge=e.getPublicInstance,ve=e.getRootHostContext,V=e.getChildHostContext,re=e.prepareForCommit,k=e.resetAfterCommit,Q=e.createInstance,K=e.appendInitialChild,ae=e.finalizeInitialChildren,Me=e.prepareUpdate,Pe=e.shouldSetTextContent,le=e.createTextInstance,Ge=e.scheduleTimeout,Ne=e.cancelTimeout,Qe=e.noTimeout,Oe=e.isPrimaryRenderer,Ye=e.supportsMutation,Ee=e.supportsPersistence,we=e.supportsHydration,ze=e.getInstanceFromNode,rt=e.preparePortalMount,Ke=e.getCurrentEventPriority,mt=e.detachDeletedInstance,gt=e.supportsMicrotasks,at=e.scheduleMicrotask,kt=e.supportsTestSelectors,Ot=e.findFiberRoot,J=e.getBoundingRect,U=e.getTextContent,xe=e.isHiddenSubtree,ke=e.matchAccessibilityRole,He=e.setFocusIfFocusable,je=e.setupIntersectionObserver,_t=e.appendChild,Ze=e.appendChildToContainer,be=e.commitTextUpdate,ct=e.commitMount,St=e.commitUpdate,lt=e.insertBefore,xt=e.insertInContainerBefore,yt=e.removeChild,te=e.removeChildFromContainer,Le=e.resetTextContent,nt=e.hideInstance,q=e.hideTextInstance,_e=e.unhideInstance,Ie=e.unhideTextInstance,Je=e.clearContainer,dt=e.cloneInstance,jt=e.createContainerChildSet,tn=e.appendChildToContainerChildSet,fn=e.finalizeContainerChildren,fi=e.replaceContainerChildren,Kt=e.cloneHiddenInstance,Jn=e.cloneHiddenTextInstance,Cn=e.canHydrateInstance,Ta=e.canHydrateTextInstance,Bo=e.canHydrateSuspenseInstance,pc=e.isSuspenseInstancePending,_s=e.isSuspenseInstanceFallback,W=e.registerSuspenseInstanceRetry,pe=e.getNextHydratableSibling,Te=e.getFirstHydratableChild,de=e.getFirstHydratableChildWithinContainer,Re=e.getFirstHydratableChildWithinSuspenseInstance,At=e.hydrateInstance,Mt=e.hydrateTextInstance,Ft=e.hydrateSuspenseInstance,Ut=e.getNextHydratableInstanceAfterSuspenseInstance,Yt=e.commitHydratedContainer,Jt=e.commitHydratedSuspenseInstance,Xt=e.clearSuspenseBoundary,En=e.clearSuspenseBoundaryFromContainer,Ai=e.shouldDeleteUnhydratedTailInstances,Or=e.didNotMatchHydratedContainerTextInstance,As=e.didNotMatchHydratedTextInstance,It;function zt(c){if(It===void 0)try{throw Error()}catch(v){var h=v.stack.trim().match(/\n( *(at )?)/);It=h&&h[1]||""}return`
`+It+c}var ws=!1;function Tn(c,h){if(!c||ws)return"";ws=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Ve){var M=Ve}Reflect.construct(c,[],h)}else{try{h.call()}catch(Ve){M=Ve}c.call(h.prototype)}else{try{throw Error()}catch(Ve){M=Ve}c()}}catch(Ve){if(Ve&&M&&typeof Ve.stack=="string"){for(var P=Ve.stack.split(`
`),L=M.stack.split(`
`),j=P.length-1,oe=L.length-1;1<=j&&0<=oe&&P[j]!==L[oe];)oe--;for(;1<=j&&0<=oe;j--,oe--)if(P[j]!==L[oe]){if(j!==1||oe!==1)do if(j--,oe--,0>oe||P[j]!==L[oe]){var Ce=`
`+P[j].replace(" at new "," at ");return c.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",c.displayName)),Ce}while(1<=j&&0<=oe);break}}}finally{ws=!1,Error.prepareStackTrace=v}return(c=c?c.displayName||c.name:"")?zt(c):""}var yr=Object.prototype.hasOwnProperty,ba=[],tr=-1;function Pi(c){return{current:c}}function Ct(c){0>tr||(c.current=ba[tr],ba[tr]=null,tr--)}function Zt(c,h){tr++,ba[tr]=c.current,c.current=h}var Rn={},an=Pi(Rn),$n=Pi(!1),Ss=Rn;function vr(c,h){var v=c.type.contextTypes;if(!v)return Rn;var M=c.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===h)return M.__reactInternalMemoizedMaskedChildContext;var P={},L;for(L in v)P[L]=h[L];return M&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=h,c.__reactInternalMemoizedMaskedChildContext=P),P}function hi(c){return c=c.childContextTypes,c!=null}function ro(){Ct($n),Ct(an)}function Ul(c,h,v){if(an.current!==Rn)throw Error(a(168));Zt(an,h),Zt($n,v)}function kp(c,h,v){var M=c.stateNode;if(h=h.childContextTypes,typeof M.getChildContext!="function")return v;M=M.getChildContext();for(var P in M)if(!(P in h))throw Error(a(108,D(c)||"Unknown",P));return s({},v,M)}function mc(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Rn,Ss=an.current,Zt(an,c),Zt($n,$n.current),!0}function gc(c,h,v){var M=c.stateNode;if(!M)throw Error(a(169));v?(c=kp(c,h,Ss),M.__reactInternalMemoizedMergedChildContext=c,Ct($n),Ct(an),Zt(an,c)):Ct($n),Zt($n,v)}var xr=Math.clz32?Math.clz32:B0,xh=Math.log,zl=Math.LN2;function B0(c){return c>>>=0,c===0?32:31-(xh(c)/zl|0)|0}var Pa=64,nn=4194304;function Ba(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Gl(c,h){var v=c.pendingLanes;if(v===0)return 0;var M=0,P=c.suspendedLanes,L=c.pingedLanes,j=v&268435455;if(j!==0){var oe=j&~P;oe!==0?M=Ba(oe):(L&=j,L!==0&&(M=Ba(L)))}else j=v&~P,j!==0?M=Ba(j):L!==0&&(M=Ba(L));if(M===0)return 0;if(h!==0&&h!==M&&(h&P)===0&&(P=M&-M,L=h&-h,P>=L||P===16&&(L&4194240)!==0))return h;if((M&4)!==0&&(M|=v&16),h=c.entangledLanes,h!==0)for(c=c.entanglements,h&=M;0<h;)v=31-xr(h),P=1<<v,M|=c[v],h&=~P;return M}function _h(c,h){switch(c){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Op(c,h){for(var v=c.suspendedLanes,M=c.pingedLanes,P=c.expirationTimes,L=c.pendingLanes;0<L;){var j=31-xr(L),oe=1<<j,Ce=P[j];Ce===-1?((oe&v)===0||(oe&M)!==0)&&(P[j]=_h(oe,h)):Ce<=h&&(c.expiredLanes|=oe),L&=~oe}}function yc(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function vc(c){for(var h=[],v=0;31>v;v++)h.push(c);return h}function Ro(c,h,v){c.pendingLanes|=h,h!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,h=31-xr(h),c[h]=v}function xc(c,h){var v=c.pendingLanes&~h;c.pendingLanes=h,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=h,c.mutableReadLanes&=h,c.entangledLanes&=h,h=c.entanglements;var M=c.eventTimes;for(c=c.expirationTimes;0<v;){var P=31-xr(v),L=1<<P;h[P]=0,M[P]=-1,c[P]=-1,v&=~L}}function ts(c,h){var v=c.entangledLanes|=h;for(c=c.entanglements;v;){var M=31-xr(v),P=1<<M;P&h|c[M]&h&&(c[M]|=h),v&=~P}}var Ht=0;function Ms(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var Lo=r.unstable_scheduleCallback,Ra=r.unstable_cancelCallback,so=r.unstable_shouldYield,R0=r.unstable_requestPaint,Xn=r.unstable_now,Io=r.unstable_ImmediatePriority,L0=r.unstable_UserBlockingPriority,_c=r.unstable_NormalPriority,Ac=r.unstable_IdlePriority,Hl=null,ns=null;function Vl(c){if(ns&&typeof ns.onCommitFiberRoot=="function")try{ns.onCommitFiberRoot(Hl,c,void 0,(c.current.flags&128)===128)}catch{}}function Wl(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var Bi=typeof Object.is=="function"?Object.is:Wl,_r=null,wc=!1,Ah=!1;function Sc(c){_r===null?_r=[c]:_r.push(c)}function Mc(c){wc=!0,Sc(c)}function Ar(){if(!Ah&&_r!==null){Ah=!0;var c=0,h=Ht;try{var v=_r;for(Ht=1;c<v.length;c++){var M=v[c];do M=M(!0);while(M!==null)}_r=null,wc=!1}catch(P){throw _r!==null&&(_r=_r.slice(c+1)),Lo(Io,Ar),P}finally{Ht=h,Ah=!1}}return null}var Up=l.ReactCurrentBatchConfig;function Ur(c,h){if(Bi(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var v=Object.keys(c),M=Object.keys(h);if(v.length!==M.length)return!1;for(M=0;M<v.length;M++){var P=v[M];if(!yr.call(h,P)||!Bi(c[P],h[P]))return!1}return!0}function wh(c){switch(c.tag){case 5:return zt(c.type);case 16:return zt("Lazy");case 13:return zt("Suspense");case 19:return zt("SuspenseList");case 0:case 2:case 15:return c=Tn(c.type,!1),c;case 11:return c=Tn(c.type.render,!1),c;case 1:return c=Tn(c.type,!0),c;default:return""}}function Wi(c,h){if(c&&c.defaultProps){h=s({},h),c=c.defaultProps;for(var v in c)h[v]===void 0&&(h[v]=c[v]);return h}return h}var jl=Pi(null),Do=null,Cs=null,Cc=null;function Ri(){Cc=Cs=Do=null}function Fo(c,h,v){Oe?(Zt(jl,h._currentValue),h._currentValue=v):(Zt(jl,h._currentValue2),h._currentValue2=v)}function Jl(c){var h=jl.current;Ct(jl),Oe?c._currentValue=h:c._currentValue2=h}function No(c,h,v){for(;c!==null;){var M=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,M!==null&&(M.childLanes|=h)):M!==null&&(M.childLanes&h)!==h&&(M.childLanes|=h),c===v)break;c=c.return}}function La(c,h){Do=c,Cc=Cs=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&h)!==0&&(ii=!0),c.firstContext=null)}function ji(c){var h=Oe?c._currentValue:c._currentValue2;if(Cc!==c)if(c={context:c,memoizedValue:h,next:null},Cs===null){if(Do===null)throw Error(a(308));Cs=c,Do.dependencies={lanes:0,firstContext:c}}else Cs=Cs.next=c;return h}var wr=null,Sr=!1;function Ia(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sh(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Es(c,h){return{eventTime:c,lane:h,tag:0,payload:null,callback:null,next:null}}function oo(c,h){var v=c.updateQueue;v!==null&&(v=v.shared,Bn!==null&&(c.mode&1)!==0&&(Gt&2)===0?(c=v.interleaved,c===null?(h.next=h,wr===null?wr=[v]:wr.push(v)):(h.next=c.next,c.next=h),v.interleaved=h):(c=v.pending,c===null?h.next=h:(h.next=c.next,c.next=h),v.pending=h))}function Ec(c,h,v){if(h=h.updateQueue,h!==null&&(h=h.shared,(v&4194240)!==0)){var M=h.lanes;M&=c.pendingLanes,v|=M,h.lanes=v,ts(c,v)}}function Tc(c,h){var v=c.updateQueue,M=c.alternate;if(M!==null&&(M=M.updateQueue,v===M)){var P=null,L=null;if(v=v.firstBaseUpdate,v!==null){do{var j={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};L===null?P=L=j:L=L.next=j,v=v.next}while(v!==null);L===null?P=L=h:L=L.next=h}else P=L=h;v={baseState:M.baseState,firstBaseUpdate:P,lastBaseUpdate:L,shared:M.shared,effects:M.effects},c.updateQueue=v;return}c=v.lastBaseUpdate,c===null?v.firstBaseUpdate=h:c.next=h,v.lastBaseUpdate=h}function bc(c,h,v,M){var P=c.updateQueue;Sr=!1;var L=P.firstBaseUpdate,j=P.lastBaseUpdate,oe=P.shared.pending;if(oe!==null){P.shared.pending=null;var Ce=oe,Ve=Ce.next;Ce.next=null,j===null?L=Ve:j.next=Ve,j=Ce;var st=c.alternate;st!==null&&(st=st.updateQueue,oe=st.lastBaseUpdate,oe!==j&&(oe===null?st.firstBaseUpdate=Ve:oe.next=Ve,st.lastBaseUpdate=Ce))}if(L!==null){var Dt=P.baseState;j=0,st=Ve=Ce=null,oe=L;do{var wt=oe.lane,dn=oe.eventTime;if((M&wt)===wt){st!==null&&(st=st.next={eventTime:dn,lane:0,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null});e:{var tt=c,ln=oe;switch(wt=h,dn=v,ln.tag){case 1:if(tt=ln.payload,typeof tt=="function"){Dt=tt.call(dn,Dt,wt);break e}Dt=tt;break e;case 3:tt.flags=tt.flags&-65537|128;case 0:if(tt=ln.payload,wt=typeof tt=="function"?tt.call(dn,Dt,wt):tt,wt==null)break e;Dt=s({},Dt,wt);break e;case 2:Sr=!0}}oe.callback!==null&&oe.lane!==0&&(c.flags|=64,wt=P.effects,wt===null?P.effects=[oe]:wt.push(oe))}else dn={eventTime:dn,lane:wt,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},st===null?(Ve=st=dn,Ce=Dt):st=st.next=dn,j|=wt;if(oe=oe.next,oe===null){if(oe=P.shared.pending,oe===null)break;wt=oe,oe=wt.next,wt.next=null,P.lastBaseUpdate=wt,P.shared.pending=null}}while(!0);if(st===null&&(Ce=Dt),P.baseState=Ce,P.firstBaseUpdate=Ve,P.lastBaseUpdate=st,h=P.shared.interleaved,h!==null){P=h;do j|=P.lane,P=P.next;while(P!==h)}else L===null&&(P.shared.lanes=0);Zo|=j,c.lanes=j,c.memoizedState=Dt}}function zp(c,h,v){if(c=h.effects,h.effects=null,c!==null)for(h=0;h<c.length;h++){var M=c[h],P=M.callback;if(P!==null){if(M.callback=null,M=v,typeof P!="function")throw Error(a(191,P));P.call(M)}}}var Gp=new n.Component().refs;function Mh(c,h,v,M){h=c.memoizedState,v=v(M,h),v=v==null?h:s({},h,v),c.memoizedState=v,c.lanes===0&&(c.updateQueue.baseState=v)}var Pc={isMounted:function(c){return(c=c._reactInternals)?O(c)===c:!1},enqueueSetState:function(c,h,v){c=c._reactInternals;var M=oi(),P=ls(c),L=Es(M,P);L.payload=h,v!=null&&(L.callback=v),oo(c,L),h=Yi(c,P,M),h!==null&&Ec(h,c,P)},enqueueReplaceState:function(c,h,v){c=c._reactInternals;var M=oi(),P=ls(c),L=Es(M,P);L.tag=1,L.payload=h,v!=null&&(L.callback=v),oo(c,L),h=Yi(c,P,M),h!==null&&Ec(h,c,P)},enqueueForceUpdate:function(c,h){c=c._reactInternals;var v=oi(),M=ls(c),P=Es(v,M);P.tag=2,h!=null&&(P.callback=h),oo(c,P),h=Yi(c,M,v),h!==null&&Ec(h,c,M)}};function Ch(c,h,v,M,P,L,j){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(M,L,j):h.prototype&&h.prototype.isPureReactComponent?!Ur(v,M)||!Ur(P,L):!0}function Hp(c,h,v){var M=!1,P=Rn,L=h.contextType;return typeof L=="object"&&L!==null?L=ji(L):(P=hi(h)?Ss:an.current,M=h.contextTypes,L=(M=M!=null)?vr(c,P):Rn),h=new h(v,L),c.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Pc,c.stateNode=h,h._reactInternals=c,M&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=P,c.__reactInternalMemoizedMaskedChildContext=L),h}function Vp(c,h,v,M){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(v,M),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(v,M),h.state!==c&&Pc.enqueueReplaceState(h,h.state,null)}function Eh(c,h,v,M){var P=c.stateNode;P.props=v,P.state=c.memoizedState,P.refs=Gp,Ia(c);var L=h.contextType;typeof L=="object"&&L!==null?P.context=ji(L):(L=hi(h)?Ss:an.current,P.context=vr(c,L)),P.state=c.memoizedState,L=h.getDerivedStateFromProps,typeof L=="function"&&(Mh(c,h,L,v),P.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(h=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),h!==P.state&&Pc.enqueueReplaceState(P,P.state,null),bc(c,v,P,M),P.state=c.memoizedState),typeof P.componentDidMount=="function"&&(c.flags|=4194308)}var Da=[],ao=0,Bc=null,Rc=0,Mr=[],nr=0,ko=null,Ts=1,bs="";function Oo(c,h){Da[ao++]=Rc,Da[ao++]=Bc,Bc=c,Rc=h}function Wp(c,h,v){Mr[nr++]=Ts,Mr[nr++]=bs,Mr[nr++]=ko,ko=c;var M=Ts;c=bs;var P=32-xr(M)-1;M&=~(1<<P),v+=1;var L=32-xr(h)+P;if(30<L){var j=P-P%5;L=(M&(1<<j)-1).toString(32),M>>=j,P-=j,Ts=1<<32-xr(h)+P|v<<P|M,bs=L+c}else Ts=1<<L|v<<P|M,bs=c}function Th(c){c.return!==null&&(Oo(c,1),Wp(c,1,0))}function bh(c){for(;c===Bc;)Bc=Da[--ao],Da[ao]=null,Rc=Da[--ao],Da[ao]=null;for(;c===ko;)ko=Mr[--nr],Mr[nr]=null,bs=Mr[--nr],Mr[nr]=null,Ts=Mr[--nr],Mr[nr]=null}var Li=null,di=null,An=!1,Fa=!1,Cr=null;function Ph(c,h){var v=ar(5,null,null,0);v.elementType="DELETED",v.stateNode=h,v.return=c,h=c.deletions,h===null?(c.deletions=[v],c.flags|=16):h.push(v)}function Bh(c,h){switch(c.tag){case 5:return h=Cn(h,c.type,c.pendingProps),h!==null?(c.stateNode=h,Li=c,di=Te(h),!0):!1;case 6:return h=Ta(h,c.pendingProps),h!==null?(c.stateNode=h,Li=c,di=null,!0):!1;case 13:if(h=Bo(h),h!==null){var v=ko!==null?{id:Ts,overflow:bs}:null;return c.memoizedState={dehydrated:h,treeContext:v,retryLane:1073741824},v=ar(18,null,null,0),v.stateNode=h,v.return=c,c.child=v,Li=c,di=null,!0}return!1;default:return!1}}function Lc(c){return(c.mode&1)!==0&&(c.flags&128)===0}function lo(c){if(An){var h=di;if(h){var v=h;if(!Bh(c,h)){if(Lc(c))throw Error(a(418));h=pe(v);var M=Li;h&&Bh(c,h)?Ph(M,v):(c.flags=c.flags&-4097|2,An=!1,Li=c)}}else{if(Lc(c))throw Error(a(418));c.flags=c.flags&-4097|2,An=!1,Li=c}}}function jp(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Li=c}function Xl(c){if(!we||c!==Li)return!1;if(!An)return jp(c),An=!0,!1;if(c.tag!==3&&(c.tag!==5||Ai(c.type)&&!Pe(c.type,c.memoizedProps))){var h=di;if(h){if(Lc(c)){for(c=di;c;)c=pe(c);throw Error(a(418))}for(;h;)Ph(c,h),h=pe(h)}}if(jp(c),c.tag===13){if(!we)throw Error(a(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));di=Ut(c)}else di=Li?pe(c.stateNode):null;return!0}function Na(){we&&(di=Li=null,Fa=An=!1)}function Ic(c){Cr===null?Cr=[c]:Cr.push(c)}function ka(c,h,v){if(c=v.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(a(309));var M=v.stateNode}if(!M)throw Error(a(147,c));var P=M,L=""+c;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===L?h.ref:(h=function(j){var oe=P.refs;oe===Gp&&(oe=P.refs={}),j===null?delete oe[L]:oe[L]=j},h._stringRef=L,h)}if(typeof c!="string")throw Error(a(284));if(!v._owner)throw Error(a(290,c))}return c}function uo(c,h){throw c=Object.prototype.toString.call(h),Error(a(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c))}function Oa(c){var h=c._init;return h(c._payload)}function Jp(c){function h(ye,ue){if(c){var Se=ye.deletions;Se===null?(ye.deletions=[ue],ye.flags|=16):Se.push(ue)}}function v(ye,ue){if(!c)return null;for(;ue!==null;)h(ye,ue),ue=ue.sibling;return null}function M(ye,ue){for(ye=new Map;ue!==null;)ue.key!==null?ye.set(ue.key,ue):ye.set(ue.index,ue),ue=ue.sibling;return ye}function P(ye,ue){return ye=zs(ye,ue),ye.index=0,ye.sibling=null,ye}function L(ye,ue,Se){return ye.index=Se,c?(Se=ye.alternate,Se!==null?(Se=Se.index,Se<ue?(ye.flags|=2,ue):Se):(ye.flags|=2,ue)):(ye.flags|=1048576,ue)}function j(ye){return c&&ye.alternate===null&&(ye.flags|=2),ye}function oe(ye,ue,Se,$e){return ue===null||ue.tag!==6?(ue=hf(Se,ye.mode,$e),ue.return=ye,ue):(ue=P(ue,Se),ue.return=ye,ue)}function Ce(ye,ue,Se,$e){var ft=Se.type;return ft===p?st(ye,ue,Se.props.children,$e,Se.key):ue!==null&&(ue.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===T&&Oa(ft)===ue.type)?($e=P(ue,Se.props),$e.ref=ka(ye,ue,Se),$e.return=ye,$e):($e=gu(Se.type,Se.key,Se.props,null,ye.mode,$e),$e.ref=ka(ye,ue,Se),$e.return=ye,$e)}function Ve(ye,ue,Se,$e){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==Se.containerInfo||ue.stateNode.implementation!==Se.implementation?(ue=df(Se,ye.mode,$e),ue.return=ye,ue):(ue=P(ue,Se.children||[]),ue.return=ye,ue)}function st(ye,ue,Se,$e,ft){return ue===null||ue.tag!==7?(ue=wo(Se,ye.mode,$e,ft),ue.return=ye,ue):(ue=P(ue,Se),ue.return=ye,ue)}function Dt(ye,ue,Se){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return ue=hf(""+ue,ye.mode,Se),ue.return=ye,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case f:return Se=gu(ue.type,ue.key,ue.props,null,ye.mode,Se),Se.ref=ka(ye,null,ue),Se.return=ye,Se;case d:return ue=df(ue,ye.mode,Se),ue.return=ye,ue;case T:var $e=ue._init;return Dt(ye,$e(ue._payload),Se)}if(ce(ue)||F(ue))return ue=wo(ue,ye.mode,Se,null),ue.return=ye,ue;uo(ye,ue)}return null}function wt(ye,ue,Se,$e){var ft=ue!==null?ue.key:null;if(typeof Se=="string"&&Se!==""||typeof Se=="number")return ft!==null?null:oe(ye,ue,""+Se,$e);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case f:return Se.key===ft?Ce(ye,ue,Se,$e):null;case d:return Se.key===ft?Ve(ye,ue,Se,$e):null;case T:return ft=Se._init,wt(ye,ue,ft(Se._payload),$e)}if(ce(Se)||F(Se))return ft!==null?null:st(ye,ue,Se,$e,null);uo(ye,Se)}return null}function dn(ye,ue,Se,$e,ft){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return ye=ye.get(Se)||null,oe(ue,ye,""+$e,ft);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case f:return ye=ye.get($e.key===null?Se:$e.key)||null,Ce(ue,ye,$e,ft);case d:return ye=ye.get($e.key===null?Se:$e.key)||null,Ve(ue,ye,$e,ft);case T:var Nt=$e._init;return dn(ye,ue,Se,Nt($e._payload),ft)}if(ce($e)||F($e))return ye=ye.get(Se)||null,st(ue,ye,$e,ft,null);uo(ue,$e)}return null}function tt(ye,ue,Se,$e){for(var ft=null,Nt=null,Bt=ue,en=ue=0,Yn=null;Bt!==null&&en<Se.length;en++){Bt.index>en?(Yn=Bt,Bt=null):Yn=Bt.sibling;var $t=wt(ye,Bt,Se[en],$e);if($t===null){Bt===null&&(Bt=Yn);break}c&&Bt&&$t.alternate===null&&h(ye,Bt),ue=L($t,ue,en),Nt===null?ft=$t:Nt.sibling=$t,Nt=$t,Bt=Yn}if(en===Se.length)return v(ye,Bt),An&&Oo(ye,en),ft;if(Bt===null){for(;en<Se.length;en++)Bt=Dt(ye,Se[en],$e),Bt!==null&&(ue=L(Bt,ue,en),Nt===null?ft=Bt:Nt.sibling=Bt,Nt=Bt);return An&&Oo(ye,en),ft}for(Bt=M(ye,Bt);en<Se.length;en++)Yn=dn(Bt,ye,en,Se[en],$e),Yn!==null&&(c&&Yn.alternate!==null&&Bt.delete(Yn.key===null?en:Yn.key),ue=L(Yn,ue,en),Nt===null?ft=Yn:Nt.sibling=Yn,Nt=Yn);return c&&Bt.forEach(function(us){return h(ye,us)}),An&&Oo(ye,en),ft}function ln(ye,ue,Se,$e){var ft=F(Se);if(typeof ft!="function")throw Error(a(150));if(Se=ft.call(Se),Se==null)throw Error(a(151));for(var Nt=ft=null,Bt=ue,en=ue=0,Yn=null,$t=Se.next();Bt!==null&&!$t.done;en++,$t=Se.next()){Bt.index>en?(Yn=Bt,Bt=null):Yn=Bt.sibling;var us=wt(ye,Bt,$t.value,$e);if(us===null){Bt===null&&(Bt=Yn);break}c&&Bt&&us.alternate===null&&h(ye,Bt),ue=L(us,ue,en),Nt===null?ft=us:Nt.sibling=us,Nt=us,Bt=Yn}if($t.done)return v(ye,Bt),An&&Oo(ye,en),ft;if(Bt===null){for(;!$t.done;en++,$t=Se.next())$t=Dt(ye,$t.value,$e),$t!==null&&(ue=L($t,ue,en),Nt===null?ft=$t:Nt.sibling=$t,Nt=$t);return An&&Oo(ye,en),ft}for(Bt=M(ye,Bt);!$t.done;en++,$t=Se.next())$t=dn(Bt,ye,en,$t.value,$e),$t!==null&&(c&&$t.alternate!==null&&Bt.delete($t.key===null?en:$t.key),ue=L($t,ue,en),Nt===null?ft=$t:Nt.sibling=$t,Nt=$t);return c&&Bt.forEach(function(fm){return h(ye,fm)}),An&&Oo(ye,en),ft}function lr(ye,ue,Se,$e){if(typeof Se=="object"&&Se!==null&&Se.type===p&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case f:e:{for(var ft=Se.key,Nt=ue;Nt!==null;){if(Nt.key===ft){if(ft=Se.type,ft===p){if(Nt.tag===7){v(ye,Nt.sibling),ue=P(Nt,Se.props.children),ue.return=ye,ye=ue;break e}}else if(Nt.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===T&&Oa(ft)===Nt.type){v(ye,Nt.sibling),ue=P(Nt,Se.props),ue.ref=ka(ye,Nt,Se),ue.return=ye,ye=ue;break e}v(ye,Nt);break}else h(ye,Nt);Nt=Nt.sibling}Se.type===p?(ue=wo(Se.props.children,ye.mode,$e,Se.key),ue.return=ye,ye=ue):($e=gu(Se.type,Se.key,Se.props,null,ye.mode,$e),$e.ref=ka(ye,ue,Se),$e.return=ye,ye=$e)}return j(ye);case d:e:{for(Nt=Se.key;ue!==null;){if(ue.key===Nt)if(ue.tag===4&&ue.stateNode.containerInfo===Se.containerInfo&&ue.stateNode.implementation===Se.implementation){v(ye,ue.sibling),ue=P(ue,Se.children||[]),ue.return=ye,ye=ue;break e}else{v(ye,ue);break}else h(ye,ue);ue=ue.sibling}ue=df(Se,ye.mode,$e),ue.return=ye,ye=ue}return j(ye);case T:return Nt=Se._init,lr(ye,ue,Nt(Se._payload),$e)}if(ce(Se))return tt(ye,ue,Se,$e);if(F(Se))return ln(ye,ue,Se,$e);uo(ye,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"?(Se=""+Se,ue!==null&&ue.tag===6?(v(ye,ue.sibling),ue=P(ue,Se),ue.return=ye,ye=ue):(v(ye,ue),ue=hf(Se,ye.mode,$e),ue.return=ye,ye=ue),j(ye)):v(ye,ue)}return lr}var Ps=Jp(!0),Xp=Jp(!1),Ua={},Ji=Pi(Ua),Uo=Pi(Ua),zo=Pi(Ua);function zr(c){if(c===Ua)throw Error(a(174));return c}function Dc(c,h){Zt(zo,h),Zt(Uo,c),Zt(Ji,Ua),c=ve(h),Ct(Ji),Zt(Ji,c)}function za(){Ct(Ji),Ct(Uo),Ct(zo)}function Kp(c){var h=zr(zo.current),v=zr(Ji.current);h=V(v,c.type,h),v!==h&&(Zt(Uo,c),Zt(Ji,h))}function Rh(c){Uo.current===c&&(Ct(Ji),Ct(Uo))}var bn=Pi(0);function Fc(c){for(var h=c;h!==null;){if(h.tag===13){var v=h.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||pc(v)||_s(v)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var ir=[];function Go(){for(var c=0;c<ir.length;c++){var h=ir[c];Oe?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}ir.length=0}var Kl=l.ReactCurrentDispatcher,rr=l.ReactCurrentBatchConfig,Ho=0,Pn=null,ei=null,ti=null,Nc=!1,is=!1,Vo=0,Yl=0;function ni(){throw Error(a(321))}function kc(c,h){if(h===null)return!1;for(var v=0;v<h.length&&v<c.length;v++)if(!Bi(c[v],h[v]))return!1;return!0}function Ga(c,h,v,M,P,L){if(Ho=L,Pn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Kl.current=c===null||c.memoizedState===null?kh:Oh,c=v(M,P),is){L=0;do{if(is=!1,Vo=0,25<=L)throw Error(a(301));L+=1,ti=ei=null,h.updateQueue=null,Kl.current=Uh,c=v(M,P)}while(is)}if(Kl.current=ja,h=ei!==null&&ei.next!==null,Ho=0,ti=ei=Pn=null,Nc=!1,h)throw Error(a(300));return c}function co(){var c=Vo!==0;return Vo=0,c}function Gr(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ti===null?Pn.memoizedState=ti=c:ti=ti.next=c,ti}function Hr(){if(ei===null){var c=Pn.alternate;c=c!==null?c.memoizedState:null}else c=ei.next;var h=ti===null?Pn.memoizedState:ti.next;if(h!==null)ti=h,ei=c;else{if(c===null)throw Error(a(310));ei=c,c={memoizedState:ei.memoizedState,baseState:ei.baseState,baseQueue:ei.baseQueue,queue:ei.queue,next:null},ti===null?Pn.memoizedState=ti=c:ti=ti.next=c}return ti}function rs(c,h){return typeof h=="function"?h(c):h}function Ql(c){var h=Hr(),v=h.queue;if(v===null)throw Error(a(311));v.lastRenderedReducer=c;var M=ei,P=M.baseQueue,L=v.pending;if(L!==null){if(P!==null){var j=P.next;P.next=L.next,L.next=j}M.baseQueue=P=L,v.pending=null}if(P!==null){L=P.next,M=M.baseState;var oe=j=null,Ce=null,Ve=L;do{var st=Ve.lane;if((Ho&st)===st)Ce!==null&&(Ce=Ce.next={lane:0,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null}),M=Ve.hasEagerState?Ve.eagerState:c(M,Ve.action);else{var Dt={lane:st,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null};Ce===null?(oe=Ce=Dt,j=M):Ce=Ce.next=Dt,Pn.lanes|=st,Zo|=st}Ve=Ve.next}while(Ve!==null&&Ve!==L);Ce===null?j=M:Ce.next=oe,Bi(M,h.memoizedState)||(ii=!0),h.memoizedState=M,h.baseState=j,h.baseQueue=Ce,v.lastRenderedState=M}if(c=v.interleaved,c!==null){P=c;do L=P.lane,Pn.lanes|=L,Zo|=L,P=P.next;while(P!==c)}else P===null&&(v.lanes=0);return[h.memoizedState,v.dispatch]}function ql(c){var h=Hr(),v=h.queue;if(v===null)throw Error(a(311));v.lastRenderedReducer=c;var M=v.dispatch,P=v.pending,L=h.memoizedState;if(P!==null){v.pending=null;var j=P=P.next;do L=c(L,j.action),j=j.next;while(j!==P);Bi(L,h.memoizedState)||(ii=!0),h.memoizedState=L,h.baseQueue===null&&(h.baseState=L),v.lastRenderedState=L}return[L,M]}function Lh(){}function Ih(c,h){var v=Pn,M=Hr(),P=h(),L=!Bi(M.memoizedState,P);if(L&&(M.memoizedState=P,ii=!0),M=M.queue,Ha(Bs.bind(null,v,M,c),[c]),M.getSnapshot!==h||L||ti!==null&&ti.memoizedState.tag&1){if(v.flags|=2048,$l(9,Fh.bind(null,v,M,P,h),void 0,null),Bn===null)throw Error(a(349));(Ho&30)!==0||Dh(v,h,P)}return P}function Dh(c,h,v){c.flags|=16384,c={getSnapshot:h,value:v},h=Pn.updateQueue,h===null?(h={lastEffect:null,stores:null},Pn.updateQueue=h,h.stores=[c]):(v=h.stores,v===null?h.stores=[c]:v.push(c))}function Fh(c,h,v,M){h.value=v,h.getSnapshot=M,Oc(h)&&Yi(c,1,-1)}function Bs(c,h,v){return v(function(){Oc(h)&&Yi(c,1,-1)})}function Oc(c){var h=c.getSnapshot;c=c.value;try{var v=h();return!Bi(c,v)}catch{return!0}}function Zl(c){var h=Gr();return typeof c=="function"&&(c=c()),h.memoizedState=h.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:c},h.queue=c,c=c.dispatch=I0.bind(null,Pn,c),[h.memoizedState,c]}function $l(c,h,v,M){return c={tag:c,create:h,destroy:v,deps:M,next:null},h=Pn.updateQueue,h===null?(h={lastEffect:null,stores:null},Pn.updateQueue=h,h.lastEffect=c.next=c):(v=h.lastEffect,v===null?h.lastEffect=c.next=c:(M=v.next,v.next=c,c.next=M,h.lastEffect=c)),c}function Yp(){return Hr().memoizedState}function fo(c,h,v,M){var P=Gr();Pn.flags|=c,P.memoizedState=$l(1|h,v,void 0,M===void 0?null:M)}function Uc(c,h,v,M){var P=Hr();M=M===void 0?null:M;var L=void 0;if(ei!==null){var j=ei.memoizedState;if(L=j.destroy,M!==null&&kc(M,j.deps)){P.memoizedState=$l(h,v,L,M);return}}Pn.flags|=c,P.memoizedState=$l(1|h,v,L,M)}function zc(c,h){return fo(8390656,8,c,h)}function Ha(c,h){return Uc(2048,8,c,h)}function mn(c,h){return Uc(4,2,c,h)}function Gc(c,h){return Uc(4,4,c,h)}function eu(c,h){if(typeof h=="function")return c=c(),h(c),function(){h(null)};if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function Va(c,h,v){return v=v!=null?v.concat([c]):null,Uc(4,4,eu.bind(null,h,c),v)}function Hc(){}function Vc(c,h){var v=Hr();h=h===void 0?null:h;var M=v.memoizedState;return M!==null&&h!==null&&kc(h,M[1])?M[0]:(v.memoizedState=[c,h],c)}function Wa(c,h){var v=Hr();h=h===void 0?null:h;var M=v.memoizedState;return M!==null&&h!==null&&kc(h,M[1])?M[0]:(c=c(),v.memoizedState=[c,h],c)}function Wc(c,h){var v=Ht;Ht=v!==0&&4>v?v:4,c(!0);var M=rr.transition;rr.transition={};try{c(!1),h()}finally{Ht=v,rr.transition=M}}function Wo(){return Hr().memoizedState}function Qp(c,h,v){var M=ls(c);v={lane:M,action:v,hasEagerState:!1,eagerState:null,next:null},qp(c)?Nh(h,v):(tu(c,h,v),v=oi(),c=Yi(c,M,v),c!==null&&nu(c,h,M))}function I0(c,h,v){var M=ls(c),P={lane:M,action:v,hasEagerState:!1,eagerState:null,next:null};if(qp(c))Nh(h,P);else{tu(c,h,P);var L=c.alternate;if(c.lanes===0&&(L===null||L.lanes===0)&&(L=h.lastRenderedReducer,L!==null))try{var j=h.lastRenderedState,oe=L(j,v);if(P.hasEagerState=!0,P.eagerState=oe,Bi(oe,j))return}catch{}finally{}v=oi(),c=Yi(c,M,v),c!==null&&nu(c,h,M)}}function qp(c){var h=c.alternate;return c===Pn||h!==null&&h===Pn}function Nh(c,h){is=Nc=!0;var v=c.pending;v===null?h.next=h:(h.next=v.next,v.next=h),c.pending=h}function tu(c,h,v){Bn!==null&&(c.mode&1)!==0&&(Gt&2)===0?(c=h.interleaved,c===null?(v.next=v,wr===null?wr=[h]:wr.push(h)):(v.next=c.next,c.next=v),h.interleaved=v):(c=h.pending,c===null?v.next=v:(v.next=c.next,c.next=v),h.pending=v)}function nu(c,h,v){if((v&4194240)!==0){var M=h.lanes;M&=c.pendingLanes,v|=M,h.lanes=v,ts(c,v)}}var ja={readContext:ji,useCallback:ni,useContext:ni,useEffect:ni,useImperativeHandle:ni,useInsertionEffect:ni,useLayoutEffect:ni,useMemo:ni,useReducer:ni,useRef:ni,useState:ni,useDebugValue:ni,useDeferredValue:ni,useTransition:ni,useMutableSource:ni,useSyncExternalStore:ni,useId:ni,unstable_isNewReconciler:!1},kh={readContext:ji,useCallback:function(c,h){return Gr().memoizedState=[c,h===void 0?null:h],c},useContext:ji,useEffect:zc,useImperativeHandle:function(c,h,v){return v=v!=null?v.concat([c]):null,fo(4194308,4,eu.bind(null,h,c),v)},useLayoutEffect:function(c,h){return fo(4194308,4,c,h)},useInsertionEffect:function(c,h){return fo(4,2,c,h)},useMemo:function(c,h){var v=Gr();return h=h===void 0?null:h,c=c(),v.memoizedState=[c,h],c},useReducer:function(c,h,v){var M=Gr();return h=v!==void 0?v(h):h,M.memoizedState=M.baseState=h,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:h},M.queue=c,c=c.dispatch=Qp.bind(null,Pn,c),[M.memoizedState,c]},useRef:function(c){var h=Gr();return c={current:c},h.memoizedState=c},useState:Zl,useDebugValue:Hc,useDeferredValue:function(c){var h=Zl(c),v=h[0],M=h[1];return zc(function(){var P=rr.transition;rr.transition={};try{M(c)}finally{rr.transition=P}},[c]),v},useTransition:function(){var c=Zl(!1),h=c[0];return c=Wc.bind(null,c[1]),Gr().memoizedState=c,[h,c]},useMutableSource:function(){},useSyncExternalStore:function(c,h,v){var M=Pn,P=Gr();if(An){if(v===void 0)throw Error(a(407));v=v()}else{if(v=h(),Bn===null)throw Error(a(349));(Ho&30)!==0||Dh(M,h,v)}P.memoizedState=v;var L={value:v,getSnapshot:h};return P.queue=L,zc(Bs.bind(null,M,L,c),[c]),M.flags|=2048,$l(9,Fh.bind(null,M,L,v,h),void 0,null),v},useId:function(){var c=Gr(),h=Bn.identifierPrefix;if(An){var v=bs,M=Ts;v=(M&~(1<<32-xr(M)-1)).toString(32)+v,h=":"+h+"R"+v,v=Vo++,0<v&&(h+="H"+v.toString(32)),h+=":"}else v=Yl++,h=":"+h+"r"+v.toString(32)+":";return c.memoizedState=h},unstable_isNewReconciler:!1},Oh={readContext:ji,useCallback:Vc,useContext:ji,useEffect:Ha,useImperativeHandle:Va,useInsertionEffect:mn,useLayoutEffect:Gc,useMemo:Wa,useReducer:Ql,useRef:Yp,useState:function(){return Ql(rs)},useDebugValue:Hc,useDeferredValue:function(c){var h=Ql(rs),v=h[0],M=h[1];return Ha(function(){var P=rr.transition;rr.transition={};try{M(c)}finally{rr.transition=P}},[c]),v},useTransition:function(){var c=Ql(rs)[0],h=Hr().memoizedState;return[c,h]},useMutableSource:Lh,useSyncExternalStore:Ih,useId:Wo,unstable_isNewReconciler:!1},Uh={readContext:ji,useCallback:Vc,useContext:ji,useEffect:Ha,useImperativeHandle:Va,useInsertionEffect:mn,useLayoutEffect:Gc,useMemo:Wa,useReducer:ql,useRef:Yp,useState:function(){return ql(rs)},useDebugValue:Hc,useDeferredValue:function(c){var h=ql(rs),v=h[0],M=h[1];return Ha(function(){var P=rr.transition;rr.transition={};try{M(c)}finally{rr.transition=P}},[c]),v},useTransition:function(){var c=ql(rs)[0],h=Hr().memoizedState;return[c,h]},useMutableSource:Lh,useSyncExternalStore:Ih,useId:Wo,unstable_isNewReconciler:!1};function zh(c,h){try{var v="",M=h;do v+=wh(M),M=M.return;while(M);var P=v}catch(L){P=`
Error generating stack: `+L.message+`
`+L.stack}return{value:c,source:h,stack:P}}function jc(c,h){try{console.error(h.value)}catch(v){setTimeout(function(){throw v})}}var D0=typeof WeakMap=="function"?WeakMap:Map;function Zp(c,h,v){v=Es(-1,v),v.tag=3,v.payload={element:null};var M=h.value;return v.callback=function(){yo||(yo=!0,Pr=M),jc(c,h)},v}function Jc(c,h,v){v=Es(-1,v),v.tag=3;var M=c.type.getDerivedStateFromError;if(typeof M=="function"){var P=h.value;v.payload=function(){return M(P)},v.callback=function(){jc(c,h)}}var L=c.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(v.callback=function(){jc(c,h),typeof M!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var j=h.stack;this.componentDidCatch(h.value,{componentStack:j!==null?j:""})}),v}function Rs(c,h,v){var M=c.pingCache;if(M===null){M=c.pingCache=new D0;var P=new Set;M.set(h,P)}else P=M.get(h),P===void 0&&(P=new Set,M.set(h,P));P.has(v)||(P.add(v),c=nm.bind(null,c,h,v),h.then(c,c))}function Gh(c){do{var h;if((h=c.tag===13)&&(h=c.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return c;c=c.return}while(c!==null);return null}function jo(c,h,v,M,P){return(c.mode&1)===0?(c===h?c.flags|=65536:(c.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(h=Es(-1,1),h.tag=2,oo(v,h))),v.lanes|=1),c):(c.flags|=65536,c.lanes=P,c)}function Kn(c){c.flags|=4}function Ja(c,h){if(c!==null&&c.child===h.child)return!0;if((h.flags&16)!==0)return!1;for(c=h.child;c!==null;){if((c.flags&12854)!==0||(c.subtreeFlags&12854)!==0)return!1;c=c.sibling}return!0}var sr,Jo,Xc,Kc;if(Ye)sr=function(c,h){for(var v=h.child;v!==null;){if(v.tag===5||v.tag===6)K(c,v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===h)break;for(;v.sibling===null;){if(v.return===null||v.return===h)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},Jo=function(){},Xc=function(c,h,v,M,P){if(c=c.memoizedProps,c!==M){var L=h.stateNode,j=zr(Ji.current);v=Me(L,v,c,M,P,j),(h.updateQueue=v)&&Kn(h)}},Kc=function(c,h,v,M){v!==M&&Kn(h)};else if(Ee){sr=function(c,h,v,M){for(var P=h.child;P!==null;){if(P.tag===5){var L=P.stateNode;v&&M&&(L=Kt(L,P.type,P.memoizedProps,P)),K(c,L)}else if(P.tag===6)L=P.stateNode,v&&M&&(L=Jn(L,P.memoizedProps,P)),K(c,L);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)L=P.child,L!==null&&(L.return=P),sr(c,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===h)break;for(;P.sibling===null;){if(P.return===null||P.return===h)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};var ho=function(c,h,v,M){for(var P=h.child;P!==null;){if(P.tag===5){var L=P.stateNode;v&&M&&(L=Kt(L,P.type,P.memoizedProps,P)),tn(c,L)}else if(P.tag===6)L=P.stateNode,v&&M&&(L=Jn(L,P.memoizedProps,P)),tn(c,L);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)L=P.child,L!==null&&(L.return=P),ho(c,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===h)break;for(;P.sibling===null;){if(P.return===null||P.return===h)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};Jo=function(c,h){var v=h.stateNode;if(!Ja(c,h)){c=v.containerInfo;var M=jt(c);ho(M,h,!1,!1),v.pendingChildren=M,Kn(h),fn(c,M)}},Xc=function(c,h,v,M,P){var L=c.stateNode,j=c.memoizedProps;if((c=Ja(c,h))&&j===M)h.stateNode=L;else{var oe=h.stateNode,Ce=zr(Ji.current),Ve=null;j!==M&&(Ve=Me(oe,v,j,M,P,Ce)),c&&Ve===null?h.stateNode=L:(L=dt(L,Ve,v,j,M,h,c,oe),ae(L,v,M,P,Ce)&&Kn(h),h.stateNode=L,c?Kn(h):sr(L,h,!1,!1))}},Kc=function(c,h,v,M){v!==M?(c=zr(zo.current),v=zr(Ji.current),h.stateNode=le(M,c,v,h),Kn(h)):h.stateNode=c.stateNode}}else Jo=function(){},Xc=function(){},Kc=function(){};function Ls(c,h){if(!An)switch(c.tailMode){case"hidden":h=c.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?c.tail=null:v.sibling=null;break;case"collapsed":v=c.tail;for(var M=null;v!==null;)v.alternate!==null&&(M=v),v=v.sibling;M===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:M.sibling=null}}function Fn(c){var h=c.alternate!==null&&c.alternate.child===c.child,v=0,M=0;if(h)for(var P=c.child;P!==null;)v|=P.lanes|P.childLanes,M|=P.subtreeFlags&14680064,M|=P.flags&14680064,P.return=c,P=P.sibling;else for(P=c.child;P!==null;)v|=P.lanes|P.childLanes,M|=P.subtreeFlags,M|=P.flags,P.return=c,P=P.sibling;return c.subtreeFlags|=M,c.childLanes=v,h}function Yc(c,h,v){var M=h.pendingProps;switch(bh(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fn(h),null;case 1:return hi(h.type)&&ro(),Fn(h),null;case 3:return M=h.stateNode,za(),Ct($n),Ct(an),Go(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(c===null||c.child===null)&&(Xl(h)?Kn(h):c===null||c.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Cr!==null&&(kn(Cr),Cr=null))),Jo(c,h),Fn(h),null;case 5:Rh(h),v=zr(zo.current);var P=h.type;if(c!==null&&h.stateNode!=null)Xc(c,h,P,M,v),c.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!M){if(h.stateNode===null)throw Error(a(166));return Fn(h),null}if(c=zr(Ji.current),Xl(h)){if(!we)throw Error(a(175));c=At(h.stateNode,h.type,h.memoizedProps,v,c,h,!Fa),h.updateQueue=c,c!==null&&Kn(h)}else{var L=Q(P,M,v,c,h);sr(L,h,!1,!1),h.stateNode=L,ae(L,P,M,v,c)&&Kn(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Fn(h),null;case 6:if(c&&h.stateNode!=null)Kc(c,h,c.memoizedProps,M);else{if(typeof M!="string"&&h.stateNode===null)throw Error(a(166));if(c=zr(zo.current),v=zr(Ji.current),Xl(h)){if(!we)throw Error(a(176));if(c=h.stateNode,M=h.memoizedProps,(v=Mt(c,M,h,!Fa))&&(P=Li,P!==null))switch(L=(P.mode&1)!==0,P.tag){case 3:Or(P.stateNode.containerInfo,c,M,L);break;case 5:As(P.type,P.memoizedProps,P.stateNode,c,M,L)}v&&Kn(h)}else h.stateNode=le(M,c,v,h)}return Fn(h),null;case 13:if(Ct(bn),M=h.memoizedState,An&&di!==null&&(h.mode&1)!==0&&(h.flags&128)===0){for(c=di;c;)c=pe(c);return Na(),h.flags|=98560,h}if(M!==null&&M.dehydrated!==null){if(M=Xl(h),c===null){if(!M)throw Error(a(318));if(!we)throw Error(a(344));if(c=h.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));Ft(c,h)}else Na(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;return Fn(h),null}return Cr!==null&&(kn(Cr),Cr=null),(h.flags&128)!==0?(h.lanes=v,h):(M=M!==null,v=!1,c===null?Xl(h):v=c.memoizedState!==null,M&&!v&&(h.child.flags|=8192,(h.mode&1)!==0&&(c===null||(bn.current&1)!==0?Hn===0&&(Hn=3):fu())),h.updateQueue!==null&&(h.flags|=4),Fn(h),null);case 4:return za(),Jo(c,h),c===null&&rt(h.stateNode.containerInfo),Fn(h),null;case 10:return Jl(h.type._context),Fn(h),null;case 17:return hi(h.type)&&ro(),Fn(h),null;case 19:if(Ct(bn),P=h.memoizedState,P===null)return Fn(h),null;if(M=(h.flags&128)!==0,L=P.rendering,L===null)if(M)Ls(P,!1);else{if(Hn!==0||c!==null&&(c.flags&128)!==0)for(c=h.child;c!==null;){if(L=Fc(c),L!==null){for(h.flags|=128,Ls(P,!1),c=L.updateQueue,c!==null&&(h.updateQueue=c,h.flags|=4),h.subtreeFlags=0,c=v,M=h.child;M!==null;)v=M,P=c,v.flags&=14680066,L=v.alternate,L===null?(v.childLanes=0,v.lanes=P,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=L.childLanes,v.lanes=L.lanes,v.child=L.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=L.memoizedProps,v.memoizedState=L.memoizedState,v.updateQueue=L.updateQueue,v.type=L.type,P=L.dependencies,v.dependencies=P===null?null:{lanes:P.lanes,firstContext:P.firstContext}),M=M.sibling;return Zt(bn,bn.current&1|2),h.child}c=c.sibling}P.tail!==null&&Xn()>go&&(h.flags|=128,M=!0,Ls(P,!1),h.lanes=4194304)}else{if(!M)if(c=Fc(L),c!==null){if(h.flags|=128,M=!0,c=c.updateQueue,c!==null&&(h.updateQueue=c,h.flags|=4),Ls(P,!0),P.tail===null&&P.tailMode==="hidden"&&!L.alternate&&!An)return Fn(h),null}else 2*Xn()-P.renderingStartTime>go&&v!==1073741824&&(h.flags|=128,M=!0,Ls(P,!1),h.lanes=4194304);P.isBackwards?(L.sibling=h.child,h.child=L):(c=P.last,c!==null?c.sibling=L:h.child=L,P.last=L)}return P.tail!==null?(h=P.tail,P.rendering=h,P.tail=h.sibling,P.renderingStartTime=Xn(),h.sibling=null,c=bn.current,Zt(bn,M?c&1|2:c&1),h):(Fn(h),null);case 22:case 23:return Qh(),M=h.memoizedState!==null,c!==null&&c.memoizedState!==null!==M&&(h.flags|=8192),M&&(h.mode&1)!==0?(ki&1073741824)!==0&&(Fn(h),Ye&&h.subtreeFlags&6&&(h.flags|=8192)):Fn(h),null;case 24:return null;case 25:return null}throw Error(a(156,h.tag))}var Hh=l.ReactCurrentOwner,ii=!1;function Ln(c,h,v,M){h.child=c===null?Xp(h,null,v,M):Ps(h,c.child,v,M)}function gn(c,h,v,M,P){v=v.render;var L=h.ref;return La(h,P),M=Ga(c,h,v,M,L,P),v=co(),c!==null&&!ii?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~P,Xi(c,h,P)):(An&&v&&Th(h),h.flags|=1,Ln(c,h,M,P),h.child)}function hn(c,h,v,M,P){if(c===null){var L=v.type;return typeof L=="function"&&!mu(L)&&L.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(h.tag=15,h.type=L,Is(c,h,L,M,P)):(c=gu(v.type,null,M,h,h.mode,P),c.ref=h.ref,c.return=h,h.child=c)}if(L=c.child,(c.lanes&P)===0){var j=L.memoizedProps;if(v=v.compare,v=v!==null?v:Ur,v(j,M)&&c.ref===h.ref)return Xi(c,h,P)}return h.flags|=1,c=zs(L,M),c.ref=h.ref,c.return=h,h.child=c}function Is(c,h,v,M,P){if(c!==null&&Ur(c.memoizedProps,M)&&c.ref===h.ref)if(ii=!1,(c.lanes&P)!==0)(c.flags&131072)!==0&&(ii=!0);else return h.lanes=c.lanes,Xi(c,h,P);return Ds(c,h,v,M,P)}function pi(c,h,v){var M=h.pendingProps,P=M.children,L=c!==null?c.memoizedState:null;if(M.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null},Zt(Us,ki),ki|=v;else if((v&1073741824)!==0)h.memoizedState={baseLanes:0,cachePool:null},M=L!==null?L.baseLanes:v,Zt(Us,ki),ki|=M;else return c=L!==null?L.baseLanes|v:v,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:c,cachePool:null},h.updateQueue=null,Zt(Us,ki),ki|=c,null;else L!==null?(M=L.baseLanes|v,h.memoizedState=null):M=v,Zt(Us,ki),ki|=M;return Ln(c,h,P,v),h.child}function Ii(c,h){var v=h.ref;(c===null&&v!==null||c!==null&&c.ref!==v)&&(h.flags|=512,h.flags|=2097152)}function Ds(c,h,v,M,P){var L=hi(v)?Ss:an.current;return L=vr(h,L),La(h,P),v=Ga(c,h,v,M,L,P),M=co(),c!==null&&!ii?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~P,Xi(c,h,P)):(An&&M&&Th(h),h.flags|=1,Ln(c,h,v,P),h.child)}function Xo(c,h,v,M,P){if(hi(v)){var L=!0;mc(h)}else L=!1;if(La(h,P),h.stateNode===null)c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2),Hp(h,v,M),Eh(h,v,M,P),M=!0;else if(c===null){var j=h.stateNode,oe=h.memoizedProps;j.props=oe;var Ce=j.context,Ve=v.contextType;typeof Ve=="object"&&Ve!==null?Ve=ji(Ve):(Ve=hi(v)?Ss:an.current,Ve=vr(h,Ve));var st=v.getDerivedStateFromProps,Dt=typeof st=="function"||typeof j.getSnapshotBeforeUpdate=="function";Dt||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(oe!==M||Ce!==Ve)&&Vp(h,j,M,Ve),Sr=!1;var wt=h.memoizedState;j.state=wt,bc(h,M,j,P),Ce=h.memoizedState,oe!==M||wt!==Ce||$n.current||Sr?(typeof st=="function"&&(Mh(h,v,st,M),Ce=h.memoizedState),(oe=Sr||Ch(h,v,oe,M,wt,Ce,Ve))?(Dt||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(h.flags|=4194308)):(typeof j.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=M,h.memoizedState=Ce),j.props=M,j.state=Ce,j.context=Ve,M=oe):(typeof j.componentDidMount=="function"&&(h.flags|=4194308),M=!1)}else{j=h.stateNode,Sh(c,h),oe=h.memoizedProps,Ve=h.type===h.elementType?oe:Wi(h.type,oe),j.props=Ve,Dt=h.pendingProps,wt=j.context,Ce=v.contextType,typeof Ce=="object"&&Ce!==null?Ce=ji(Ce):(Ce=hi(v)?Ss:an.current,Ce=vr(h,Ce));var dn=v.getDerivedStateFromProps;(st=typeof dn=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(oe!==Dt||wt!==Ce)&&Vp(h,j,M,Ce),Sr=!1,wt=h.memoizedState,j.state=wt,bc(h,M,j,P);var tt=h.memoizedState;oe!==Dt||wt!==tt||$n.current||Sr?(typeof dn=="function"&&(Mh(h,v,dn,M),tt=h.memoizedState),(Ve=Sr||Ch(h,v,Ve,M,wt,tt,Ce)||!1)?(st||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(M,tt,Ce),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(M,tt,Ce)),typeof j.componentDidUpdate=="function"&&(h.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof j.componentDidUpdate!="function"||oe===c.memoizedProps&&wt===c.memoizedState||(h.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||oe===c.memoizedProps&&wt===c.memoizedState||(h.flags|=1024),h.memoizedProps=M,h.memoizedState=tt),j.props=M,j.state=tt,j.context=Ce,M=Ve):(typeof j.componentDidUpdate!="function"||oe===c.memoizedProps&&wt===c.memoizedState||(h.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||oe===c.memoizedProps&&wt===c.memoizedState||(h.flags|=1024),M=!1)}return wi(c,h,v,M,L,P)}function wi(c,h,v,M,P,L){Ii(c,h);var j=(h.flags&128)!==0;if(!M&&!j)return P&&gc(h,v,!1),Xi(c,h,L);M=h.stateNode,Hh.current=h;var oe=j&&typeof v.getDerivedStateFromError!="function"?null:M.render();return h.flags|=1,c!==null&&j?(h.child=Ps(h,c.child,null,L),h.child=Ps(h,null,oe,L)):Ln(c,h,oe,L),h.memoizedState=M.state,P&&gc(h,v,!0),h.child}function iu(c){var h=c.stateNode;h.pendingContext?Ul(c,h.pendingContext,h.pendingContext!==h.context):h.context&&Ul(c,h.context,!1),Dc(c,h.containerInfo)}function Vh(c,h,v,M,P){return Na(),Ic(P),h.flags|=256,Ln(c,h,v,M),h.child}var ru={dehydrated:null,treeContext:null,retryLane:0};function Ko(c){return{baseLanes:c,cachePool:null}}function Wh(c,h,v){var M=h.pendingProps,P=bn.current,L=!1,j=(h.flags&128)!==0,oe;if((oe=j)||(oe=c!==null&&c.memoizedState===null?!1:(P&2)!==0),oe?(L=!0,h.flags&=-129):(c===null||c.memoizedState!==null)&&(P|=1),Zt(bn,P&1),c===null)return lo(h),c=h.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((h.mode&1)===0?h.lanes=1:_s(c)?h.lanes=8:h.lanes=1073741824,null):(P=M.children,c=M.fallback,L?(M=h.mode,L=h.child,P={mode:"hidden",children:P},(M&1)===0&&L!==null?(L.childLanes=0,L.pendingProps=P):L=rl(P,M,0,null),c=wo(c,M,v,null),L.return=h,c.return=h,L.sibling=c,h.child=L,h.child.memoizedState=Ko(v),h.memoizedState=ru,c):Vr(h,P));if(P=c.memoizedState,P!==null){if(oe=P.dehydrated,oe!==null){if(j)return h.flags&256?(h.flags&=-257,ou(c,h,v,Error(a(422)))):h.memoizedState!==null?(h.child=c.child,h.flags|=128,null):(L=M.fallback,P=h.mode,M=rl({mode:"visible",children:M.children},P,0,null),L=wo(L,P,v,null),L.flags|=2,M.return=h,L.return=h,M.sibling=L,h.child=M,(h.mode&1)!==0&&Ps(h,c.child,null,v),h.child.memoizedState=Ko(v),h.memoizedState=ru,L);if((h.mode&1)===0)h=ou(c,h,v,null);else if(_s(oe))h=ou(c,h,v,Error(a(419)));else if(M=(v&c.childLanes)!==0,ii||M){if(M=Bn,M!==null){switch(v&-v){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}M=(L&(M.suspendedLanes|v))!==0?0:L,M!==0&&M!==P.retryLane&&(P.retryLane=M,Yi(c,M,-1))}fu(),h=ou(c,h,v,Error(a(421)))}else pc(oe)?(h.flags|=128,h.child=c.child,h=im.bind(null,c),W(oe,h),h=null):(v=P.treeContext,we&&(di=Re(oe),Li=h,An=!0,Cr=null,Fa=!1,v!==null&&(Mr[nr++]=Ts,Mr[nr++]=bs,Mr[nr++]=ko,Ts=v.id,bs=v.overflow,ko=h)),h=Vr(h,h.pendingProps.children),h.flags|=4096);return h}return L?(M=Qc(c,h,M.children,M.fallback,v),L=h.child,P=c.child.memoizedState,L.memoizedState=P===null?Ko(v):{baseLanes:P.baseLanes|v,cachePool:null},L.childLanes=c.childLanes&~v,h.memoizedState=ru,M):(v=su(c,h,M.children,v),h.memoizedState=null,v)}return L?(M=Qc(c,h,M.children,M.fallback,v),L=h.child,P=c.child.memoizedState,L.memoizedState=P===null?Ko(v):{baseLanes:P.baseLanes|v,cachePool:null},L.childLanes=c.childLanes&~v,h.memoizedState=ru,M):(v=su(c,h,M.children,v),h.memoizedState=null,v)}function Vr(c,h){return h=rl({mode:"visible",children:h},c.mode,0,null),h.return=c,c.child=h}function su(c,h,v,M){var P=c.child;return c=P.sibling,v=zs(P,{mode:"visible",children:v}),(h.mode&1)===0&&(v.lanes=M),v.return=h,v.sibling=null,c!==null&&(M=h.deletions,M===null?(h.deletions=[c],h.flags|=16):M.push(c)),h.child=v}function Qc(c,h,v,M,P){var L=h.mode;c=c.child;var j=c.sibling,oe={mode:"hidden",children:v};return(L&1)===0&&h.child!==c?(v=h.child,v.childLanes=0,v.pendingProps=oe,h.deletions=null):(v=zs(c,oe),v.subtreeFlags=c.subtreeFlags&14680064),j!==null?M=zs(j,M):(M=wo(M,L,P,null),M.flags|=2),M.return=h,v.return=h,v.sibling=M,h.child=v,M}function ou(c,h,v,M){return M!==null&&Ic(M),Ps(h,c.child,null,v),c=Vr(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function $p(c,h,v){c.lanes|=h;var M=c.alternate;M!==null&&(M.lanes|=h),No(c.return,h,v)}function ss(c,h,v,M,P){var L=c.memoizedState;L===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:M,tail:v,tailMode:P}:(L.isBackwards=h,L.rendering=null,L.renderingStartTime=0,L.last=M,L.tail=v,L.tailMode=P)}function Yo(c,h,v){var M=h.pendingProps,P=M.revealOrder,L=M.tail;if(Ln(c,h,M.children,v),M=bn.current,(M&2)!==0)M=M&1|2,h.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&$p(c,v,h);else if(c.tag===19)$p(c,v,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}M&=1}if(Zt(bn,M),(h.mode&1)===0)h.memoizedState=null;else switch(P){case"forwards":for(v=h.child,P=null;v!==null;)c=v.alternate,c!==null&&Fc(c)===null&&(P=v),v=v.sibling;v=P,v===null?(P=h.child,h.child=null):(P=v.sibling,v.sibling=null),ss(h,!1,P,v,L);break;case"backwards":for(v=null,P=h.child,h.child=null;P!==null;){if(c=P.alternate,c!==null&&Fc(c)===null){h.child=P;break}c=P.sibling,P.sibling=v,v=P,P=c}ss(h,!0,v,null,L);break;case"together":ss(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Xi(c,h,v){if(c!==null&&(h.dependencies=c.dependencies),Zo|=h.lanes,(v&h.childLanes)===0)return null;if(c!==null&&h.child!==c.child)throw Error(a(153));if(h.child!==null){for(c=h.child,v=zs(c,c.pendingProps),h.child=v,v.return=h;c.sibling!==null;)c=c.sibling,v=v.sibling=zs(c,c.pendingProps),v.return=h;v.sibling=null}return h.child}function qc(c,h,v){switch(h.tag){case 3:iu(h),Na();break;case 5:Kp(h);break;case 1:hi(h.type)&&mc(h);break;case 4:Dc(h,h.stateNode.containerInfo);break;case 10:Fo(h,h.type._context,h.memoizedProps.value);break;case 13:var M=h.memoizedState;if(M!==null)return M.dehydrated!==null?(Zt(bn,bn.current&1),h.flags|=128,null):(v&h.child.childLanes)!==0?Wh(c,h,v):(Zt(bn,bn.current&1),c=Xi(c,h,v),c!==null?c.sibling:null);Zt(bn,bn.current&1);break;case 19:if(M=(v&h.childLanes)!==0,(c.flags&128)!==0){if(M)return Yo(c,h,v);h.flags|=128}var P=h.memoizedState;if(P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),Zt(bn,bn.current),M)break;return null;case 22:case 23:return h.lanes=0,pi(c,h,v)}return Xi(c,h,v)}function Zc(c,h){switch(bh(h),h.tag){case 1:return hi(h.type)&&ro(),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return za(),Ct($n),Ct(an),Go(),c=h.flags,(c&65536)!==0&&(c&128)===0?(h.flags=c&-65537|128,h):null;case 5:return Rh(h),null;case 13:if(Ct(bn),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(a(340));Na()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return Ct(bn),null;case 4:return za(),null;case 10:return Jl(h.type._context),null;case 22:case 23:return Qh(),null;case 24:return null;default:return null}}var Di=!1,ri=!1,Qo=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function Er(c,h){var v=c.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(M){Ui(c,h,M)}else v.current=null}function Fs(c,h,v){try{v()}catch(M){Ui(c,h,M)}}var jh=!1;function Jh(c,h){for(re(c.containerInfo),Xe=h;Xe!==null;)if(c=Xe,h=c.child,(c.subtreeFlags&1028)!==0&&h!==null)h.return=c,Xe=h;else for(;Xe!==null;){c=Xe;try{var v=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var M=v.memoizedProps,P=v.memoizedState,L=c.stateNode,j=L.getSnapshotBeforeUpdate(c.elementType===c.type?M:Wi(c.type,M),P);L.__reactInternalSnapshotBeforeUpdate=j}break;case 3:Ye&&Je(c.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(oe){Ui(c,c.return,oe)}if(h=c.sibling,h!==null){h.return=c.return,Xe=h;break}Xe=c.return}return v=jh,jh=!1,v}function Ns(c,h,v){var M=h.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var P=M=M.next;do{if((P.tag&c)===c){var L=P.destroy;P.destroy=void 0,L!==void 0&&Fs(h,v,L)}P=P.next}while(P!==M)}}function mi(c,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var v=h=h.next;do{if((v.tag&c)===c){var M=v.create;v.destroy=M()}v=v.next}while(v!==h)}}function Fi(c){var h=c.ref;if(h!==null){var v=c.stateNode;switch(c.tag){case 5:c=ge(v);break;default:c=v}typeof h=="function"?h(c):h.current=c}}function vn(c,h,v){if(ns&&typeof ns.onCommitFiberUnmount=="function")try{ns.onCommitFiberUnmount(Hl,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(c=h.updateQueue,c!==null&&(c=c.lastEffect,c!==null)){var M=c=c.next;do{var P=M,L=P.destroy;P=P.tag,L!==void 0&&((P&2)!==0||(P&4)!==0)&&Fs(h,v,L),M=M.next}while(M!==c)}break;case 1:if(Er(h,v),c=h.stateNode,typeof c.componentWillUnmount=="function")try{c.props=h.memoizedProps,c.state=h.memoizedState,c.componentWillUnmount()}catch(j){Ui(h,v,j)}break;case 5:Er(h,v);break;case 4:Ye?Yh(c,h,v):Ee&&Ee&&(h=h.stateNode.containerInfo,v=jt(h),fi(h,v))}}function Tr(c,h,v){for(var M=h;;)if(vn(c,M,v),M.child===null||Ye&&M.tag===4){if(M===h)break;for(;M.sibling===null;){if(M.return===null||M.return===h)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function Xh(c){var h=c.alternate;h!==null&&(c.alternate=null,Xh(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&mt(h)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function Kh(c){return c.tag===5||c.tag===3||c.tag===4}function $c(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Kh(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function ef(c){if(Ye){e:{for(var h=c.return;h!==null;){if(Kh(h))break e;h=h.return}throw Error(a(160))}var v=h;switch(v.tag){case 5:h=v.stateNode,v.flags&32&&(Le(h),v.flags&=-33),v=$c(c),Xa(c,v,h);break;case 3:case 4:h=v.stateNode.containerInfo,v=$c(c),tf(c,v,h);break;default:throw Error(a(161))}}}function tf(c,h,v){var M=c.tag;if(M===5||M===6)c=c.stateNode,h?xt(v,c,h):Ze(v,c);else if(M!==4&&(c=c.child,c!==null))for(tf(c,h,v),c=c.sibling;c!==null;)tf(c,h,v),c=c.sibling}function Xa(c,h,v){var M=c.tag;if(M===5||M===6)c=c.stateNode,h?lt(v,c,h):_t(v,c);else if(M!==4&&(c=c.child,c!==null))for(Xa(c,h,v),c=c.sibling;c!==null;)Xa(c,h,v),c=c.sibling}function Yh(c,h,v){for(var M=h,P=!1,L,j;;){if(!P){P=M.return;e:for(;;){if(P===null)throw Error(a(160));switch(L=P.stateNode,P.tag){case 5:j=!1;break e;case 3:L=L.containerInfo,j=!0;break e;case 4:L=L.containerInfo,j=!0;break e}P=P.return}P=!0}if(M.tag===5||M.tag===6)Tr(c,M,v),j?te(L,M.stateNode):yt(L,M.stateNode);else if(M.tag===18)j?En(L,M.stateNode):Xt(L,M.stateNode);else if(M.tag===4){if(M.child!==null){L=M.stateNode.containerInfo,j=!0,M.child.return=M,M=M.child;continue}}else if(vn(c,M,v),M.child!==null){M.child.return=M,M=M.child;continue}if(M===h)break;for(;M.sibling===null;){if(M.return===null||M.return===h)return;M=M.return,M.tag===4&&(P=!1)}M.sibling.return=M.return,M=M.sibling}}function po(c,h){if(Ye){switch(h.tag){case 0:case 11:case 14:case 15:Ns(3,h,h.return),mi(3,h),Ns(5,h,h.return);return;case 1:return;case 5:var v=h.stateNode;if(v!=null){var M=h.memoizedProps;c=c!==null?c.memoizedProps:M;var P=h.type,L=h.updateQueue;h.updateQueue=null,L!==null&&St(v,L,P,c,M,h)}return;case 6:if(h.stateNode===null)throw Error(a(162));v=h.memoizedProps,be(h.stateNode,c!==null?c.memoizedProps:v,v);return;case 3:we&&c!==null&&c.memoizedState.isDehydrated&&Yt(h.stateNode.containerInfo);return;case 12:return;case 13:Ka(h);return;case 19:Ka(h);return;case 17:return}throw Error(a(163))}switch(h.tag){case 0:case 11:case 14:case 15:Ns(3,h,h.return),mi(3,h),Ns(5,h,h.return);return;case 12:return;case 13:Ka(h);return;case 19:Ka(h);return;case 3:we&&c!==null&&c.memoizedState.isDehydrated&&Yt(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(Ee){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,fi(h.containerInfo,h.pendingChildren);break e}throw Error(a(163))}}function Ka(c){var h=c.updateQueue;if(h!==null){c.updateQueue=null;var v=c.stateNode;v===null&&(v=c.stateNode=new Qo),h.forEach(function(M){var P=du.bind(null,c,M);v.has(M)||(v.add(M),M.then(P,P))})}}function F0(c,h){for(Xe=h;Xe!==null;){h=Xe;var v=h.deletions;if(v!==null)for(var M=0;M<v.length;M++){var P=v[M];try{var L=c;Ye?Yh(L,P,h):Tr(L,P,h);var j=P.alternate;j!==null&&(j.return=null),P.return=null}catch(ft){Ui(P,h,ft)}}if(v=h.child,(h.subtreeFlags&12854)!==0&&v!==null)v.return=h,Xe=v;else for(;Xe!==null;){h=Xe;try{var oe=h.flags;if(oe&32&&Ye&&Le(h.stateNode),oe&512){var Ce=h.alternate;if(Ce!==null){var Ve=Ce.ref;Ve!==null&&(typeof Ve=="function"?Ve(null):Ve.current=null)}}if(oe&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var st=h.alternate;(st===null||st.memoizedState===null)&&(sf=Xn())}break;case 22:var Dt=h.memoizedState!==null,wt=h.alternate,dn=wt!==null&&wt.memoizedState!==null;if(v=h,Ye){e:if(M=v,P=Dt,L=null,Ye)for(var tt=M;;){if(tt.tag===5){if(L===null){L=tt;var ln=tt.stateNode;P?nt(ln):_e(tt.stateNode,tt.memoizedProps)}}else if(tt.tag===6){if(L===null){var lr=tt.stateNode;P?q(lr):Ie(lr,tt.memoizedProps)}}else if((tt.tag!==22&&tt.tag!==23||tt.memoizedState===null||tt===M)&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===M)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===M)break e;L===tt&&(L=null),tt=tt.return}L===tt&&(L=null),tt.sibling.return=tt.return,tt=tt.sibling}}if(Dt&&!dn&&(v.mode&1)!==0){Xe=v;for(var ye=v.child;ye!==null;){for(v=Xe=ye;Xe!==null;){M=Xe;var ue=M.child;switch(M.tag){case 0:case 11:case 14:case 15:Ns(4,M,M.return);break;case 1:Er(M,M.return);var Se=M.stateNode;if(typeof Se.componentWillUnmount=="function"){var $e=M.return;try{Se.props=M.memoizedProps,Se.state=M.memoizedState,Se.componentWillUnmount()}catch(ft){Ui(M,$e,ft)}}break;case 5:Er(M,M.return);break;case 22:if(M.memoizedState!==null){qo(v);continue}}ue!==null?(ue.return=M,Xe=ue):qo(v)}ye=ye.sibling}}}switch(oe&4102){case 2:ef(h),h.flags&=-3;break;case 6:ef(h),h.flags&=-3,po(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,po(h.alternate,h);break;case 4:po(h.alternate,h)}}catch(ft){Ui(h,h.return,ft)}if(v=h.sibling,v!==null){v.return=h.return,Xe=v;break}Xe=h.return}}}function Wr(c,h,v){Xe=c,au(c)}function au(c,h,v){for(var M=(c.mode&1)!==0;Xe!==null;){var P=Xe,L=P.child;if(P.tag===22&&M){var j=P.memoizedState!==null||Di;if(!j){var oe=P.alternate,Ce=oe!==null&&oe.memoizedState!==null||ri;oe=Di;var Ve=ri;if(Di=j,(ri=Ce)&&!Ve)for(Xe=P;Xe!==null;)j=Xe,Ce=j.child,j.tag===22&&j.memoizedState!==null?nf(P):Ce!==null?(Ce.return=j,Xe=Ce):nf(P);for(;L!==null;)Xe=L,au(L),L=L.sibling;Xe=P,Di=oe,ri=Ve}lu(c)}else(P.subtreeFlags&8772)!==0&&L!==null?(L.return=P,Xe=L):lu(c)}}function lu(c){for(;Xe!==null;){var h=Xe;if((h.flags&8772)!==0){var v=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:ri||mi(5,h);break;case 1:var M=h.stateNode;if(h.flags&4&&!ri)if(v===null)M.componentDidMount();else{var P=h.elementType===h.type?v.memoizedProps:Wi(h.type,v.memoizedProps);M.componentDidUpdate(P,v.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var L=h.updateQueue;L!==null&&zp(h,L,M);break;case 3:var j=h.updateQueue;if(j!==null){if(v=null,h.child!==null)switch(h.child.tag){case 5:v=ge(h.child.stateNode);break;case 1:v=h.child.stateNode}zp(h,j,v)}break;case 5:var oe=h.stateNode;v===null&&h.flags&4&&ct(oe,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(we&&h.memoizedState===null){var Ce=h.alternate;if(Ce!==null){var Ve=Ce.memoizedState;if(Ve!==null){var st=Ve.dehydrated;st!==null&&Jt(st)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}ri||h.flags&512&&Fi(h)}catch(Dt){Ui(h,h.return,Dt)}}if(h===c){Xe=null;break}if(v=h.sibling,v!==null){v.return=h.return,Xe=v;break}Xe=h.return}}function qo(c){for(;Xe!==null;){var h=Xe;if(h===c){Xe=null;break}var v=h.sibling;if(v!==null){v.return=h.return,Xe=v;break}Xe=h.return}}function nf(c){for(;Xe!==null;){var h=Xe;try{switch(h.tag){case 0:case 11:case 15:var v=h.return;try{mi(4,h)}catch(Ce){Ui(h,v,Ce)}break;case 1:var M=h.stateNode;if(typeof M.componentDidMount=="function"){var P=h.return;try{M.componentDidMount()}catch(Ce){Ui(h,P,Ce)}}var L=h.return;try{Fi(h)}catch(Ce){Ui(h,L,Ce)}break;case 5:var j=h.return;try{Fi(h)}catch(Ce){Ui(h,j,Ce)}}}catch(Ce){Ui(h,h.return,Ce)}if(h===c){Xe=null;break}var oe=h.sibling;if(oe!==null){oe.return=h.return,Xe=oe;break}Xe=h.return}}var Ya=0,Qa=1,qa=2,ks=3,Ni=4;if(typeof Symbol=="function"&&Symbol.for){var jr=Symbol.for;Ya=jr("selector.component"),Qa=jr("selector.has_pseudo_class"),qa=jr("selector.role"),ks=jr("selector.test_id"),Ni=jr("selector.text")}function uu(c){var h=ze(c);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(a(364));return h}if(c=Ot(c),c===null)throw Error(a(362));return c.stateNode.current}function rf(c,h){switch(h.$$typeof){case Ya:if(c.type===h.value)return!0;break;case Qa:e:{h=h.value,c=[c,0];for(var v=0;v<c.length;){var M=c[v++],P=c[v++],L=h[P];if(M.tag!==5||!xe(M)){for(;L!=null&&rf(M,L);)P++,L=h[P];if(P===h.length){h=!0;break e}else for(M=M.child;M!==null;)c.push(M,P),M=M.sibling}}h=!1}return h;case qa:if(c.tag===5&&ke(c.stateNode,h.value))return!0;break;case Ni:if((c.tag===5||c.tag===6)&&(c=U(c),c!==null&&0<=c.indexOf(h.value)))return!0;break;case ks:if(c.tag===5&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Jr(c){switch(c.$$typeof){case Ya:return"<"+(z(c.value)||"Unknown")+">";case Qa:return":has("+(Jr(c)||"")+")";case qa:return'[role="'+c.value+'"]';case Ni:return'"'+c.value+'"';case ks:return'[data-testname="'+c.value+'"]';default:throw Error(a(365))}}function Os(c,h){var v=[];c=[c,0];for(var M=0;M<c.length;){var P=c[M++],L=c[M++],j=h[L];if(P.tag!==5||!xe(P)){for(;j!=null&&rf(P,j);)L++,j=h[L];if(L===h.length)v.push(P);else for(P=P.child;P!==null;)c.push(P,L),P=P.sibling}}return v}function cu(c,h){if(!kt)throw Error(a(363));c=uu(c),c=Os(c,h),h=[],c=Array.from(c);for(var v=0;v<c.length;){var M=c[v++];if(M.tag===5)xe(M)||h.push(M.stateNode);else for(M=M.child;M!==null;)c.push(M),M=M.sibling}return h}var em=Math.ceil,br=l.ReactCurrentDispatcher,os=l.ReactCurrentOwner,wn=l.ReactCurrentBatchConfig,Gt=0,Bn=null,Nn=null,si=0,ki=0,Us=Pi(0),Hn=0,Za=null,Zo=0,$a=0,$o=0,mo=null,Oi=null,sf=0,go=1/0;function ea(){go=Xn()+500}var yo=!1,Pr=null,Br=null,vo=!1,Ki=null,el=0,as=0,of=null,tl=-1,yn=0;function oi(){return(Gt&6)!==0?Xn():tl!==-1?tl:tl=Xn()}function ls(c){return(c.mode&1)===0?1:(Gt&2)!==0&&si!==0?si&-si:Up.transition!==null?(yn===0&&(c=Pa,Pa<<=1,(Pa&4194240)===0&&(Pa=64),yn=c),yn):(c=Ht,c!==0?c:Ke())}function Yi(c,h,v){if(50<as)throw as=0,of=null,Error(a(185));var M=ta(c,h);return M===null?null:(Ro(M,h,v),((Gt&2)===0||M!==Bn)&&(M===Bn&&((Gt&2)===0&&($a|=h),Hn===4&&Xr(M,si)),Si(M,v),h===1&&Gt===0&&(c.mode&1)===0&&(ea(),wc&&Ar())),M)}function ta(c,h){c.lanes|=h;var v=c.alternate;for(v!==null&&(v.lanes|=h),v=c,c=c.return;c!==null;)c.childLanes|=h,v=c.alternate,v!==null&&(v.childLanes|=h),v=c,c=c.return;return v.tag===3?v.stateNode:null}function Si(c,h){var v=c.callbackNode;Op(c,h);var M=Gl(c,c===Bn?si:0);if(M===0)v!==null&&Ra(v),c.callbackNode=null,c.callbackPriority=0;else if(h=M&-M,c.callbackPriority!==h){if(v!=null&&Ra(v),h===1)c.tag===0?Mc(nl.bind(null,c)):Sc(nl.bind(null,c)),gt?at(function(){Gt===0&&Ar()}):Lo(Io,Ar),v=null;else{switch(Ms(M)){case 1:v=Io;break;case 4:v=L0;break;case 16:v=_c;break;case 536870912:v=Ac;break;default:v=_c}v=pu(v,xo.bind(null,c))}c.callbackPriority=h,c.callbackNode=v}}function xo(c,h){if(tl=-1,yn=0,(Gt&6)!==0)throw Error(a(327));var v=c.callbackNode;if(Ao()&&c.callbackNode!==v)return null;var M=Gl(c,c===Bn?si:0);if(M===0)return null;if((M&30)!==0||(M&c.expiredLanes)!==0||h)h=or(c,M);else{h=M;var P=Gt;Gt|=2;var L=lf();(Bn!==c||si!==h)&&(ea(),In(c,h));do try{hu();break}catch(oe){af(c,oe)}while(!0);Ri(),br.current=L,Gt=P,Nn!==null?h=0:(Bn=null,si=0,h=Hn)}if(h!==0){if(h===2&&(P=yc(c),P!==0&&(M=P,h=xn(c,P))),h===1)throw v=Za,In(c,0),Xr(c,M),Si(c,Xn()),v;if(h===6)Xr(c,M);else{if(P=c.current.alternate,(M&30)===0&&!ai(P)&&(h=or(c,M),h===2&&(L=yc(c),L!==0&&(M=L,h=xn(c,L))),h===1))throw v=Za,In(c,0),Xr(c,M),Si(c,Xn()),v;switch(c.finishedWork=P,c.finishedLanes=M,h){case 0:case 1:throw Error(a(345));case 2:_o(c,Oi);break;case 3:if(Xr(c,M),(M&130023424)===M&&(h=sf+500-Xn(),10<h)){if(Gl(c,0)!==0)break;if(P=c.suspendedLanes,(P&M)!==M){oi(),c.pingedLanes|=c.suspendedLanes&P;break}c.timeoutHandle=Ge(_o.bind(null,c,Oi),h);break}_o(c,Oi);break;case 4:if(Xr(c,M),(M&4194240)===M)break;for(h=c.eventTimes,P=-1;0<M;){var j=31-xr(M);L=1<<j,j=h[j],j>P&&(P=j),M&=~L}if(M=P,M=Xn()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*em(M/1960))-M,10<M){c.timeoutHandle=Ge(_o.bind(null,c,Oi),M);break}_o(c,Oi);break;case 5:_o(c,Oi);break;default:throw Error(a(329))}}}return Si(c,Xn()),c.callbackNode===v?xo.bind(null,c):null}function xn(c,h){var v=mo;return c.current.memoizedState.isDehydrated&&(In(c,h).flags|=256),c=or(c,h),c!==2&&(h=Oi,Oi=v,h!==null&&kn(h)),c}function kn(c){Oi===null?Oi=c:Oi.push.apply(Oi,c)}function ai(c){for(var h=c;;){if(h.flags&16384){var v=h.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var M=0;M<v.length;M++){var P=v[M],L=P.getSnapshot;P=P.value;try{if(!Bi(L(),P))return!1}catch{return!1}}}if(v=h.child,h.subtreeFlags&16384&&v!==null)v.return=h,h=v;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Xr(c,h){for(h&=~$o,h&=~$a,c.suspendedLanes|=h,c.pingedLanes&=~h,c=c.expirationTimes;0<h;){var v=31-xr(h),M=1<<v;c[v]=-1,h&=~M}}function nl(c){if((Gt&6)!==0)throw Error(a(327));Ao();var h=Gl(c,0);if((h&1)===0)return Si(c,Xn()),null;var v=or(c,h);if(c.tag!==0&&v===2){var M=yc(c);M!==0&&(h=M,v=xn(c,M))}if(v===1)throw v=Za,In(c,0),Xr(c,h),Si(c,Xn()),v;if(v===6)throw Error(a(345));return c.finishedWork=c.current.alternate,c.finishedLanes=h,_o(c,Oi),Si(c,Xn()),null}function il(c){Ki!==null&&Ki.tag===0&&(Gt&6)===0&&Ao();var h=Gt;Gt|=1;var v=wn.transition,M=Ht;try{if(wn.transition=null,Ht=1,c)return c()}finally{Ht=M,wn.transition=v,Gt=h,(Gt&6)===0&&Ar()}}function Qh(){ki=Us.current,Ct(Us)}function In(c,h){c.finishedWork=null,c.finishedLanes=0;var v=c.timeoutHandle;if(v!==Qe&&(c.timeoutHandle=Qe,Ne(v)),Nn!==null)for(v=Nn.return;v!==null;){var M=v;switch(bh(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&ro();break;case 3:za(),Ct($n),Ct(an),Go();break;case 5:Rh(M);break;case 4:za();break;case 13:Ct(bn);break;case 19:Ct(bn);break;case 10:Jl(M.type._context);break;case 22:case 23:Qh()}v=v.return}if(Bn=c,Nn=c=zs(c.current,null),si=ki=h,Hn=0,Za=null,$o=$a=Zo=0,Oi=mo=null,wr!==null){for(h=0;h<wr.length;h++)if(v=wr[h],M=v.interleaved,M!==null){v.interleaved=null;var P=M.next,L=v.pending;if(L!==null){var j=L.next;L.next=P,M.next=j}v.pending=M}wr=null}return c}function af(c,h){do{var v=Nn;try{if(Ri(),Kl.current=ja,Nc){for(var M=Pn.memoizedState;M!==null;){var P=M.queue;P!==null&&(P.pending=null),M=M.next}Nc=!1}if(Ho=0,ti=ei=Pn=null,is=!1,Vo=0,os.current=null,v===null||v.return===null){Hn=1,Za=h,Nn=null;break}e:{var L=c,j=v.return,oe=v,Ce=h;if(h=si,oe.flags|=32768,Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var Ve=Ce,st=oe,Dt=st.tag;if((st.mode&1)===0&&(Dt===0||Dt===11||Dt===15)){var wt=st.alternate;wt?(st.updateQueue=wt.updateQueue,st.memoizedState=wt.memoizedState,st.lanes=wt.lanes):(st.updateQueue=null,st.memoizedState=null)}var dn=Gh(j);if(dn!==null){dn.flags&=-257,jo(dn,j,oe,L,h),dn.mode&1&&Rs(L,Ve,h),h=dn,Ce=Ve;var tt=h.updateQueue;if(tt===null){var ln=new Set;ln.add(Ce),h.updateQueue=ln}else tt.add(Ce);break e}else{if((h&1)===0){Rs(L,Ve,h),fu();break e}Ce=Error(a(426))}}else if(An&&oe.mode&1){var lr=Gh(j);if(lr!==null){(lr.flags&65536)===0&&(lr.flags|=256),jo(lr,j,oe,L,h),Ic(Ce);break e}}L=Ce,Hn!==4&&(Hn=2),mo===null?mo=[L]:mo.push(L),Ce=zh(Ce,oe),oe=j;do{switch(oe.tag){case 3:oe.flags|=65536,h&=-h,oe.lanes|=h;var ye=Zp(oe,Ce,h);Tc(oe,ye);break e;case 1:L=Ce;var ue=oe.type,Se=oe.stateNode;if((oe.flags&128)===0&&(typeof ue.getDerivedStateFromError=="function"||Se!==null&&typeof Se.componentDidCatch=="function"&&(Br===null||!Br.has(Se)))){oe.flags|=65536,h&=-h,oe.lanes|=h;var $e=Jc(oe,L,h);Tc(oe,$e);break e}}oe=oe.return}while(oe!==null)}cf(v)}catch(ft){h=ft,Nn===v&&v!==null&&(Nn=v=v.return);continue}break}while(!0)}function lf(){var c=br.current;return br.current=ja,c===null?ja:c}function fu(){(Hn===0||Hn===3||Hn===2)&&(Hn=4),Bn===null||(Zo&268435455)===0&&($a&268435455)===0||Xr(Bn,si)}function or(c,h){var v=Gt;Gt|=2;var M=lf();Bn===c&&si===h||In(c,h);do try{Rr();break}catch(P){af(c,P)}while(!0);if(Ri(),Gt=v,br.current=M,Nn!==null)throw Error(a(261));return Bn=null,si=0,Hn}function Rr(){for(;Nn!==null;)uf(Nn)}function hu(){for(;Nn!==null&&!so();)uf(Nn)}function uf(c){var h=$h(c.alternate,c,ki);c.memoizedProps=c.pendingProps,h===null?cf(c):Nn=h,os.current=null}function cf(c){var h=c;do{var v=h.alternate;if(c=h.return,(h.flags&32768)===0){if(v=Yc(v,h,ki),v!==null){Nn=v;return}}else{if(v=Zc(v,h),v!==null){v.flags&=32767,Nn=v;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Hn=6,Nn=null;return}}if(h=h.sibling,h!==null){Nn=h;return}Nn=h=c}while(h!==null);Hn===0&&(Hn=5)}function _o(c,h){var v=Ht,M=wn.transition;try{wn.transition=null,Ht=1,tm(c,h,v)}finally{wn.transition=M,Ht=v}return null}function tm(c,h,v){do Ao();while(Ki!==null);if((Gt&6)!==0)throw Error(a(327));var M=c.finishedWork,P=c.finishedLanes;if(M===null)return null;if(c.finishedWork=null,c.finishedLanes=0,M===c.current)throw Error(a(177));c.callbackNode=null,c.callbackPriority=0;var L=M.lanes|M.childLanes;if(xc(c,L),c===Bn&&(Nn=Bn=null,si=0),(M.subtreeFlags&2064)===0&&(M.flags&2064)===0||vo||(vo=!0,pu(_c,function(){return Ao(),null})),L=(M.flags&15990)!==0,(M.subtreeFlags&15990)!==0||L){L=wn.transition,wn.transition=null;var j=Ht;Ht=1;var oe=Gt;Gt|=4,os.current=null,Jh(c,M),F0(c,M),k(c.containerInfo),c.current=M,Wr(M),R0(),Gt=oe,Ht=j,wn.transition=L}else c.current=M;if(vo&&(vo=!1,Ki=c,el=P),L=c.pendingLanes,L===0&&(Br=null),Vl(M.stateNode),Si(c,Xn()),h!==null)for(v=c.onRecoverableError,M=0;M<h.length;M++)v(h[M]);if(yo)throw yo=!1,c=Pr,Pr=null,c;return(el&1)!==0&&c.tag!==0&&Ao(),L=c.pendingLanes,(L&1)!==0?c===of?as++:(as=0,of=c):as=0,Ar(),null}function Ao(){if(Ki!==null){var c=Ms(el),h=wn.transition,v=Ht;try{if(wn.transition=null,Ht=16>c?16:c,Ki===null)var M=!1;else{if(c=Ki,Ki=null,el=0,(Gt&6)!==0)throw Error(a(331));var P=Gt;for(Gt|=4,Xe=c.current;Xe!==null;){var L=Xe,j=L.child;if((Xe.flags&16)!==0){var oe=L.deletions;if(oe!==null){for(var Ce=0;Ce<oe.length;Ce++){var Ve=oe[Ce];for(Xe=Ve;Xe!==null;){var st=Xe;switch(st.tag){case 0:case 11:case 15:Ns(8,st,L)}var Dt=st.child;if(Dt!==null)Dt.return=st,Xe=Dt;else for(;Xe!==null;){st=Xe;var wt=st.sibling,dn=st.return;if(Xh(st),st===Ve){Xe=null;break}if(wt!==null){wt.return=dn,Xe=wt;break}Xe=dn}}}var tt=L.alternate;if(tt!==null){var ln=tt.child;if(ln!==null){tt.child=null;do{var lr=ln.sibling;ln.sibling=null,ln=lr}while(ln!==null)}}Xe=L}}if((L.subtreeFlags&2064)!==0&&j!==null)j.return=L,Xe=j;else e:for(;Xe!==null;){if(L=Xe,(L.flags&2048)!==0)switch(L.tag){case 0:case 11:case 15:Ns(9,L,L.return)}var ye=L.sibling;if(ye!==null){ye.return=L.return,Xe=ye;break e}Xe=L.return}}var ue=c.current;for(Xe=ue;Xe!==null;){j=Xe;var Se=j.child;if((j.subtreeFlags&2064)!==0&&Se!==null)Se.return=j,Xe=Se;else e:for(j=ue;Xe!==null;){if(oe=Xe,(oe.flags&2048)!==0)try{switch(oe.tag){case 0:case 11:case 15:mi(9,oe)}}catch(ft){Ui(oe,oe.return,ft)}if(oe===j){Xe=null;break e}var $e=oe.sibling;if($e!==null){$e.return=oe.return,Xe=$e;break e}Xe=oe.return}}if(Gt=P,Ar(),ns&&typeof ns.onPostCommitFiberRoot=="function")try{ns.onPostCommitFiberRoot(Hl,c)}catch{}M=!0}return M}finally{Ht=v,wn.transition=h}}return!1}function qh(c,h,v){h=zh(v,h),h=Zp(c,h,1),oo(c,h),h=oi(),c=ta(c,1),c!==null&&(Ro(c,1,h),Si(c,h))}function Ui(c,h,v){if(c.tag===3)qh(c,c,v);else for(;h!==null;){if(h.tag===3){qh(h,c,v);break}else if(h.tag===1){var M=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Br===null||!Br.has(M))){c=zh(v,c),c=Jc(h,c,1),oo(h,c),c=oi(),h=ta(h,1),h!==null&&(Ro(h,1,c),Si(h,c));break}}h=h.return}}function nm(c,h,v){var M=c.pingCache;M!==null&&M.delete(h),h=oi(),c.pingedLanes|=c.suspendedLanes&v,Bn===c&&(si&v)===v&&(Hn===4||Hn===3&&(si&130023424)===si&&500>Xn()-sf?In(c,0):$o|=v),Si(c,h)}function Zh(c,h){h===0&&((c.mode&1)===0?h=1:(h=nn,nn<<=1,(nn&130023424)===0&&(nn=4194304)));var v=oi();c=ta(c,h),c!==null&&(Ro(c,h,v),Si(c,v))}function im(c){var h=c.memoizedState,v=0;h!==null&&(v=h.retryLane),Zh(c,v)}function du(c,h){var v=0;switch(c.tag){case 13:var M=c.stateNode,P=c.memoizedState;P!==null&&(v=P.retryLane);break;case 19:M=c.stateNode;break;default:throw Error(a(314))}M!==null&&M.delete(h),Zh(c,v)}var $h;$h=function(c,h,v){if(c!==null)if(c.memoizedProps!==h.pendingProps||$n.current)ii=!0;else{if((c.lanes&v)===0&&(h.flags&128)===0)return ii=!1,qc(c,h,v);ii=(c.flags&131072)!==0}else ii=!1,An&&(h.flags&1048576)!==0&&Wp(h,Rc,h.index);switch(h.lanes=0,h.tag){case 2:var M=h.type;c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2),c=h.pendingProps;var P=vr(h,an.current);La(h,v),P=Ga(null,h,M,c,P,v);var L=co();return h.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,hi(M)?(L=!0,mc(h)):L=!1,h.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,Ia(h),P.updater=Pc,h.stateNode=P,P._reactInternals=h,Eh(h,M,c,v),h=wi(null,h,M,!0,L,v)):(h.tag=0,An&&L&&Th(h),Ln(null,h,P,v),h=h.child),h;case 16:M=h.elementType;e:{switch(c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2),c=h.pendingProps,P=M._init,M=P(M._payload),h.type=M,P=h.tag=rm(M),c=Wi(M,c),P){case 0:h=Ds(null,h,M,c,v);break e;case 1:h=Xo(null,h,M,c,v);break e;case 11:h=gn(null,h,M,c,v);break e;case 14:h=hn(null,h,M,Wi(M.type,c),v);break e}throw Error(a(306,M,""))}return h;case 0:return M=h.type,P=h.pendingProps,P=h.elementType===M?P:Wi(M,P),Ds(c,h,M,P,v);case 1:return M=h.type,P=h.pendingProps,P=h.elementType===M?P:Wi(M,P),Xo(c,h,M,P,v);case 3:e:{if(iu(h),c===null)throw Error(a(387));M=h.pendingProps,L=h.memoizedState,P=L.element,Sh(c,h),bc(h,M,null,v);var j=h.memoizedState;if(M=j.element,we&&L.isDehydrated)if(L={element:M,isDehydrated:!1,cache:j.cache,transitions:j.transitions},h.updateQueue.baseState=L,h.memoizedState=L,h.flags&256){P=Error(a(423)),h=Vh(c,h,M,v,P);break e}else if(M!==P){P=Error(a(424)),h=Vh(c,h,M,v,P);break e}else for(we&&(di=de(h.stateNode.containerInfo),Li=h,An=!0,Cr=null,Fa=!1),v=Xp(h,null,M,v),h.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Na(),M===P){h=Xi(c,h,v);break e}Ln(c,h,M,v)}h=h.child}return h;case 5:return Kp(h),c===null&&lo(h),M=h.type,P=h.pendingProps,L=c!==null?c.memoizedProps:null,j=P.children,Pe(M,P)?j=null:L!==null&&Pe(M,L)&&(h.flags|=32),Ii(c,h),Ln(c,h,j,v),h.child;case 6:return c===null&&lo(h),null;case 13:return Wh(c,h,v);case 4:return Dc(h,h.stateNode.containerInfo),M=h.pendingProps,c===null?h.child=Ps(h,null,M,v):Ln(c,h,M,v),h.child;case 11:return M=h.type,P=h.pendingProps,P=h.elementType===M?P:Wi(M,P),gn(c,h,M,P,v);case 7:return Ln(c,h,h.pendingProps,v),h.child;case 8:return Ln(c,h,h.pendingProps.children,v),h.child;case 12:return Ln(c,h,h.pendingProps.children,v),h.child;case 10:e:{if(M=h.type._context,P=h.pendingProps,L=h.memoizedProps,j=P.value,Fo(h,M,j),L!==null)if(Bi(L.value,j)){if(L.children===P.children&&!$n.current){h=Xi(c,h,v);break e}}else for(L=h.child,L!==null&&(L.return=h);L!==null;){var oe=L.dependencies;if(oe!==null){j=L.child;for(var Ce=oe.firstContext;Ce!==null;){if(Ce.context===M){if(L.tag===1){Ce=Es(-1,v&-v),Ce.tag=2;var Ve=L.updateQueue;if(Ve!==null){Ve=Ve.shared;var st=Ve.pending;st===null?Ce.next=Ce:(Ce.next=st.next,st.next=Ce),Ve.pending=Ce}}L.lanes|=v,Ce=L.alternate,Ce!==null&&(Ce.lanes|=v),No(L.return,v,h),oe.lanes|=v;break}Ce=Ce.next}}else if(L.tag===10)j=L.type===h.type?null:L.child;else if(L.tag===18){if(j=L.return,j===null)throw Error(a(341));j.lanes|=v,oe=j.alternate,oe!==null&&(oe.lanes|=v),No(j,v,h),j=L.sibling}else j=L.child;if(j!==null)j.return=L;else for(j=L;j!==null;){if(j===h){j=null;break}if(L=j.sibling,L!==null){L.return=j.return,j=L;break}j=j.return}L=j}Ln(c,h,P.children,v),h=h.child}return h;case 9:return P=h.type,M=h.pendingProps.children,La(h,v),P=ji(P),M=M(P),h.flags|=1,Ln(c,h,M,v),h.child;case 14:return M=h.type,P=Wi(M,h.pendingProps),P=Wi(M.type,P),hn(c,h,M,P,v);case 15:return Is(c,h,h.type,h.pendingProps,v);case 17:return M=h.type,P=h.pendingProps,P=h.elementType===M?P:Wi(M,P),c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,hi(M)?(c=!0,mc(h)):c=!1,La(h,v),Hp(h,M,P),Eh(h,M,P,v),wi(null,h,M,!0,c,v);case 19:return Yo(c,h,v);case 22:return pi(c,h,v)}throw Error(a(156,h.tag))};function pu(c,h){return Lo(c,h)}function ff(c,h,v,M){this.tag=c,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(c,h,v,M){return new ff(c,h,v,M)}function mu(c){return c=c.prototype,!(!c||!c.isReactComponent)}function rm(c){if(typeof c=="function")return mu(c)?1:0;if(c!=null){if(c=c.$$typeof,c===w)return 11;if(c===b)return 14}return 2}function zs(c,h){var v=c.alternate;return v===null?(v=ar(c.tag,h,c.key,c.mode),v.elementType=c.elementType,v.type=c.type,v.stateNode=c.stateNode,v.alternate=c,c.alternate=v):(v.pendingProps=h,v.type=c.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=c.flags&14680064,v.childLanes=c.childLanes,v.lanes=c.lanes,v.child=c.child,v.memoizedProps=c.memoizedProps,v.memoizedState=c.memoizedState,v.updateQueue=c.updateQueue,h=c.dependencies,v.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},v.sibling=c.sibling,v.index=c.index,v.ref=c.ref,v}function gu(c,h,v,M,P,L){var j=2;if(M=c,typeof c=="function")mu(c)&&(j=1);else if(typeof c=="string")j=5;else e:switch(c){case p:return wo(v.children,P,L,h);case g:j=8,P|=8;break;case y:return c=ar(12,v,h,P|2),c.elementType=y,c.lanes=L,c;case S:return c=ar(13,v,h,P),c.elementType=S,c.lanes=L,c;case E:return c=ar(19,v,h,P),c.elementType=E,c.lanes=L,c;case R:return rl(v,P,L,h);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case x:j=10;break e;case A:j=9;break e;case w:j=11;break e;case b:j=14;break e;case T:j=16,M=null;break e}throw Error(a(130,c==null?c:typeof c,""))}return h=ar(j,v,h,P),h.elementType=c,h.type=M,h.lanes=L,h}function wo(c,h,v,M){return c=ar(7,c,M,h),c.lanes=v,c}function rl(c,h,v,M){return c=ar(22,c,M,h),c.elementType=R,c.lanes=v,c.stateNode={},c}function hf(c,h,v){return c=ar(6,c,null,h),c.lanes=v,c}function df(c,h,v){return h=ar(4,c.children!==null?c.children:[],c.key,h),h.lanes=v,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}function sm(c,h,v,M,P){this.tag=h,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Qe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vc(0),this.expirationTimes=vc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vc(0),this.identifierPrefix=M,this.onRecoverableError=P,we&&(this.mutableSourceEagerHydrationData=null)}function om(c,h,v,M,P,L,j,oe,Ce){return c=new sm(c,h,v,oe,Ce),h===1?(h=1,L===!0&&(h|=8)):h=0,L=ar(3,null,null,h),c.current=L,L.stateNode=c,L.memoizedState={element:M,isDehydrated:v,cache:null,transitions:null},Ia(L),c}function ed(c){if(!c)return Rn;c=c._reactInternals;e:{if(O(c)!==c||c.tag!==1)throw Error(a(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(hi(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(a(171))}if(c.tag===1){var v=c.type;if(hi(v))return kp(c,v,h)}return h}function am(c){var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(a(188)):(c=Object.keys(c).join(","),Error(a(268,c)));return c=he(h),c===null?null:c.stateNode}function lm(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var v=c.retryLane;c.retryLane=v!==0&&v<h?v:h}}function pf(c,h){lm(c,h),(c=c.alternate)&&lm(c,h)}function um(c){return c=he(c),c===null?null:c.stateNode}function cm(){return null}return t.attemptContinuousHydration=function(c){if(c.tag===13){var h=oi();Yi(c,134217728,h),pf(c,134217728)}},t.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var h=oi(),v=ls(c);Yi(c,v,h),pf(c,v)}},t.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var h=c.stateNode;if(h.current.memoizedState.isDehydrated){var v=Ba(h.pendingLanes);v!==0&&(ts(h,v|1),Si(h,Xn()),(Gt&6)===0&&(ea(),Ar()))}break;case 13:var M=oi();il(function(){return Yi(c,1,M)}),pf(c,1)}},t.batchedUpdates=function(c,h){var v=Gt;Gt|=1;try{return c(h)}finally{Gt=v,Gt===0&&(ea(),wc&&Ar())}},t.createComponentSelector=function(c){return{$$typeof:Ya,value:c}},t.createContainer=function(c,h,v,M,P,L,j){return om(c,h,!1,null,v,M,P,L,j)},t.createHasPseudoClassSelector=function(c){return{$$typeof:Qa,value:c}},t.createHydrationContainer=function(c,h,v,M,P,L,j,oe,Ce){return c=om(v,M,!0,c,P,L,j,oe,Ce),c.context=ed(null),v=c.current,M=oi(),P=ls(v),L=Es(M,P),L.callback=h??null,oo(v,L),c.current.lanes=P,Ro(c,P,M),Si(c,M),c},t.createPortal=function(c,h,v){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:M==null?null:""+M,children:c,containerInfo:h,implementation:v}},t.createRoleSelector=function(c){return{$$typeof:qa,value:c}},t.createTestNameSelector=function(c){return{$$typeof:ks,value:c}},t.createTextSelector=function(c){return{$$typeof:Ni,value:c}},t.deferredUpdates=function(c){var h=Ht,v=wn.transition;try{return wn.transition=null,Ht=16,c()}finally{Ht=h,wn.transition=v}},t.discreteUpdates=function(c,h,v,M,P){var L=Ht,j=wn.transition;try{return wn.transition=null,Ht=1,c(h,v,M,P)}finally{Ht=L,wn.transition=j,Gt===0&&ea()}},t.findAllNodes=cu,t.findBoundingRects=function(c,h){if(!kt)throw Error(a(363));h=cu(c,h),c=[];for(var v=0;v<h.length;v++)c.push(J(h[v]));for(h=c.length-1;0<h;h--){v=c[h];for(var M=v.x,P=M+v.width,L=v.y,j=L+v.height,oe=h-1;0<=oe;oe--)if(h!==oe){var Ce=c[oe],Ve=Ce.x,st=Ve+Ce.width,Dt=Ce.y,wt=Dt+Ce.height;if(M>=Ve&&L>=Dt&&P<=st&&j<=wt){c.splice(h,1);break}else if(M!==Ve||v.width!==Ce.width||wt<L||Dt>j){if(!(L!==Dt||v.height!==Ce.height||st<M||Ve>P)){Ve>M&&(Ce.width+=Ve-M,Ce.x=M),st<P&&(Ce.width=P-Ve),c.splice(h,1);break}}else{Dt>L&&(Ce.height+=Dt-L,Ce.y=L),wt<j&&(Ce.height=j-Dt),c.splice(h,1);break}}}return c},t.findHostInstance=am,t.findHostInstanceWithNoPortals=function(c){return c=Y(c),c=c!==null?$(c):null,c===null?null:c.stateNode},t.findHostInstanceWithWarning=function(c){return am(c)},t.flushControlled=function(c){var h=Gt;Gt|=1;var v=wn.transition,M=Ht;try{wn.transition=null,Ht=1,c()}finally{Ht=M,wn.transition=v,Gt=h,Gt===0&&(ea(),Ar())}},t.flushPassiveEffects=Ao,t.flushSync=il,t.focusWithin=function(c,h){if(!kt)throw Error(a(363));for(c=uu(c),h=Os(c,h),h=Array.from(h),c=0;c<h.length;){var v=h[c++];if(!xe(v)){if(v.tag===5&&He(v.stateNode))return!0;for(v=v.child;v!==null;)h.push(v),v=v.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Ht},t.getFindAllNodesFailureDescription=function(c,h){if(!kt)throw Error(a(363));var v=0,M=[];c=[uu(c),0];for(var P=0;P<c.length;){var L=c[P++],j=c[P++],oe=h[j];if((L.tag!==5||!xe(L))&&(rf(L,oe)&&(M.push(Jr(oe)),j++,j>v&&(v=j)),j<h.length))for(L=L.child;L!==null;)c.push(L,j),L=L.sibling}if(v<h.length){for(c=[];v<h.length;v++)c.push(Jr(h[v]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},t.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return ge(c.child.stateNode);default:return c.child.stateNode}},t.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:um,findFiberByHostInstance:c.findFiberByHostInstance||cm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)c=!0;else{try{Hl=h.inject(c),ns=h}catch{}c=!!h.checkDCE}}return c},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(c,h,v,M){if(!kt)throw Error(a(363));c=cu(c,h);var P=je(c,v,M).disconnect;return{disconnect:function(){P()}}},t.registerMutableSourceForHydration=function(c,h){var v=h._getVersion;v=v(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,v]:c.mutableSourceEagerHydrationData.push(h,v)},t.runWithPriority=function(c,h){var v=Ht;try{return Ht=c,h()}finally{Ht=v}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(c,h,v,M){var P=h.current,L=oi(),j=ls(P);return v=ed(v),h.context===null?h.context=v:h.pendingContext=v,h=Es(L,j),h.payload={element:c},M=M===void 0?null:M,M!==null&&(h.callback=M),oo(P,h),c=Yi(P,j,L),c!==null&&Ec(c,P,j),j},t}),Qy}var Pw;function jF(){return Pw||(Pw=1,Xy.exports=WF()),Xy.exports}var JF=jF();const XF=MM(JF);var Bw=DE();const L_={},KF=i=>void Object.assign(L_,i);function YF(i,e){function t(p,{args:g=[],attach:y,...x},A){let w=`${p[0].toUpperCase()}${p.slice(1)}`,S;if(p==="primitive"){if(x.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const E=x.object;S=Uf(E,{type:p,root:A,attach:y,primitive:!0})}else{const E=L_[w];if(!E)throw new Error(`R3F: ${w} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(g))throw new Error("R3F: The args prop must be an array!");S=Uf(new E(...g),{type:p,root:A,attach:y,memoizedProps:{args:g}})}return S.__r3f.attach===void 0&&(S.isBufferGeometry?S.__r3f.attach="geometry":S.isMaterial&&(S.__r3f.attach="material")),w!=="inject"&&$y(S,x),S}function n(p,g){let y=!1;if(g){var x,A;(x=g.__r3f)!=null&&x.attach?Zy(p,g,g.__r3f.attach):g.isObject3D&&p.isObject3D&&(p.add(g),y=!0),y||(A=p.__r3f)==null||A.objects.push(g),g.__r3f||Uf(g,{}),g.__r3f.parent=p,mx(g),zf(g)}}function r(p,g,y){let x=!1;if(g){var A,w;if((A=g.__r3f)!=null&&A.attach)Zy(p,g,g.__r3f.attach);else if(g.isObject3D&&p.isObject3D){g.parent=p,g.dispatchEvent({type:"added"}),p.dispatchEvent({type:"childadded",child:g});const S=p.children.filter(b=>b!==g),E=S.indexOf(y);p.children=[...S.slice(0,E),g,...S.slice(E)],x=!0}x||(w=p.__r3f)==null||w.objects.push(g),g.__r3f||Uf(g,{}),g.__r3f.parent=p,mx(g),zf(g)}}function s(p,g,y=!1){p&&[...p].forEach(x=>a(g,x,y))}function a(p,g,y){if(g){var x,A,w;if(g.__r3f&&(g.__r3f.parent=null),(x=p.__r3f)!=null&&x.objects&&(p.__r3f.objects=p.__r3f.objects.filter(R=>R!==g)),(A=g.__r3f)!=null&&A.attach)Fw(p,g,g.__r3f.attach);else if(g.isObject3D&&p.isObject3D){var S;p.remove(g),(S=g.__r3f)!=null&&S.root&&iN(Ng(g),g)}const b=(w=g.__r3f)==null?void 0:w.primitive,T=!b&&(y===void 0?g.dispose!==null:y);if(!b){var E;s((E=g.__r3f)==null?void 0:E.objects,g,T),s(g.children,g,T)}if(delete g.__r3f,T&&g.dispose&&g.type!=="Scene"){const R=()=>{try{g.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?Bw.unstable_scheduleCallback(Bw.unstable_IdlePriority,R):R()}zf(p)}}function l(p,g,y,x){var A;const w=(A=p.__r3f)==null?void 0:A.parent;if(!w)return;const S=t(g,y,p.__r3f.root);if(p.children){for(const E of p.children)E.__r3f&&n(S,E);p.children=p.children.filter(E=>!E.__r3f)}p.__r3f.objects.forEach(E=>n(S,E)),p.__r3f.objects=[],p.__r3f.autoRemovedBeforeAppend||a(w,p),S.parent&&(S.__r3f.autoRemovedBeforeAppend=!0),n(w,S),S.raycast&&S.__r3f.eventCount&&Ng(S).getState().internal.interaction.push(S),[x,x.alternate].forEach(E=>{E!==null&&(E.stateNode=S,E.ref&&(typeof E.ref=="function"?E.ref(S):E.ref.current=S))})}const f=()=>{};return{reconciler:XF({createInstance:t,removeChild:a,appendChild:n,appendInitialChild:n,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(p,g)=>{if(!g)return;const y=p.getState().scene;y.__r3f&&(y.__r3f.root=p,n(y,g))},removeChildFromContainer:(p,g)=>{g&&a(p.getState().scene,g)},insertInContainerBefore:(p,g,y)=>{if(!g||!y)return;const x=p.getState().scene;x.__r3f&&r(x,g,y)},getRootHostContext:()=>null,getChildHostContext:p=>p,finalizeInitialChildren(p){var g;return!!((g=p==null?void 0:p.__r3f)!=null?g:{}).handlers},prepareUpdate(p,g,y,x){var A;if(((A=p==null?void 0:p.__r3f)!=null?A:{}).primitive&&x.object&&x.object!==p)return[!0];{const{args:S=[],children:E,...b}=x,{args:T=[],children:R,...I}=y;if(!Array.isArray(S))throw new Error("R3F: the args prop must be an array!");if(S.some((z,D)=>z!==T[D]))return[!0];const F=GE(p,b,I,!0);return F.changes.length?[!1,F]:null}},commitUpdate(p,[g,y],x,A,w,S){g?l(p,x,w,S):$y(p,y)},commitMount(p,g,y,x){var A;const w=(A=p.__r3f)!=null?A:{};p.raycast&&w.handlers&&w.eventCount&&Ng(p).getState().internal.interaction.push(p)},getPublicInstance:p=>p,prepareForCommit:()=>null,preparePortalMount:p=>Uf(p.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(p){var g;const{attach:y,parent:x}=(g=p.__r3f)!=null?g:{};y&&x&&Fw(x,p,y),p.isObject3D&&(p.visible=!1),zf(p)},unhideInstance(p,g){var y;const{attach:x,parent:A}=(y=p.__r3f)!=null?y:{};x&&A&&Zy(A,p,x),(p.isObject3D&&g.visible==null||g.visible)&&(p.visible=!0),zf(p)},createTextInstance:f,hideTextInstance:f,unhideTextInstance:f,getCurrentEventPriority:()=>e?e():jf.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Mn.fun(performance.now)?performance.now:Mn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Mn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Mn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:$y}}var Rw,Lw;const qy=i=>"colorSpace"in i||"outputColorSpace"in i,FE=()=>{var i;return(i=L_.ColorManagement)!=null?i:null},NE=i=>i&&i.isOrthographicCamera,QF=i=>i&&i.hasOwnProperty("current"),Tp=typeof window<"u"&&((Rw=window.document)!=null&&Rw.createElement||((Lw=window.navigator)==null?void 0:Lw.product)==="ReactNative")?Z.useLayoutEffect:Z.useEffect;function kE(i){const e=Z.useRef(i);return Tp(()=>void(e.current=i),[i]),e}function qF({set:i}){return Tp(()=>(i(new Promise(()=>null)),()=>i(!1)),[i]),null}class OE extends Z.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}OE.getDerivedStateFromError=()=>({error:!0});const UE="__default",Iw=new Map,ZF=i=>i&&!!i.memoized&&!!i.changes;function zE(i){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(i)?Math.min(Math.max(i[0],t),i[1]):i}const _d=i=>{var e;return(e=i.__r3f)==null?void 0:e.root.getState()};function Ng(i){let e=i.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Mn={obj:i=>i===Object(i)&&!Mn.arr(i)&&typeof i!="function",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",boo:i=>typeof i=="boolean",und:i=>i===void 0,arr:i=>Array.isArray(i),equ(i,e,{arrays:t="shallow",objects:n="reference",strict:r=!0}={}){if(typeof i!=typeof e||!!i!=!!e)return!1;if(Mn.str(i)||Mn.num(i)||Mn.boo(i))return i===e;const s=Mn.obj(i);if(s&&n==="reference")return i===e;const a=Mn.arr(i);if(a&&t==="reference")return i===e;if((a||s)&&i===e)return!0;let l;for(l in i)if(!(l in e))return!1;if(s&&t==="shallow"&&n==="shallow"){for(l in r?e:i)if(!Mn.equ(i[l],e[l],{strict:r,objects:"reference"}))return!1}else for(l in r?e:i)if(i[l]!==e[l])return!1;if(Mn.und(l)){if(a&&i.length===0&&e.length===0||s&&Object.keys(i).length===0&&Object.keys(e).length===0)return!0;if(i!==e)return!1}return!0}};function $F(i){const e={nodes:{},materials:{}};return i&&i.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function eN(i){i.dispose&&i.type!=="Scene"&&i.dispose();for(const e in i)e.dispose==null||e.dispose(),delete i[e]}function Uf(i,e){const t=i;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},i}function px(i,e){let t=i;if(e.includes("-")){const n=e.split("-"),r=n.pop();return t=n.reduce((s,a)=>s[a],i),{target:t,key:r}}else return{target:t,key:e}}const Dw=/-\d+$/;function Zy(i,e,t){if(Mn.str(t)){if(Dw.test(t)){const s=t.replace(Dw,""),{target:a,key:l}=px(i,s);Array.isArray(a[l])||(a[l]=[])}const{target:n,key:r}=px(i,t);e.__r3f.previousAttach=n[r],n[r]=e}else e.__r3f.previousAttach=t(i,e)}function Fw(i,e,t){var n,r;if(Mn.str(t)){const{target:s,key:a}=px(i,t),l=e.__r3f.previousAttach;l===void 0?delete s[a]:s[a]=l}else(n=e.__r3f)==null||n.previousAttach==null||n.previousAttach(i,e);(r=e.__r3f)==null||delete r.previousAttach}function GE(i,{children:e,key:t,ref:n,...r},{children:s,key:a,ref:l,...f}={},d=!1){const p=i.__r3f,g=Object.entries(r),y=[];if(d){const A=Object.keys(f);for(let w=0;w<A.length;w++)r.hasOwnProperty(A[w])||g.unshift([A[w],UE+"remove"])}g.forEach(([A,w])=>{var S;if((S=i.__r3f)!=null&&S.primitive&&A==="object"||Mn.equ(w,f[A]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(A))return y.push([A,w,!0,[]]);let E=[];A.includes("-")&&(E=A.split("-")),y.push([A,w,!1,E]);for(const b in r){const T=r[b];b.startsWith(`${A}-`)&&y.push([b,T,!1,b.split("-")])}});const x={...r};return p!=null&&p.memoizedProps&&p!=null&&p.memoizedProps.args&&(x.args=p.memoizedProps.args),p!=null&&p.memoizedProps&&p!=null&&p.memoizedProps.attach&&(x.attach=p.memoizedProps.attach),{memoized:x,changes:y}}function $y(i,e){var t;const n=i.__r3f,r=n==null?void 0:n.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:a,changes:l}=ZF(e)?e:GE(i,e),f=n==null?void 0:n.eventCount;i.__r3f&&(i.__r3f.memoizedProps=a);for(let y=0;y<l.length;y++){let[x,A,w,S]=l[y];if(qy(i)){const R="srgb",I="srgb-linear";x==="encoding"?(x="colorSpace",A=A===3001?R:I):x==="outputEncoding"&&(x="outputColorSpace",A=A===3001?R:I)}let E=i,b=E[x];if(S.length&&(b=S.reduce((T,R)=>T[R],i),!(b&&b.set))){const[T,...R]=S.reverse();E=R.reverse().reduce((I,F)=>I[F],i),x=T}if(A===UE+"remove")if(E.constructor){let T=Iw.get(E.constructor);T||(T=new E.constructor,Iw.set(E.constructor,T)),A=T[x]}else A=0;if(w&&n)A?n.handlers[x]=A:delete n.handlers[x],n.eventCount=Object.keys(n.handlers).length;else if(b&&b.set&&(b.copy||b instanceof ec)){if(Array.isArray(A))b.fromArray?b.fromArray(A):b.set(...A);else if(b.copy&&A&&A.constructor&&b.constructor===A.constructor)b.copy(A);else if(A!==void 0){var d;const T=(d=b)==null?void 0:d.isColor;!T&&b.setScalar?b.setScalar(A):b instanceof ec&&A instanceof ec?b.mask=A.mask:b.set(A),!FE()&&s&&!s.linear&&T&&b.convertSRGBToLinear()}}else{var p;if(E[x]=A,(p=E[x])!=null&&p.isTexture&&E[x].format===Fr&&E[x].type===wa&&s){const T=E[x];qy(T)&&qy(s.gl)?T.colorSpace=s.gl.outputColorSpace:T.encoding=s.gl.outputEncoding}}zf(i)}if(n&&n.parent&&i.raycast&&f!==n.eventCount){const y=Ng(i).getState().internal,x=y.interaction.indexOf(i);x>-1&&y.interaction.splice(x,1),n.eventCount&&y.interaction.push(i)}return!(l.length===1&&l[0][0]==="onUpdate")&&l.length&&(t=i.__r3f)!=null&&t.parent&&mx(i),i}function zf(i){var e,t;const n=(e=i.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();n&&n.internal.frames===0&&n.invalidate()}function mx(i){i.onUpdate==null||i.onUpdate(i)}function tN(i,e){i.manual||(NE(i)?(i.left=e.width/-2,i.right=e.width/2,i.top=e.height/2,i.bottom=e.height/-2):i.aspect=e.width/e.height,i.updateProjectionMatrix(),i.updateMatrixWorld())}function vg(i){return(i.eventObject||i.object).uuid+"/"+i.index+i.instanceId}function nN(){var i;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return jf.DefaultEventPriority;switch((i=e.event)==null?void 0:i.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return jf.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return jf.ContinuousEventPriority;default:return jf.DefaultEventPriority}}function HE(i,e,t,n){const r=t.get(e);r&&(t.delete(e),t.size===0&&(i.delete(n),r.target.releasePointerCapture(n)))}function iN(i,e){const{internal:t}=i.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,r)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((n,r)=>{HE(t.capturedMap,e,n,r)})}function rN(i){function e(f){const{internal:d}=i.getState(),p=f.offsetX-d.initialClick[0],g=f.offsetY-d.initialClick[1];return Math.round(Math.sqrt(p*p+g*g))}function t(f){return f.filter(d=>["Move","Over","Enter","Out","Leave"].some(p=>{var g;return(g=d.__r3f)==null?void 0:g.handlers["onPointer"+p]}))}function n(f,d){const p=i.getState(),g=new Set,y=[],x=d?d(p.internal.interaction):p.internal.interaction;for(let E=0;E<x.length;E++){const b=_d(x[E]);b&&(b.raycaster.camera=void 0)}p.previousRoot||p.events.compute==null||p.events.compute(f,p);function A(E){const b=_d(E);if(!b||!b.events.enabled||b.raycaster.camera===null)return[];if(b.raycaster.camera===void 0){var T;b.events.compute==null||b.events.compute(f,b,(T=b.previousRoot)==null?void 0:T.getState()),b.raycaster.camera===void 0&&(b.raycaster.camera=null)}return b.raycaster.camera?b.raycaster.intersectObject(E,!0):[]}let w=x.flatMap(A).sort((E,b)=>{const T=_d(E.object),R=_d(b.object);return!T||!R?E.distance-b.distance:R.events.priority-T.events.priority||E.distance-b.distance}).filter(E=>{const b=vg(E);return g.has(b)?!1:(g.add(b),!0)});p.events.filter&&(w=p.events.filter(w,p));for(const E of w){let b=E.object;for(;b;){var S;(S=b.__r3f)!=null&&S.eventCount&&y.push({...E,eventObject:b}),b=b.parent}}if("pointerId"in f&&p.internal.capturedMap.has(f.pointerId))for(let E of p.internal.capturedMap.get(f.pointerId).values())g.has(vg(E.intersection))||y.push(E.intersection);return y}function r(f,d,p,g){const y=i.getState();if(f.length){const x={stopped:!1};for(const A of f){const w=_d(A.object)||y,{raycaster:S,pointer:E,camera:b,internal:T}=w,R=new H(E.x,E.y,0).unproject(b),I=G=>{var Y,he;return(Y=(he=T.capturedMap.get(G))==null?void 0:he.has(A.eventObject))!=null?Y:!1},F=G=>{const Y={intersection:A,target:d.target};T.capturedMap.has(G)?T.capturedMap.get(G).set(A.eventObject,Y):T.capturedMap.set(G,new Map([[A.eventObject,Y]])),d.target.setPointerCapture(G)},z=G=>{const Y=T.capturedMap.get(G);Y&&HE(T.capturedMap,A.eventObject,Y,G)};let D={};for(let G in d){let Y=d[G];typeof Y!="function"&&(D[G]=Y)}let O={...A,...D,pointer:E,intersections:f,stopped:x.stopped,delta:p,unprojectedPoint:R,ray:S.ray,camera:b,stopPropagation(){const G="pointerId"in d&&T.capturedMap.get(d.pointerId);if((!G||G.has(A.eventObject))&&(O.stopped=x.stopped=!0,T.hovered.size&&Array.from(T.hovered.values()).find(Y=>Y.eventObject===A.eventObject))){const Y=f.slice(0,f.indexOf(A));s([...Y,A])}},target:{hasPointerCapture:I,setPointerCapture:F,releasePointerCapture:z},currentTarget:{hasPointerCapture:I,setPointerCapture:F,releasePointerCapture:z},nativeEvent:d};if(g(O),x.stopped===!0)break}}return f}function s(f){const{internal:d}=i.getState();for(const p of d.hovered.values())if(!f.length||!f.find(g=>g.object===p.object&&g.index===p.index&&g.instanceId===p.instanceId)){const y=p.eventObject.__r3f,x=y==null?void 0:y.handlers;if(d.hovered.delete(vg(p)),y!=null&&y.eventCount){const A={...p,intersections:f};x.onPointerOut==null||x.onPointerOut(A),x.onPointerLeave==null||x.onPointerLeave(A)}}}function a(f,d){for(let p=0;p<d.length;p++){const g=d[p].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(f)}}function l(f){switch(f){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return d=>{const{internal:p}=i.getState();"pointerId"in d&&p.capturedMap.has(d.pointerId)&&requestAnimationFrame(()=>{p.capturedMap.has(d.pointerId)&&(p.capturedMap.delete(d.pointerId),s([]))})}}return function(p){const{onPointerMissed:g,internal:y}=i.getState();y.lastEvent.current=p;const x=f==="onPointerMove",A=f==="onClick"||f==="onContextMenu"||f==="onDoubleClick",S=n(p,x?t:void 0),E=A?e(p):0;f==="onPointerDown"&&(y.initialClick=[p.offsetX,p.offsetY],y.initialHits=S.map(T=>T.eventObject)),A&&!S.length&&E<=2&&(a(p,y.interaction),g&&g(p)),x&&s(S);function b(T){const R=T.eventObject,I=R.__r3f,F=I==null?void 0:I.handlers;if(I!=null&&I.eventCount)if(x){if(F.onPointerOver||F.onPointerEnter||F.onPointerOut||F.onPointerLeave){const z=vg(T),D=y.hovered.get(z);D?D.stopped&&T.stopPropagation():(y.hovered.set(z,T),F.onPointerOver==null||F.onPointerOver(T),F.onPointerEnter==null||F.onPointerEnter(T))}F.onPointerMove==null||F.onPointerMove(T)}else{const z=F[f];z?(!A||y.initialHits.includes(R))&&(a(p,y.interaction.filter(D=>!y.initialHits.includes(D))),z(T)):A&&y.initialHits.includes(R)&&a(p,y.interaction.filter(D=>!y.initialHits.includes(D)))}}r(S,p,E,b)}}return{handlePointer:l}}const VE=i=>!!(i!=null&&i.render),WE=Z.createContext(null),sN=(i,e)=>{const t=OF((l,f)=>{const d=new H,p=new H,g=new H;function y(E=f().camera,b=p,T=f().size){const{width:R,height:I,top:F,left:z}=T,D=R/I;b.isVector3?g.copy(b):g.set(...b);const O=E.getWorldPosition(d).distanceTo(g);if(NE(E))return{width:R/E.zoom,height:I/E.zoom,top:F,left:z,factor:1,distance:O,aspect:D};{const G=E.fov*Math.PI/180,Y=2*Math.tan(G/2)*O,he=Y*(R/I);return{width:he,height:Y,top:F,left:z,factor:R/he,distance:O,aspect:D}}}let x;const A=E=>l(b=>({performance:{...b.performance,current:E}})),w=new Be;return{set:l,get:f,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(E=1)=>i(f(),E),advance:(E,b)=>e(E,b,f()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new b_,pointer:w,mouse:w,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const E=f();x&&clearTimeout(x),E.performance.current!==E.performance.min&&A(E.performance.min),x=setTimeout(()=>A(f().performance.max),E.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:E=>l(b=>({...b,events:{...b.events,...E}})),setSize:(E,b,T,R,I)=>{const F=f().camera,z={width:E,height:b,top:R||0,left:I||0,updateStyle:T};l(D=>({size:z,viewport:{...D.viewport,...y(F,p,z)}}))},setDpr:E=>l(b=>{const T=zE(E);return{viewport:{...b.viewport,dpr:T,initialDpr:b.viewport.initialDpr||T}}}),setFrameloop:(E="always")=>{const b=f().clock;b.stop(),b.elapsedTime=0,E!=="never"&&(b.start(),b.elapsedTime=0),l(()=>({frameloop:E}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:Z.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(E,b,T)=>{const R=f().internal;return R.priority=R.priority+(b>0?1:0),R.subscribers.push({ref:E,priority:b,store:T}),R.subscribers=R.subscribers.sort((I,F)=>I.priority-F.priority),()=>{const I=f().internal;I!=null&&I.subscribers&&(I.priority=I.priority-(b>0?1:0),I.subscribers=I.subscribers.filter(F=>F.ref!==E))}}}}}),n=t.getState();let r=n.size,s=n.viewport.dpr,a=n.camera;return t.subscribe(()=>{const{camera:l,size:f,viewport:d,gl:p,set:g}=t.getState();if(f.width!==r.width||f.height!==r.height||d.dpr!==s){var y;r=f,s=d.dpr,tN(l,f),p.setPixelRatio(d.dpr);const x=(y=f.updateStyle)!=null?y:typeof HTMLCanvasElement<"u"&&p.domElement instanceof HTMLCanvasElement;p.setSize(f.width,f.height,x)}l!==a&&(a=l,g(x=>({viewport:{...x.viewport,...x.viewport.getCurrentViewport(l)}})))}),t.subscribe(l=>i(l)),t};let xg,oN=new Set,aN=new Set,lN=new Set;function ev(i,e){if(i.size)for(const{callback:t}of i.values())t(e)}function Ad(i,e){switch(i){case"before":return ev(oN,e);case"after":return ev(aN,e);case"tail":return ev(lN,e)}}let tv,nv;function iv(i,e,t){let n=e.clock.getDelta();for(e.frameloop==="never"&&typeof i=="number"&&(n=i-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=i),tv=e.internal.subscribers,xg=0;xg<tv.length;xg++)nv=tv[xg],nv.ref.current(nv.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function uN(i){let e=!1,t=!1,n,r,s;function a(d){r=requestAnimationFrame(a),e=!0,n=0,Ad("before",d),t=!0;for(const g of i.values()){var p;s=g.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((p=s.gl.xr)!=null&&p.isPresenting)&&(n+=iv(d,s))}if(t=!1,Ad("after",d),n===0)return Ad("tail",d),e=!1,cancelAnimationFrame(r)}function l(d,p=1){var g;if(!d)return i.forEach(y=>l(y.store.getState(),p));(g=d.gl.xr)!=null&&g.isPresenting||!d.internal.active||d.frameloop==="never"||(p>1?d.internal.frames=Math.min(60,d.internal.frames+p):t?d.internal.frames=2:d.internal.frames=1,e||(e=!0,requestAnimationFrame(a)))}function f(d,p=!0,g,y){if(p&&Ad("before",d),g)iv(d,g,y);else for(const x of i.values())iv(d,x.store.getState());p&&Ad("after",d)}return{loop:a,invalidate:l,advance:f}}function jE(){const i=Z.useContext(WE);if(!i)throw new Error("R3F: Hooks can only be used within the Canvas component!");return i}function ys(i=t=>t,e){return jE()(i,e)}function bp(i,e=0){const t=jE(),n=t.getState().internal.subscribe,r=kE(i);return Tp(()=>n(r,e,t),[e,n,t]),null}const Nw=new WeakMap;function JE(i,e){return function(t,...n){let r=Nw.get(t);return r||(r=new t,Nw.set(t,r)),i&&i(r),Promise.all(n.map(s=>new Promise((a,l)=>r.load(s,f=>{f.scene&&Object.assign(f,$F(f.scene)),a(f)},e,f=>l(new Error(`Could not load ${s}: ${f==null?void 0:f.message}`))))))}}function Pp(i,e,t,n){const r=Array.isArray(e)?e:[e],s=zF(JE(t,n),[i,...r],{equal:Mn.equ});return Array.isArray(e)?s:s[0]}Pp.preload=function(i,e,t){const n=Array.isArray(e)?e:[e];return GF(JE(t),[i,...n])};Pp.clear=function(i,e){const t=Array.isArray(e)?e:[e];return HF([i,...t])};const sh=new Map,{invalidate:kw,advance:Ow}=uN(sh),{reconciler:jg,applyProps:kf}=YF(sh,nN),Of={objects:"shallow",strict:!1},cN=(i,e)=>{const t=typeof i=="function"?i(e):i;return VE(t)?t:new r_({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...i})};function fN(i,e){const t=typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement;if(e){const{width:n,height:r,top:s,left:a,updateStyle:l=t}=e;return{width:n,height:r,top:s,left:a,updateStyle:l}}else if(typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&i.parentElement){const{width:n,height:r,top:s,left:a}=i.parentElement.getBoundingClientRect();return{width:n,height:r,top:s,left:a,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas)return{width:i.width,height:i.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function hN(i){const e=sh.get(i),t=e==null?void 0:e.fiber,n=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=n||sN(kw,Ow),a=t||jg.createContainer(s,jf.ConcurrentRoot,null,!1,null,"",r,null);e||sh.set(i,{fiber:a,store:s});let l,f=!1,d;return{configure(p={}){let{gl:g,size:y,scene:x,events:A,onCreated:w,shadows:S=!1,linear:E=!1,flat:b=!1,legacy:T=!1,orthographic:R=!1,frameloop:I="always",dpr:F=[1,2],performance:z,raycaster:D,camera:O,onPointerMissed:G}=p,Y=s.getState(),he=Y.gl;Y.gl||Y.set({gl:he=cN(g,i)});let ie=Y.raycaster;ie||Y.set({raycaster:ie=new BE});const{params:$,...ce}=D||{};if(Mn.equ(ce,ie,Of)||kf(ie,{...ce}),Mn.equ($,ie.params,Of)||kf(ie,{params:{...ie.params,...$}}),!Y.camera||Y.camera===d&&!Mn.equ(d,O,Of)){d=O;const k=O instanceof up,Q=k?O:R?new Zs(0,0,0,0,.1,1e3):new Dn(75,0,.1,1e3);k||(Q.position.z=5,O&&(kf(Q,O),("aspect"in O||"left"in O||"right"in O||"bottom"in O||"top"in O)&&(Q.manual=!0,Q.updateProjectionMatrix())),!Y.camera&&!(O!=null&&O.rotation)&&Q.lookAt(0,0,0)),Y.set({camera:Q}),ie.camera=Q}if(!Y.scene){let k;x!=null&&x.isScene?k=x:(k=new s_,x&&kf(k,x)),Y.set({scene:Uf(k)})}if(!Y.xr){var ge;const k=(ae,Me)=>{const Pe=s.getState();Pe.frameloop!=="never"&&Ow(ae,!0,Pe,Me)},Q=()=>{const ae=s.getState();ae.gl.xr.enabled=ae.gl.xr.isPresenting,ae.gl.xr.setAnimationLoop(ae.gl.xr.isPresenting?k:null),ae.gl.xr.isPresenting||kw(ae)},K={connect(){const ae=s.getState().gl;ae.xr.addEventListener("sessionstart",Q),ae.xr.addEventListener("sessionend",Q)},disconnect(){const ae=s.getState().gl;ae.xr.removeEventListener("sessionstart",Q),ae.xr.removeEventListener("sessionend",Q)}};typeof((ge=he.xr)==null?void 0:ge.addEventListener)=="function"&&K.connect(),Y.set({xr:K})}if(he.shadowMap){const k=he.shadowMap.enabled,Q=he.shadowMap.type;if(he.shadowMap.enabled=!!S,Mn.boo(S))he.shadowMap.type=Rd;else if(Mn.str(S)){var ve;const K={basic:UM,percentage:s0,soft:Rd,variance:Gu};he.shadowMap.type=(ve=K[S])!=null?ve:Rd}else Mn.obj(S)&&Object.assign(he.shadowMap,S);(k!==he.shadowMap.enabled||Q!==he.shadowMap.type)&&(he.shadowMap.needsUpdate=!0)}const V=FE();V&&("enabled"in V?V.enabled=!T:"legacyMode"in V&&(V.legacyMode=T)),f||kf(he,{outputEncoding:E?3e3:3001,toneMapping:b?qs:Wx}),Y.legacy!==T&&Y.set(()=>({legacy:T})),Y.linear!==E&&Y.set(()=>({linear:E})),Y.flat!==b&&Y.set(()=>({flat:b})),g&&!Mn.fun(g)&&!VE(g)&&!Mn.equ(g,he,Of)&&kf(he,g),A&&!Y.events.handlers&&Y.set({events:A(s)});const re=fN(i,y);return Mn.equ(re,Y.size,Of)||Y.setSize(re.width,re.height,re.updateStyle,re.top,re.left),F&&Y.viewport.dpr!==zE(F)&&Y.setDpr(F),Y.frameloop!==I&&Y.setFrameloop(I),Y.onPointerMissed||Y.set({onPointerMissed:G}),z&&!Mn.equ(z,Y.performance,Of)&&Y.set(k=>({performance:{...k.performance,...z}})),l=w,f=!0,this},render(p){return f||this.configure(),jg.updateContainer(ne.jsx(dN,{store:s,children:p,onCreated:l,rootElement:i}),a,null,()=>{}),s},unmount(){XE(i)}}}function dN({store:i,children:e,onCreated:t,rootElement:n}){return Tp(()=>{const r=i.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),i.getState().events.connected||r.events.connect==null||r.events.connect(n)},[]),ne.jsx(WE.Provider,{value:i,children:e})}function XE(i,e){const t=sh.get(i),n=t==null?void 0:t.fiber;if(n){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),jg.updateContainer(null,n,null,()=>{r&&setTimeout(()=>{try{var s,a,l,f;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(l=r.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(f=r.gl)!=null&&f.xr&&r.xr.disconnect(),eN(r),sh.delete(i)}catch{}},500)})}}jg.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Z.version});const rv={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function pN(i){const{handlePointer:e}=rN(i);return{priority:1,enabled:!0,compute(t,n,r){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(rv).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:r}=i.getState();(t=r.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var n;const{set:r,events:s}=i.getState();s.disconnect==null||s.disconnect(),r(a=>({events:{...a.events,connected:t}})),Object.entries((n=s.handlers)!=null?n:[]).forEach(([a,l])=>{const[f,d]=rv[a];t.addEventListener(f,l,{passive:d})})},disconnect:()=>{const{set:t,events:n}=i.getState();if(n.connected){var r;Object.entries((r=n.handlers)!=null?r:[]).forEach(([s,a])=>{if(n&&n.connected instanceof HTMLElement){const[l]=rv[s];n.connected.removeEventListener(l,a)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}function Uw(i,e){let t;return(...n)=>{window.clearTimeout(t),t=window.setTimeout(()=>i(...n),e)}}function mN({debounce:i,scroll:e,polyfill:t,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=Z.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=Z.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),f=i?typeof i=="number"?i:i.scroll:null,d=i?typeof i=="number"?i:i.resize:null,p=Z.useRef(!1);Z.useEffect(()=>(p.current=!0,()=>void(p.current=!1)));const[g,y,x]=Z.useMemo(()=>{const E=()=>{if(!l.current.element)return;const{left:b,top:T,width:R,height:I,bottom:F,right:z,x:D,y:O}=l.current.element.getBoundingClientRect(),G={left:b,top:T,width:R,height:I,bottom:F,right:z,x:D,y:O};l.current.element instanceof HTMLElement&&n&&(G.height=l.current.element.offsetHeight,G.width=l.current.element.offsetWidth),Object.freeze(G),p.current&&!xN(l.current.lastBounds,G)&&a(l.current.lastBounds=G)};return[E,d?Uw(E,d):E,f?Uw(E,f):E]},[a,n,f,d]);function A(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(E=>E.removeEventListener("scroll",x,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function w(){l.current.element&&(l.current.resizeObserver=new r(x),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(E=>E.addEventListener("scroll",x,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{x()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const S=E=>{!E||E===l.current.element||(A(),l.current.element=E,l.current.scrollContainers=KE(E),w())};return yN(x,!!e),gN(y),Z.useEffect(()=>{A(),w()},[e,x,y]),Z.useEffect(()=>A,[]),[S,s,g]}function gN(i){Z.useEffect(()=>{const e=i;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[i])}function yN(i,e){Z.useEffect(()=>{if(e){const t=i;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[i,e])}function KE(i){const e=[];if(!i||i===document.body)return e;const{overflow:t,overflowX:n,overflowY:r}=window.getComputedStyle(i);return[t,n,r].some(s=>s==="auto"||s==="scroll")&&e.push(i),[...e,...KE(i.parentElement)]}const vN=["x","y","top","bottom","left","right","width","height"],xN=(i,e)=>vN.every(t=>i[t]===e[t]);var _N=Object.defineProperty,AN=Object.defineProperties,wN=Object.getOwnPropertyDescriptors,zw=Object.getOwnPropertySymbols,SN=Object.prototype.hasOwnProperty,MN=Object.prototype.propertyIsEnumerable,Gw=(i,e,t)=>e in i?_N(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Hw=(i,e)=>{for(var t in e||(e={}))SN.call(e,t)&&Gw(i,t,e[t]);if(zw)for(var t of zw(e))MN.call(e,t)&&Gw(i,t,e[t]);return i},CN=(i,e)=>AN(i,wN(e));function YE(i,e,t){if(!i)return;if(t(i)===!0)return i;let n=i.child;for(;n;){const r=YE(n,e,t);if(r)return r;n=n.sibling}}function QE(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const I_=QE(Z.createContext(null));class qE extends Z.Component{render(){return Z.createElement(I_.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:EN,ReactCurrentDispatcher:TN}=Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function bN(){const i=Z.useContext(I_);if(!i)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Z.useId();return Z.useMemo(()=>{var n;return(n=EN.current)!=null?n:YE(i,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[i,e])}function PN(){var i,e;const t=bN(),[n]=Z.useState(()=>new Map);n.clear();let r=t;for(;r;){const s=(i=r.type)==null?void 0:i._context;s&&s!==I_&&!n.has(s)&&n.set(s,(e=TN.current)==null?void 0:e.readContext(QE(s))),r=r.return}return Z.useMemo(()=>Array.from(n.keys()).reduce((s,a)=>l=>Z.createElement(s,null,Z.createElement(a.Provider,CN(Hw({},l),{value:n.get(a)}))),s=>Z.createElement(qE,Hw({},s))),[n])}const BN=Z.forwardRef(function({children:e,fallback:t,resize:n,style:r,gl:s,events:a=pN,eventSource:l,eventPrefix:f,shadows:d,linear:p,flat:g,legacy:y,orthographic:x,frameloop:A,dpr:w,performance:S,raycaster:E,camera:b,scene:T,onPointerMissed:R,onCreated:I,...F},z){Z.useMemo(()=>KF(IF),[]);const D=PN(),[O,G]=mN({scroll:!0,debounce:{scroll:50,resize:0},...n}),Y=Z.useRef(null),he=Z.useRef(null);Z.useImperativeHandle(z,()=>Y.current);const ie=kE(R),[$,ce]=Z.useState(!1),[ge,ve]=Z.useState(!1);if($)throw $;if(ge)throw ge;const V=Z.useRef(null);Tp(()=>{const k=Y.current;G.width>0&&G.height>0&&k&&(V.current||(V.current=hN(k)),V.current.configure({gl:s,events:a,shadows:d,linear:p,flat:g,legacy:y,orthographic:x,frameloop:A,dpr:w,performance:S,raycaster:E,camera:b,scene:T,size:G,onPointerMissed:(...Q)=>ie.current==null?void 0:ie.current(...Q),onCreated:Q=>{Q.events.connect==null||Q.events.connect(l?QF(l)?l.current:l:he.current),f&&Q.setEvents({compute:(K,ae)=>{const Me=K[f+"X"],Pe=K[f+"Y"];ae.pointer.set(Me/ae.size.width*2-1,-(Pe/ae.size.height)*2+1),ae.raycaster.setFromCamera(ae.pointer,ae.camera)}}),I==null||I(Q)}}),V.current.render(ne.jsx(D,{children:ne.jsx(OE,{set:ve,children:ne.jsx(Z.Suspense,{fallback:ne.jsx(qF,{set:ce}),children:e??null})})})))}),Z.useEffect(()=>{const k=Y.current;if(k)return()=>XE(k)},[]);const re=l?"none":"auto";return ne.jsx("div",{ref:he,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:re,...r},...F,children:ne.jsx("div",{ref:O,style:{width:"100%",height:"100%"},children:ne.jsx("canvas",{ref:Y,style:{display:"block"},children:t})})})}),D_=Z.forwardRef(function(e,t){return ne.jsx(qE,{children:ne.jsx(BN,{...e,ref:t})})});function Ma(){return Ma=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},Ma.apply(null,arguments)}const Bp=new H,F_=new H,RN=new H,Vw=new Be;function LN(i,e,t){const n=Bp.setFromMatrixPosition(i.matrixWorld);n.project(e);const r=t.width/2,s=t.height/2;return[n.x*r+r,-(n.y*s)+s]}function IN(i,e){const t=Bp.setFromMatrixPosition(i.matrixWorld),n=F_.setFromMatrixPosition(e.matrixWorld),r=t.sub(n),s=e.getWorldDirection(RN);return r.angleTo(s)>Math.PI/2}function DN(i,e,t,n){const r=Bp.setFromMatrixPosition(i.matrixWorld),s=r.clone();s.project(e),Vw.set(s.x,s.y),t.setFromCamera(Vw,e);const a=t.intersectObjects(n,!0);if(a.length){const l=a[0].distance;return r.distanceTo(t.ray.origin)<l}return!0}function FN(i,e){if(e instanceof Zs)return e.zoom;if(e instanceof Dn){const t=Bp.setFromMatrixPosition(i.matrixWorld),n=F_.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(n);return 1/(2*Math.tan(r/2)*s)}else return 1}function NN(i,e,t){if(e instanceof Dn||e instanceof Zs){const n=Bp.setFromMatrixPosition(i.matrixWorld),r=F_.setFromMatrixPosition(e.matrixWorld),s=n.distanceTo(r),a=(t[1]-t[0])/(e.far-e.near),l=t[1]-a*e.far;return Math.round(a*s+l)}}const gx=i=>Math.abs(i)<1e-10?0:i;function ZE(i,e,t=""){let n="matrix3d(";for(let r=0;r!==16;r++)n+=gx(e[r]*i.elements[r])+(r!==15?",":")");return t+n}const kN=(i=>e=>ZE(e,i))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),ON=(i=>(e,t)=>ZE(e,i(t),"translate(-50%,-50%)"))(i=>[1/i,1/i,1/i,1,-1/i,-1/i,-1/i,-1,1/i,1/i,1/i,1,1,1,1,1]);function UN(i){return i&&typeof i=="object"&&"current"in i}const zN=Z.forwardRef(({children:i,eps:e=.001,style:t,className:n,prepend:r,center:s,fullscreen:a,portal:l,distanceFactor:f,sprite:d=!1,transform:p=!1,occlude:g,onOcclude:y,castShadow:x,receiveShadow:A,material:w,geometry:S,zIndexRange:E=[16777271,0],calculatePosition:b=LN,as:T="div",wrapperClass:R,pointerEvents:I="auto",...F},z)=>{const{gl:D,camera:O,scene:G,size:Y,raycaster:he,events:ie,viewport:$}=ys(),[ce]=Z.useState(()=>document.createElement(T)),ge=Z.useRef(),ve=Z.useRef(null),V=Z.useRef(0),re=Z.useRef([0,0]),k=Z.useRef(null),Q=Z.useRef(null),K=(l==null?void 0:l.current)||ie.connected||D.domElement.parentNode,ae=Z.useRef(null),Me=Z.useRef(!1),Pe=Z.useMemo(()=>g&&g!=="blending"||Array.isArray(g)&&g.length&&UN(g[0]),[g]);Z.useLayoutEffect(()=>{const Oe=D.domElement;g&&g==="blending"?(Oe.style.zIndex=`${Math.floor(E[0]/2)}`,Oe.style.position="absolute",Oe.style.pointerEvents="none"):(Oe.style.zIndex=null,Oe.style.position=null,Oe.style.pointerEvents=null)},[g]),Z.useLayoutEffect(()=>{if(ve.current){const Oe=ge.current=EM.createRoot(ce);if(G.updateMatrixWorld(),p)ce.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Ye=b(ve.current,O,Y);ce.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Ye[0]}px,${Ye[1]}px,0);transform-origin:0 0;`}return K&&(r?K.prepend(ce):K.appendChild(ce)),()=>{K&&K.removeChild(ce),Oe.unmount()}}},[K,p]),Z.useLayoutEffect(()=>{R&&(ce.className=R)},[R]);const le=Z.useMemo(()=>p?{position:"absolute",top:0,left:0,width:Y.width,height:Y.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...a&&{top:-Y.height/2,left:-Y.width/2,width:Y.width,height:Y.height},...t},[t,s,a,Y,p]),Ge=Z.useMemo(()=>({position:"absolute",pointerEvents:I}),[I]);Z.useLayoutEffect(()=>{if(Me.current=!1,p){var Oe;(Oe=ge.current)==null||Oe.render(Z.createElement("div",{ref:k,style:le},Z.createElement("div",{ref:Q,style:Ge},Z.createElement("div",{ref:z,className:n,style:t,children:i}))))}else{var Ye;(Ye=ge.current)==null||Ye.render(Z.createElement("div",{ref:z,style:le,className:n,children:i}))}});const Ne=Z.useRef(!0);bp(Oe=>{if(ve.current){O.updateMatrixWorld(),ve.current.updateWorldMatrix(!0,!1);const Ye=p?re.current:b(ve.current,O,Y);if(p||Math.abs(V.current-O.zoom)>e||Math.abs(re.current[0]-Ye[0])>e||Math.abs(re.current[1]-Ye[1])>e){const Ee=IN(ve.current,O);let we=!1;Pe&&(Array.isArray(g)?we=g.map(mt=>mt.current):g!=="blending"&&(we=[G]));const ze=Ne.current;if(we){const mt=DN(ve.current,O,he,we);Ne.current=mt&&!Ee}else Ne.current=!Ee;ze!==Ne.current&&(y?y(!Ne.current):ce.style.display=Ne.current?"block":"none");const rt=Math.floor(E[0]/2),Ke=g?Pe?[E[0],rt]:[rt-1,0]:E;if(ce.style.zIndex=`${NN(ve.current,O,Ke)}`,p){const[mt,gt]=[Y.width/2,Y.height/2],at=O.projectionMatrix.elements[5]*gt,{isOrthographicCamera:kt,top:Ot,left:J,bottom:U,right:xe}=O,ke=kN(O.matrixWorldInverse),He=kt?`scale(${at})translate(${gx(-(xe+J)/2)}px,${gx((Ot+U)/2)}px)`:`translateZ(${at}px)`;let je=ve.current.matrixWorld;d&&(je=O.matrixWorldInverse.clone().transpose().copyPosition(je).scale(ve.current.scale),je.elements[3]=je.elements[7]=je.elements[11]=0,je.elements[15]=1),ce.style.width=Y.width+"px",ce.style.height=Y.height+"px",ce.style.perspective=kt?"":`${at}px`,k.current&&Q.current&&(k.current.style.transform=`${He}${ke}translate(${mt}px,${gt}px)`,Q.current.style.transform=ON(je,1/((f||10)/400)))}else{const mt=f===void 0?1:FN(ve.current,O)*f;ce.style.transform=`translate3d(${Ye[0]}px,${Ye[1]}px,0) scale(${mt})`}re.current=Ye,V.current=O.zoom}}if(!Pe&&ae.current&&!Me.current)if(p){if(k.current){const Ye=k.current.children[0];if(Ye!=null&&Ye.clientWidth&&Ye!=null&&Ye.clientHeight){const{isOrthographicCamera:Ee}=O;if(Ee||S)F.scale&&(Array.isArray(F.scale)?F.scale instanceof H?ae.current.scale.copy(F.scale.clone().divideScalar(1)):ae.current.scale.set(1/F.scale[0],1/F.scale[1],1/F.scale[2]):ae.current.scale.setScalar(1/F.scale));else{const we=(f||10)/400,ze=Ye.clientWidth*we,rt=Ye.clientHeight*we;ae.current.scale.set(ze,rt,1)}Me.current=!0}}}else{const Ye=ce.children[0];if(Ye!=null&&Ye.clientWidth&&Ye!=null&&Ye.clientHeight){const Ee=1/$.factor,we=Ye.clientWidth*Ee,ze=Ye.clientHeight*Ee;ae.current.scale.set(we,ze,1),Me.current=!0}ae.current.lookAt(Oe.camera.position)}});const Qe=Z.useMemo(()=>({vertexShader:p?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[p]);return Z.createElement("group",Ma({},F,{ref:ve}),g&&!Pe&&Z.createElement("mesh",{castShadow:x,receiveShadow:A,ref:ae},S||Z.createElement("planeGeometry",null),w||Z.createElement("shaderMaterial",{side:Ys,vertexShader:Qe.vertexShader,fragmentShader:Qe.fragmentShader})))}),Ww=i=>{let e;const t=new Set,n=(d,p)=>{const g=typeof d=="function"?d(e):d;if(!Object.is(g,e)){const y=e;e=p??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(x=>x(e,y))}},r=()=>e,l={setState:n,getState:r,getInitialState:()=>f,subscribe:d=>(t.add(d),()=>t.delete(d))},f=e=i(n,r,l);return l},GN=i=>i?Ww(i):Ww,HN=i=>i;function VN(i,e=HN){const t=Gd.useSyncExternalStore(i.subscribe,()=>e(i.getState()),()=>e(i.getInitialState()));return Gd.useDebugValue(t),t}const jw=i=>{const e=GN(i),t=n=>VN(e,n);return Object.assign(t,e),t},WN=i=>i?jw(i):jw;let wd=0;const jN=WN(i=>(Wf.onStart=(e,t,n)=>{i({active:!0,item:e,loaded:t,total:n,progress:(t-wd)/(n-wd)*100})},Wf.onLoad=()=>{i({active:!1})},Wf.onError=e=>i(t=>({errors:[...t.errors,e]})),Wf.onProgress=(e,t,n)=>{t===n&&(wd=n),i({active:!0,item:e,loaded:t,total:n,progress:(t-wd)/(n-wd)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),JN=parseInt(ch.replace(/\D+/g,""));function Jw(i,e){if(e===PC)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),i;if(e===Hg||e===Xx){let t=i.getIndex();if(t===null){const a=[],l=i.getAttribute("position");if(l!==void 0){for(let f=0;f<l.count;f++)a.push(f);i.setIndex(a),t=i.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),i}const n=t.count-2,r=[];if(t)if(e===Hg)for(let a=1;a<=n;a++)r.push(t.getX(0)),r.push(t.getX(a)),r.push(t.getX(a+1));else for(let a=0;a<n;a++)a%2===0?(r.push(t.getX(a)),r.push(t.getX(a+1)),r.push(t.getX(a+2))):(r.push(t.getX(a+2)),r.push(t.getX(a+1)),r.push(t.getX(a)));r.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=i.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),i}var XN=Object.defineProperty,KN=(i,e,t)=>e in i?XN(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,YN=(i,e,t)=>(KN(i,e+"",t),t);class QN{constructor(){YN(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}}var qN=Object.defineProperty,ZN=(i,e,t)=>e in i?qN(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,bt=(i,e,t)=>(ZN(i,typeof e!="symbol"?e+"":e,t),t);const _g=new hh,Xw=new fa,$N=Math.cos(70*(Math.PI/180)),Kw=(i,e)=>(i%e+e)%e;let ek=class extends QN{constructor(e,t){super(),bt(this,"object"),bt(this,"domElement"),bt(this,"enabled",!0),bt(this,"target",new H),bt(this,"minDistance",0),bt(this,"maxDistance",1/0),bt(this,"minZoom",0),bt(this,"maxZoom",1/0),bt(this,"minPolarAngle",0),bt(this,"maxPolarAngle",Math.PI),bt(this,"minAzimuthAngle",-1/0),bt(this,"maxAzimuthAngle",1/0),bt(this,"enableDamping",!1),bt(this,"dampingFactor",.05),bt(this,"enableZoom",!0),bt(this,"zoomSpeed",1),bt(this,"enableRotate",!0),bt(this,"rotateSpeed",1),bt(this,"enablePan",!0),bt(this,"panSpeed",1),bt(this,"screenSpacePanning",!0),bt(this,"keyPanSpeed",7),bt(this,"zoomToCursor",!1),bt(this,"autoRotate",!1),bt(this,"autoRotateSpeed",2),bt(this,"reverseOrbit",!1),bt(this,"reverseHorizontalOrbit",!1),bt(this,"reverseVerticalOrbit",!1),bt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),bt(this,"mouseButtons",{LEFT:Iu.ROTATE,MIDDLE:Iu.DOLLY,RIGHT:Iu.PAN}),bt(this,"touches",{ONE:Du.ROTATE,TWO:Du.DOLLY_PAN}),bt(this,"target0"),bt(this,"position0"),bt(this,"zoom0"),bt(this,"_domElementKeyEvents",null),bt(this,"getPolarAngle"),bt(this,"getAzimuthalAngle"),bt(this,"setPolarAngle"),bt(this,"setAzimuthalAngle"),bt(this,"getDistance"),bt(this,"getZoomScale"),bt(this,"listenToKeyEvents"),bt(this,"stopListenToKeyEvents"),bt(this,"saveState"),bt(this,"reset"),bt(this,"update"),bt(this,"connect"),bt(this,"dispose"),bt(this,"dollyIn"),bt(this,"dollyOut"),bt(this,"getScale"),bt(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>p.phi,this.getAzimuthalAngle=()=>p.theta,this.setPolarAngle=te=>{let Le=Kw(te,2*Math.PI),nt=p.phi;nt<0&&(nt+=2*Math.PI),Le<0&&(Le+=2*Math.PI);let q=Math.abs(Le-nt);2*Math.PI-q<q&&(Le<nt?Le+=2*Math.PI:nt+=2*Math.PI),g.phi=Le-nt,n.update()},this.setAzimuthalAngle=te=>{let Le=Kw(te,2*Math.PI),nt=p.theta;nt<0&&(nt+=2*Math.PI),Le<0&&(Le+=2*Math.PI);let q=Math.abs(Le-nt);2*Math.PI-q<q&&(Le<nt?Le+=2*Math.PI:nt+=2*Math.PI),g.theta=Le-nt,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=te=>{te.addEventListener("keydown",_t),this._domElementKeyEvents=te},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",_t),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),f=l.NONE},this.update=(()=>{const te=new H,Le=new H(0,1,0),nt=new bi().setFromUnitVectors(e.up,Le),q=nt.clone().invert(),_e=new H,Ie=new bi,Je=2*Math.PI;return function(){const jt=n.object.position;nt.setFromUnitVectors(e.up,Le),q.copy(nt).invert(),te.copy(jt).sub(n.target),te.applyQuaternion(nt),p.setFromVector3(te),n.autoRotate&&f===l.NONE&&$(he()),n.enableDamping?(p.theta+=g.theta*n.dampingFactor,p.phi+=g.phi*n.dampingFactor):(p.theta+=g.theta,p.phi+=g.phi);let tn=n.minAzimuthAngle,fn=n.maxAzimuthAngle;isFinite(tn)&&isFinite(fn)&&(tn<-Math.PI?tn+=Je:tn>Math.PI&&(tn-=Je),fn<-Math.PI?fn+=Je:fn>Math.PI&&(fn-=Je),tn<=fn?p.theta=Math.max(tn,Math.min(fn,p.theta)):p.theta=p.theta>(tn+fn)/2?Math.max(tn,p.theta):Math.min(fn,p.theta)),p.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,p.phi)),p.makeSafe(),n.enableDamping===!0?n.target.addScaledVector(x,n.dampingFactor):n.target.add(x),n.zoomToCursor&&O||n.object.isOrthographicCamera?p.radius=ae(p.radius):p.radius=ae(p.radius*y),te.setFromSpherical(p),te.applyQuaternion(q),jt.copy(n.target).add(te),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),n.enableDamping===!0?(g.theta*=1-n.dampingFactor,g.phi*=1-n.dampingFactor,x.multiplyScalar(1-n.dampingFactor)):(g.set(0,0,0),x.set(0,0,0));let fi=!1;if(n.zoomToCursor&&O){let Kt=null;if(n.object instanceof Dn&&n.object.isPerspectiveCamera){const Jn=te.length();Kt=ae(Jn*y);const Cn=Jn-Kt;n.object.position.addScaledVector(z,Cn),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const Jn=new H(D.x,D.y,0);Jn.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/y)),n.object.updateProjectionMatrix(),fi=!0;const Cn=new H(D.x,D.y,0);Cn.unproject(n.object),n.object.position.sub(Cn).add(Jn),n.object.updateMatrixWorld(),Kt=te.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;Kt!==null&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(Kt).add(n.object.position):(_g.origin.copy(n.object.position),_g.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(_g.direction))<$N?e.lookAt(n.target):(Xw.setFromNormalAndCoplanarPoint(n.object.up,n.target),_g.intersectPlane(Xw,n.target))))}else n.object instanceof Zs&&n.object.isOrthographicCamera&&(fi=y!==1,fi&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/y)),n.object.updateProjectionMatrix()));return y=1,O=!1,fi||_e.distanceToSquared(n.object.position)>d||8*(1-Ie.dot(n.object.quaternion))>d?(n.dispatchEvent(r),_e.copy(n.object.position),Ie.copy(n.object.quaternion),fi=!1,!0):!1}})(),this.connect=te=>{n.domElement=te,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",ct),n.domElement.addEventListener("pointerdown",J),n.domElement.addEventListener("pointercancel",xe),n.domElement.addEventListener("wheel",je)},this.dispose=()=>{var te,Le,nt,q,_e,Ie;n.domElement&&(n.domElement.style.touchAction="auto"),(te=n.domElement)==null||te.removeEventListener("contextmenu",ct),(Le=n.domElement)==null||Le.removeEventListener("pointerdown",J),(nt=n.domElement)==null||nt.removeEventListener("pointercancel",xe),(q=n.domElement)==null||q.removeEventListener("wheel",je),(_e=n.domElement)==null||_e.ownerDocument.removeEventListener("pointermove",U),(Ie=n.domElement)==null||Ie.ownerDocument.removeEventListener("pointerup",xe),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",_t)};const n=this,r={type:"change"},s={type:"start"},a={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let f=l.NONE;const d=1e-6,p=new dx,g=new dx;let y=1;const x=new H,A=new Be,w=new Be,S=new Be,E=new Be,b=new Be,T=new Be,R=new Be,I=new Be,F=new Be,z=new H,D=new Be;let O=!1;const G=[],Y={};function he(){return 2*Math.PI/60/60*n.autoRotateSpeed}function ie(){return Math.pow(.95,n.zoomSpeed)}function $(te){n.reverseOrbit||n.reverseHorizontalOrbit?g.theta+=te:g.theta-=te}function ce(te){n.reverseOrbit||n.reverseVerticalOrbit?g.phi+=te:g.phi-=te}const ge=(()=>{const te=new H;return function(nt,q){te.setFromMatrixColumn(q,0),te.multiplyScalar(-nt),x.add(te)}})(),ve=(()=>{const te=new H;return function(nt,q){n.screenSpacePanning===!0?te.setFromMatrixColumn(q,1):(te.setFromMatrixColumn(q,0),te.crossVectors(n.object.up,te)),te.multiplyScalar(nt),x.add(te)}})(),V=(()=>{const te=new H;return function(nt,q){const _e=n.domElement;if(_e&&n.object instanceof Dn&&n.object.isPerspectiveCamera){const Ie=n.object.position;te.copy(Ie).sub(n.target);let Je=te.length();Je*=Math.tan(n.object.fov/2*Math.PI/180),ge(2*nt*Je/_e.clientHeight,n.object.matrix),ve(2*q*Je/_e.clientHeight,n.object.matrix)}else _e&&n.object instanceof Zs&&n.object.isOrthographicCamera?(ge(nt*(n.object.right-n.object.left)/n.object.zoom/_e.clientWidth,n.object.matrix),ve(q*(n.object.top-n.object.bottom)/n.object.zoom/_e.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function re(te){n.object instanceof Dn&&n.object.isPerspectiveCamera||n.object instanceof Zs&&n.object.isOrthographicCamera?y=te:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function k(te){re(y/te)}function Q(te){re(y*te)}function K(te){if(!n.zoomToCursor||!n.domElement)return;O=!0;const Le=n.domElement.getBoundingClientRect(),nt=te.clientX-Le.left,q=te.clientY-Le.top,_e=Le.width,Ie=Le.height;D.x=nt/_e*2-1,D.y=-(q/Ie)*2+1,z.set(D.x,D.y,1).unproject(n.object).sub(n.object.position).normalize()}function ae(te){return Math.max(n.minDistance,Math.min(n.maxDistance,te))}function Me(te){A.set(te.clientX,te.clientY)}function Pe(te){K(te),R.set(te.clientX,te.clientY)}function le(te){E.set(te.clientX,te.clientY)}function Ge(te){w.set(te.clientX,te.clientY),S.subVectors(w,A).multiplyScalar(n.rotateSpeed);const Le=n.domElement;Le&&($(2*Math.PI*S.x/Le.clientHeight),ce(2*Math.PI*S.y/Le.clientHeight)),A.copy(w),n.update()}function Ne(te){I.set(te.clientX,te.clientY),F.subVectors(I,R),F.y>0?k(ie()):F.y<0&&Q(ie()),R.copy(I),n.update()}function Qe(te){b.set(te.clientX,te.clientY),T.subVectors(b,E).multiplyScalar(n.panSpeed),V(T.x,T.y),E.copy(b),n.update()}function Oe(te){K(te),te.deltaY<0?Q(ie()):te.deltaY>0&&k(ie()),n.update()}function Ye(te){let Le=!1;switch(te.code){case n.keys.UP:V(0,n.keyPanSpeed),Le=!0;break;case n.keys.BOTTOM:V(0,-n.keyPanSpeed),Le=!0;break;case n.keys.LEFT:V(n.keyPanSpeed,0),Le=!0;break;case n.keys.RIGHT:V(-n.keyPanSpeed,0),Le=!0;break}Le&&(te.preventDefault(),n.update())}function Ee(){if(G.length==1)A.set(G[0].pageX,G[0].pageY);else{const te=.5*(G[0].pageX+G[1].pageX),Le=.5*(G[0].pageY+G[1].pageY);A.set(te,Le)}}function we(){if(G.length==1)E.set(G[0].pageX,G[0].pageY);else{const te=.5*(G[0].pageX+G[1].pageX),Le=.5*(G[0].pageY+G[1].pageY);E.set(te,Le)}}function ze(){const te=G[0].pageX-G[1].pageX,Le=G[0].pageY-G[1].pageY,nt=Math.sqrt(te*te+Le*Le);R.set(0,nt)}function rt(){n.enableZoom&&ze(),n.enablePan&&we()}function Ke(){n.enableZoom&&ze(),n.enableRotate&&Ee()}function mt(te){if(G.length==1)w.set(te.pageX,te.pageY);else{const nt=yt(te),q=.5*(te.pageX+nt.x),_e=.5*(te.pageY+nt.y);w.set(q,_e)}S.subVectors(w,A).multiplyScalar(n.rotateSpeed);const Le=n.domElement;Le&&($(2*Math.PI*S.x/Le.clientHeight),ce(2*Math.PI*S.y/Le.clientHeight)),A.copy(w)}function gt(te){if(G.length==1)b.set(te.pageX,te.pageY);else{const Le=yt(te),nt=.5*(te.pageX+Le.x),q=.5*(te.pageY+Le.y);b.set(nt,q)}T.subVectors(b,E).multiplyScalar(n.panSpeed),V(T.x,T.y),E.copy(b)}function at(te){const Le=yt(te),nt=te.pageX-Le.x,q=te.pageY-Le.y,_e=Math.sqrt(nt*nt+q*q);I.set(0,_e),F.set(0,Math.pow(I.y/R.y,n.zoomSpeed)),k(F.y),R.copy(I)}function kt(te){n.enableZoom&&at(te),n.enablePan&&gt(te)}function Ot(te){n.enableZoom&&at(te),n.enableRotate&&mt(te)}function J(te){var Le,nt;n.enabled!==!1&&(G.length===0&&((Le=n.domElement)==null||Le.ownerDocument.addEventListener("pointermove",U),(nt=n.domElement)==null||nt.ownerDocument.addEventListener("pointerup",xe)),St(te),te.pointerType==="touch"?Ze(te):ke(te))}function U(te){n.enabled!==!1&&(te.pointerType==="touch"?be(te):He(te))}function xe(te){var Le,nt,q;lt(te),G.length===0&&((Le=n.domElement)==null||Le.releasePointerCapture(te.pointerId),(nt=n.domElement)==null||nt.ownerDocument.removeEventListener("pointermove",U),(q=n.domElement)==null||q.ownerDocument.removeEventListener("pointerup",xe)),n.dispatchEvent(a),f=l.NONE}function ke(te){let Le;switch(te.button){case 0:Le=n.mouseButtons.LEFT;break;case 1:Le=n.mouseButtons.MIDDLE;break;case 2:Le=n.mouseButtons.RIGHT;break;default:Le=-1}switch(Le){case Iu.DOLLY:if(n.enableZoom===!1)return;Pe(te),f=l.DOLLY;break;case Iu.ROTATE:if(te.ctrlKey||te.metaKey||te.shiftKey){if(n.enablePan===!1)return;le(te),f=l.PAN}else{if(n.enableRotate===!1)return;Me(te),f=l.ROTATE}break;case Iu.PAN:if(te.ctrlKey||te.metaKey||te.shiftKey){if(n.enableRotate===!1)return;Me(te),f=l.ROTATE}else{if(n.enablePan===!1)return;le(te),f=l.PAN}break;default:f=l.NONE}f!==l.NONE&&n.dispatchEvent(s)}function He(te){if(n.enabled!==!1)switch(f){case l.ROTATE:if(n.enableRotate===!1)return;Ge(te);break;case l.DOLLY:if(n.enableZoom===!1)return;Ne(te);break;case l.PAN:if(n.enablePan===!1)return;Qe(te);break}}function je(te){n.enabled===!1||n.enableZoom===!1||f!==l.NONE&&f!==l.ROTATE||(te.preventDefault(),n.dispatchEvent(s),Oe(te),n.dispatchEvent(a))}function _t(te){n.enabled===!1||n.enablePan===!1||Ye(te)}function Ze(te){switch(xt(te),G.length){case 1:switch(n.touches.ONE){case Du.ROTATE:if(n.enableRotate===!1)return;Ee(),f=l.TOUCH_ROTATE;break;case Du.PAN:if(n.enablePan===!1)return;we(),f=l.TOUCH_PAN;break;default:f=l.NONE}break;case 2:switch(n.touches.TWO){case Du.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;rt(),f=l.TOUCH_DOLLY_PAN;break;case Du.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Ke(),f=l.TOUCH_DOLLY_ROTATE;break;default:f=l.NONE}break;default:f=l.NONE}f!==l.NONE&&n.dispatchEvent(s)}function be(te){switch(xt(te),f){case l.TOUCH_ROTATE:if(n.enableRotate===!1)return;mt(te),n.update();break;case l.TOUCH_PAN:if(n.enablePan===!1)return;gt(te),n.update();break;case l.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;kt(te),n.update();break;case l.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Ot(te),n.update();break;default:f=l.NONE}}function ct(te){n.enabled!==!1&&te.preventDefault()}function St(te){G.push(te)}function lt(te){delete Y[te.pointerId];for(let Le=0;Le<G.length;Le++)if(G[Le].pointerId==te.pointerId){G.splice(Le,1);return}}function xt(te){let Le=Y[te.pointerId];Le===void 0&&(Le=new Be,Y[te.pointerId]=Le),Le.set(te.pageX,te.pageY)}function yt(te){const Le=te.pointerId===G[0].pointerId?G[1]:G[0];return Y[Le.pointerId]}this.dollyIn=(te=ie())=>{Q(te),n.update()},this.dollyOut=(te=ie())=>{k(te),n.update()},this.getScale=()=>y,this.setScale=te=>{re(te),n.update()},this.getZoomScale=()=>ie(),t!==void 0&&this.connect(t),this.update()}};function Jg(i){if(typeof TextDecoder<"u")return new TextDecoder().decode(i);let e="";for(let t=0,n=i.length;t<n;t++)e+=String.fromCharCode(i[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const Xu="srgb",xa="srgb-linear",Yw=3001,tk=3e3;class N_ extends gr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new ok(t)}),this.register(function(t){return new ak(t)}),this.register(function(t){return new gk(t)}),this.register(function(t){return new yk(t)}),this.register(function(t){return new vk(t)}),this.register(function(t){return new uk(t)}),this.register(function(t){return new ck(t)}),this.register(function(t){return new fk(t)}),this.register(function(t){return new hk(t)}),this.register(function(t){return new sk(t)}),this.register(function(t){return new dk(t)}),this.register(function(t){return new lk(t)}),this.register(function(t){return new mk(t)}),this.register(function(t){return new pk(t)}),this.register(function(t){return new ik(t)}),this.register(function(t){return new xk(t)}),this.register(function(t){return new _k(t)})}load(e,t,n,r){const s=this;let a;if(this.resourcePath!=="")a=this.resourcePath;else if(this.path!==""){const d=Sl.extractUrlBase(e);a=Sl.resolveURL(d,this.path)}else a=Sl.extractUrlBase(e);this.manager.itemStart(e);const l=function(d){r?r(d):console.error(d),s.manager.itemError(e),s.manager.itemEnd(e)},f=new $r(this.manager);f.setPath(this.path),f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setWithCredentials(this.withCredentials),f.load(e,function(d){try{s.parse(d,a,function(p){t(p),s.manager.itemEnd(e)},l)}catch(p){l(p)}},n,l)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,r){let s;const a={},l={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Jg(new Uint8Array(e.slice(0,4)))===$E){try{a[qt.KHR_BINARY_GLTF]=new Ak(e)}catch(p){r&&r(p);return}s=JSON.parse(a[qt.KHR_BINARY_GLTF].content)}else s=JSON.parse(Jg(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const f=new Dk(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});f.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const p=this.pluginCallbacks[d](f);p.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),l[p.name]=p,a[p.name]=!0}if(s.extensionsUsed)for(let d=0;d<s.extensionsUsed.length;++d){const p=s.extensionsUsed[d],g=s.extensionsRequired||[];switch(p){case qt.KHR_MATERIALS_UNLIT:a[p]=new rk;break;case qt.KHR_DRACO_MESH_COMPRESSION:a[p]=new wk(s,this.dracoLoader);break;case qt.KHR_TEXTURE_TRANSFORM:a[p]=new Sk;break;case qt.KHR_MESH_QUANTIZATION:a[p]=new Mk;break;default:g.indexOf(p)>=0&&l[p]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+p+'".')}}f.setExtensions(a),f.setPlugins(l),f.parse(n,r)}parseAsync(e,t){const n=this;return new Promise(function(r,s){n.parse(e,t,r,s)})}}function nk(){let i={};return{get:function(e){return i[e]},add:function(e,t){i[e]=t},remove:function(e){delete i[e]},removeAll:function(){i={}}}}const qt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class ik{constructor(e){this.parser=e,this.name=qt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,r=t.length;n<r;n++){const s=t[n];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let r=t.cache.get(n);if(r)return r;const s=t.json,f=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let d;const p=new et(16777215);f.color!==void 0&&p.setRGB(f.color[0],f.color[1],f.color[2],xa);const g=f.range!==void 0?f.range:0;switch(f.type){case"directional":d=new E_(p),d.target.position.set(0,0,-1),d.add(d.target);break;case"point":d=new C_(p),d.distance=g;break;case"spot":d=new M_(p),d.distance=g,f.spot=f.spot||{},f.spot.innerConeAngle=f.spot.innerConeAngle!==void 0?f.spot.innerConeAngle:0,f.spot.outerConeAngle=f.spot.outerConeAngle!==void 0?f.spot.outerConeAngle:Math.PI/4,d.angle=f.spot.outerConeAngle,d.penumbra=1-f.spot.innerConeAngle/f.spot.outerConeAngle,d.target.position.set(0,0,-1),d.add(d.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+f.type)}return d.position.set(0,0,0),d.decay=2,ca(d,f),f.intensity!==void 0&&(d.intensity=f.intensity),d.name=t.createUniqueName(f.name||"light_"+e),r=Promise.resolve(d),t.cache.add(n,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,s=n.json.nodes[e],l=(s.extensions&&s.extensions[this.name]||{}).light;return l===void 0?null:this._loadLight(l).then(function(f){return n._getNodeRef(t.cache,l,f)})}}class rk{constructor(){this.name=qt.KHR_MATERIALS_UNLIT}getMaterialType(){return qr}extendParams(e,t,n){const r=[];e.color=new et(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const a=s.baseColorFactor;e.color.setRGB(a[0],a[1],a[2],xa),e.opacity=a[3]}s.baseColorTexture!==void 0&&r.push(n.assignTexture(e,"map",s.baseColorTexture,Xu))}return Promise.all(r)}}class sk{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class ok{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:xs}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];if(a.clearcoatFactor!==void 0&&(t.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&s.push(n.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&s.push(n.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(s.push(n.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const l=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Be(l,l)}return Promise.all(s)}}class ak{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_DISPERSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:xs}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class lk{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:xs}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];return a.iridescenceFactor!==void 0&&(t.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&s.push(n.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),a.iridescenceIor!==void 0&&(t.iridescenceIOR=a.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&s.push(n.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(s)}}class uk{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_SHEEN}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:xs}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new et(0,0,0),t.sheenRoughness=0,t.sheen=1;const a=r.extensions[this.name];if(a.sheenColorFactor!==void 0){const l=a.sheenColorFactor;t.sheenColor.setRGB(l[0],l[1],l[2],xa)}return a.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&s.push(n.assignTexture(t,"sheenColorMap",a.sheenColorTexture,Xu)),a.sheenRoughnessTexture!==void 0&&s.push(n.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(s)}}class ck{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:xs}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];return a.transmissionFactor!==void 0&&(t.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&s.push(n.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(s)}}class fk{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:xs}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];t.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&s.push(n.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;const l=a.attenuationColor||[1,1,1];return t.attenuationColor=new et().setRGB(l[0],l[1],l[2],xa),Promise.all(s)}}class hk{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:xs}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class dk{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:xs}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];t.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&s.push(n.assignTexture(t,"specularIntensityMap",a.specularTexture));const l=a.specularColorFactor||[1,1,1];return t.specularColor=new et().setRGB(l[0],l[1],l[2],xa),a.specularColorTexture!==void 0&&s.push(n.assignTexture(t,"specularColorMap",a.specularColorTexture,Xu)),Promise.all(s)}}class pk{constructor(e){this.parser=e,this.name=qt.EXT_MATERIALS_BUMP}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:xs}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];return t.bumpScale=a.bumpFactor!==void 0?a.bumpFactor:1,a.bumpTexture!==void 0&&s.push(n.assignTexture(t,"bumpMap",a.bumpTexture)),Promise.all(s)}}class mk{constructor(e){this.parser=e,this.name=qt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:xs}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];return a.anisotropyStrength!==void 0&&(t.anisotropy=a.anisotropyStrength),a.anisotropyRotation!==void 0&&(t.anisotropyRotation=a.anisotropyRotation),a.anisotropyTexture!==void 0&&s.push(n.assignTexture(t,"anisotropyMap",a.anisotropyTexture)),Promise.all(s)}}class gk{constructor(e){this.parser=e,this.name=qt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,a)}}class yk{constructor(e){this.parser=e,this.name=qt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const a=s.extensions[t],l=r.images[a.source];let f=n.textureLoader;if(l.uri){const d=n.options.manager.getHandler(l.uri);d!==null&&(f=d)}return this.detectSupport().then(function(d){if(d)return n.loadTextureImage(e,a.source,f);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class vk{constructor(e){this.parser=e,this.name=qt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const a=s.extensions[t],l=r.images[a.source];let f=n.textureLoader;if(l.uri){const d=n.options.manager.getHandler(l.uri);d!==null&&(f=d)}return this.detectSupport().then(function(d){if(d)return n.loadTextureImage(e,a.source,f);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class xk{constructor(e){this.name=qt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const r=n.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(l){const f=r.byteOffset||0,d=r.byteLength||0,p=r.count,g=r.byteStride,y=new Uint8Array(l,f,d);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(p,g,y,r.mode,r.filter).then(function(x){return x.buffer}):a.ready.then(function(){const x=new ArrayBuffer(p*g);return a.decodeGltfBuffer(new Uint8Array(x),p,g,y,r.mode,r.filter),x})})}else return null}}class _k{constructor(e){this.name=qt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||n.mesh===void 0)return null;const r=t.meshes[n.mesh];for(const d of r.primitives)if(d.mode!==ms.TRIANGLES&&d.mode!==ms.TRIANGLE_STRIP&&d.mode!==ms.TRIANGLE_FAN&&d.mode!==void 0)return null;const a=n.extensions[this.name].attributes,l=[],f={};for(const d in a)l.push(this.parser.getDependency("accessor",a[d]).then(p=>(f[d]=p,f[d])));return l.length<1?null:(l.push(this.parser.createNodeMesh(e)),Promise.all(l).then(d=>{const p=d.pop(),g=p.isGroup?p.children:[p],y=d[0].count,x=[];for(const A of g){const w=new Lt,S=new H,E=new bi,b=new H(1,1,1),T=new l_(A.geometry,A.material,y);for(let R=0;R<y;R++)f.TRANSLATION&&S.fromBufferAttribute(f.TRANSLATION,R),f.ROTATION&&E.fromBufferAttribute(f.ROTATION,R),f.SCALE&&b.fromBufferAttribute(f.SCALE,R),T.setMatrixAt(R,w.compose(S,E,b));for(const R in f)if(R==="_COLOR_0"){const I=f[R];T.instanceColor=new rc(I.array,I.itemSize,I.normalized)}else R!=="TRANSLATION"&&R!=="ROTATION"&&R!=="SCALE"&&A.geometry.setAttribute(R,f[R]);sn.prototype.copy.call(T,A),this.parser.assignFinalMaterial(T),x.push(T)}return p.isGroup?(p.clear(),p.add(...x),p):x[0]}))}}const $E="glTF",Sd=12,Qw={JSON:1313821514,BIN:5130562};class Ak{constructor(e){this.name=qt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Sd);if(this.header={magic:Jg(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==$E)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-Sd,r=new DataView(e,Sd);let s=0;for(;s<n;){const a=r.getUint32(s,!0);s+=4;const l=r.getUint32(s,!0);if(s+=4,l===Qw.JSON){const f=new Uint8Array(e,Sd+s,a);this.content=Jg(f)}else if(l===Qw.BIN){const f=Sd+s;this.body=e.slice(f,f+a)}s+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class wk{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=qt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,l={},f={},d={};for(const p in a){const g=yx[p]||p.toLowerCase();l[g]=a[p]}for(const p in e.attributes){const g=yx[p]||p.toLowerCase();if(a[p]!==void 0){const y=n.accessors[e.attributes[p]],x=qf[y.componentType];d[g]=x.name,f[g]=y.normalized===!0}}return t.getDependency("bufferView",s).then(function(p){return new Promise(function(g,y){r.decodeDracoFile(p,function(x){for(const A in x.attributes){const w=x.attributes[A],S=f[A];S!==void 0&&(w.normalized=S)}g(x)},l,d,xa,y)})})}}class Sk{constructor(){this.name=qt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Mk{constructor(){this.name=qt.KHR_MESH_QUANTIZATION}}class eT extends vh{constructor(e,t,n,r){super(e,t,n,r)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let a=0;a!==r;a++)t[a]=n[s+a];return t}interpolate_(e,t,n,r){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,f=l*2,d=l*3,p=r-t,g=(n-t)/p,y=g*g,x=y*g,A=e*d,w=A-d,S=-2*x+3*y,E=x-y,b=1-S,T=E-y+g;for(let R=0;R!==l;R++){const I=a[w+R+l],F=a[w+R+f]*p,z=a[A+R+l],D=a[A+R]*p;s[R]=b*I+T*F+S*z+E*D}return s}}const Ck=new bi;class Ek extends eT{interpolate_(e,t,n,r){const s=super.interpolate_(e,t,n,r);return Ck.fromArray(s).normalize().toArray(s),s}}const ms={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},qf={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},qw={9728:jn,9729:On,9984:jd,9985:a0,9986:Yf,9987:bo},Zw={33071:Hi,33648:$f,10497:Tl},sv={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},yx={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...JN>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},vl={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Tk={CUBICSPLINE:void 0,LINEAR:ic,STEP:th},ov={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function bk(i){return i.DefaultMaterial===void 0&&(i.DefaultMaterial=new Ep({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:To})),i.DefaultMaterial}function Bu(i,e,t){for(const n in t.extensions)i[n]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=t.extensions[n])}function ca(i,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(i.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Pk(i,e,t){let n=!1,r=!1,s=!1;for(let d=0,p=e.length;d<p;d++){const g=e[d];if(g.POSITION!==void 0&&(n=!0),g.NORMAL!==void 0&&(r=!0),g.COLOR_0!==void 0&&(s=!0),n&&r&&s)break}if(!n&&!r&&!s)return Promise.resolve(i);const a=[],l=[],f=[];for(let d=0,p=e.length;d<p;d++){const g=e[d];if(n){const y=g.POSITION!==void 0?t.getDependency("accessor",g.POSITION):i.attributes.position;a.push(y)}if(r){const y=g.NORMAL!==void 0?t.getDependency("accessor",g.NORMAL):i.attributes.normal;l.push(y)}if(s){const y=g.COLOR_0!==void 0?t.getDependency("accessor",g.COLOR_0):i.attributes.color;f.push(y)}}return Promise.all([Promise.all(a),Promise.all(l),Promise.all(f)]).then(function(d){const p=d[0],g=d[1],y=d[2];return n&&(i.morphAttributes.position=p),r&&(i.morphAttributes.normal=g),s&&(i.morphAttributes.color=y),i.morphTargetsRelative=!0,i})}function Bk(i,e){if(i.updateMorphTargets(),e.weights!==void 0)for(let t=0,n=e.weights.length;t<n;t++)i.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(i.morphTargetInfluences.length===t.length){i.morphTargetDictionary={};for(let n=0,r=t.length;n<r;n++)i.morphTargetDictionary[t[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Rk(i){let e;const t=i.extensions&&i.extensions[qt.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+av(t.attributes):e=i.indices+":"+av(i.attributes)+":"+i.mode,i.targets!==void 0)for(let n=0,r=i.targets.length;n<r;n++)e+=":"+av(i.targets[n]);return e}function av(i){let e="";const t=Object.keys(i).sort();for(let n=0,r=t.length;n<r;n++)e+=t[n]+":"+i[t[n]]+";";return e}function vx(i){switch(i){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Lk(i){return i.search(/\.jpe?g($|\?)/i)>0||i.search(/^data\:image\/jpeg/)===0?"image/jpeg":i.search(/\.webp($|\?)/i)>0||i.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Ik=new Lt;class Dk{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new nk,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||n||r&&s<98?this.textureLoader=new _E(this.options.manager):this.textureLoader=new TE(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new $r(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(a){const l={scene:a[0][r.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:r.asset,parser:n,userData:{}};return Bu(s,l,r),ca(l,r),Promise.all(n._invokeAll(function(f){return f.afterRoot&&f.afterRoot(l)})).then(function(){for(const f of l.scenes)f.updateMatrixWorld();e(l)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const a=t[r].joints;for(let l=0,f=a.length;l<f;l++)e[a[l]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const a=e[r];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(n[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const r=n.clone(),s=(a,l)=>{const f=this.associations.get(a);f!=null&&this.associations.set(l,f);for(const[d,p]of a.children.entries())s(p,l.children[d])};return s(n,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const r=e(t[n]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&n.push(s)}return n}getDependency(e,t){const n=e+":"+t;let r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(n,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,a){return n.getDependency(e,a)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[qt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,a){n.load(Sl.resolveURL(t.uri,r.path),s,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(n){const r=t.byteLength||0,s=t.byteOffset||0;return n.slice(s,s+r)})}loadAccessor(e){const t=this,n=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const a=sv[r.type],l=qf[r.componentType],f=r.normalized===!0,d=new l(r.count*a);return Promise.resolve(new cn(d,a,f))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(a){const l=a[0],f=sv[r.type],d=qf[r.componentType],p=d.BYTES_PER_ELEMENT,g=p*f,y=r.byteOffset||0,x=r.bufferView!==void 0?n.bufferViews[r.bufferView].byteStride:void 0,A=r.normalized===!0;let w,S;if(x&&x!==g){const E=Math.floor(y/x),b="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+E+":"+r.count;let T=t.cache.get(b);T||(w=new d(l,E*x,r.count*x/p),T=new fp(w,x/p),t.cache.add(b,T)),S=new Pl(T,f,y%x/p,A)}else l===null?w=new d(r.count*f):w=new d(l,y,r.count*f),S=new cn(w,f,A);if(r.sparse!==void 0){const E=sv.SCALAR,b=qf[r.sparse.indices.componentType],T=r.sparse.indices.byteOffset||0,R=r.sparse.values.byteOffset||0,I=new b(a[1],T,r.sparse.count*E),F=new d(a[2],R,r.sparse.count*f);l!==null&&(S=new cn(S.array.slice(),S.itemSize,S.normalized));for(let z=0,D=I.length;z<D;z++){const O=I[z];if(S.setX(O,F[z*f]),f>=2&&S.setY(O,F[z*f+1]),f>=3&&S.setZ(O,F[z*f+2]),f>=4&&S.setW(O,F[z*f+3]),f>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return S})}loadTexture(e){const t=this.json,n=this.options,s=t.textures[e].source,a=t.images[s];let l=this.textureLoader;if(a.uri){const f=n.manager.getHandler(a.uri);f!==null&&(l=f)}return this.loadTextureImage(e,s,l)}loadTextureImage(e,t,n){const r=this,s=this.json,a=s.textures[e],l=s.images[t],f=(l.uri||l.bufferView)+":"+a.sampler;if(this.textureCache[f])return this.textureCache[f];const d=this.loadImageSource(t,n).then(function(p){p.flipY=!1,p.name=a.name||l.name||"",p.name===""&&typeof l.uri=="string"&&l.uri.startsWith("data:image/")===!1&&(p.name=l.uri);const y=(s.samplers||{})[a.sampler]||{};return p.magFilter=qw[y.magFilter]||On,p.minFilter=qw[y.minFilter]||bo,p.wrapS=Zw[y.wrapS]||Tl,p.wrapT=Zw[y.wrapT]||Tl,r.associations.set(p,{textures:e}),p}).catch(function(){return null});return this.textureCache[f]=d,d}loadImageSource(e,t){const n=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(g=>g.clone());const a=r.images[e],l=self.URL||self.webkitURL;let f=a.uri||"",d=!1;if(a.bufferView!==void 0)f=n.getDependency("bufferView",a.bufferView).then(function(g){d=!0;const y=new Blob([g],{type:a.mimeType});return f=l.createObjectURL(y),f});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const p=Promise.resolve(f).then(function(g){return new Promise(function(y,x){let A=y;t.isImageBitmapLoader===!0&&(A=function(w){const S=new Gn(w);S.needsUpdate=!0,y(S)}),t.load(Sl.resolveURL(g,s.path),A,void 0,x)})}).then(function(g){return d===!0&&l.revokeObjectURL(f),ca(g,a),g.userData.mimeType=a.mimeType||Lk(a.uri),g}).catch(function(g){throw console.error("THREE.GLTFLoader: Couldn't load texture",f),g});return this.sourceCache[e]=p,p}assignTexture(e,t,n,r){const s=this;return this.getDependency("texture",n.index).then(function(a){if(!a)return null;if(n.texCoord!==void 0&&n.texCoord>0&&(a=a.clone(),a.channel=n.texCoord),s.extensions[qt.KHR_TEXTURE_TRANSFORM]){const l=n.extensions!==void 0?n.extensions[qt.KHR_TEXTURE_TRANSFORM]:void 0;if(l){const f=s.associations.get(a);a=s.extensions[qt.KHR_TEXTURE_TRANSFORM].extendTexture(a,l),s.associations.set(a,f)}}return r!==void 0&&(typeof r=="number"&&(r=r===Yw?Xu:xa),"colorSpace"in a?a.colorSpace=r:a.encoding=r===Xu?Yw:tk),e[t]=a,a})}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,a=t.attributes.normal===void 0;if(e.isPoints){const l="PointsMaterial:"+n.uuid;let f=this.cache.get(l);f||(f=new dp,vi.prototype.copy.call(f,n),f.color.copy(n.color),f.map=n.map,f.sizeAttenuation=!1,this.cache.add(l,f)),n=f}else if(e.isLine){const l="LineBasicMaterial:"+n.uuid;let f=this.cache.get(l);f||(f=new er,vi.prototype.copy.call(f,n),f.color.copy(n.color),f.map=n.map,this.cache.add(l,f)),n=f}if(r||s||a){let l="ClonedMaterial:"+n.uuid+":";r&&(l+="derivative-tangents:"),s&&(l+="vertex-colors:"),a&&(l+="flat-shading:");let f=this.cache.get(l);f||(f=n.clone(),s&&(f.vertexColors=!0),a&&(f.flatShading=!0),r&&(f.normalScale&&(f.normalScale.y*=-1),f.clearcoatNormalScale&&(f.clearcoatNormalScale.y*=-1)),this.cache.add(l,f),this.associations.set(f,this.associations.get(n))),n=f}e.material=n}getMaterialType(){return Ep}loadMaterial(e){const t=this,n=this.json,r=this.extensions,s=n.materials[e];let a;const l={},f=s.extensions||{},d=[];if(f[qt.KHR_MATERIALS_UNLIT]){const g=r[qt.KHR_MATERIALS_UNLIT];a=g.getMaterialType(),d.push(g.extendParams(l,s,t))}else{const g=s.pbrMetallicRoughness||{};if(l.color=new et(1,1,1),l.opacity=1,Array.isArray(g.baseColorFactor)){const y=g.baseColorFactor;l.color.setRGB(y[0],y[1],y[2],xa),l.opacity=y[3]}g.baseColorTexture!==void 0&&d.push(t.assignTexture(l,"map",g.baseColorTexture,Xu)),l.metalness=g.metallicFactor!==void 0?g.metallicFactor:1,l.roughness=g.roughnessFactor!==void 0?g.roughnessFactor:1,g.metallicRoughnessTexture!==void 0&&(d.push(t.assignTexture(l,"metalnessMap",g.metallicRoughnessTexture)),d.push(t.assignTexture(l,"roughnessMap",g.metallicRoughnessTexture))),a=this._invokeOne(function(y){return y.getMaterialType&&y.getMaterialType(e)}),d.push(Promise.all(this._invokeAll(function(y){return y.extendMaterialParams&&y.extendMaterialParams(e,l)})))}s.doubleSided===!0&&(l.side=Ys);const p=s.alphaMode||ov.OPAQUE;if(p===ov.BLEND?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,p===ov.MASK&&(l.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&a!==qr&&(d.push(t.assignTexture(l,"normalMap",s.normalTexture)),l.normalScale=new Be(1,1),s.normalTexture.scale!==void 0)){const g=s.normalTexture.scale;l.normalScale.set(g,g)}if(s.occlusionTexture!==void 0&&a!==qr&&(d.push(t.assignTexture(l,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(l.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&a!==qr){const g=s.emissiveFactor;l.emissive=new et().setRGB(g[0],g[1],g[2],xa)}return s.emissiveTexture!==void 0&&a!==qr&&d.push(t.assignTexture(l,"emissiveMap",s.emissiveTexture,Xu)),Promise.all(d).then(function(){const g=new a(l);return s.name&&(g.name=s.name),ca(g,s),t.associations.set(g,{materials:e}),s.extensions&&Bu(r,g,s),g})}createUniqueName(e){const t=rn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,n=this.extensions,r=this.primitiveCache;function s(l){return n[qt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(l,t).then(function(f){return $w(f,l,t)})}const a=[];for(let l=0,f=e.length;l<f;l++){const d=e[l],p=Rk(d),g=r[p];if(g)a.push(g.promise);else{let y;d.extensions&&d.extensions[qt.KHR_DRACO_MESH_COMPRESSION]?y=s(d):y=$w(new Vt,d,t),r[p]={primitive:d,promise:y},a.push(y)}}return Promise.all(a)}loadMesh(e){const t=this,n=this.json,r=this.extensions,s=n.meshes[e],a=s.primitives,l=[];for(let f=0,d=a.length;f<d;f++){const p=a[f].material===void 0?bk(this.cache):this.getDependency("material",a[f].material);l.push(p)}return l.push(t.loadGeometries(a)),Promise.all(l).then(function(f){const d=f.slice(0,f.length-1),p=f[f.length-1],g=[];for(let x=0,A=p.length;x<A;x++){const w=p[x],S=a[x];let E;const b=d[x];if(S.mode===ms.TRIANGLES||S.mode===ms.TRIANGLE_STRIP||S.mode===ms.TRIANGLE_FAN||S.mode===void 0)E=s.isSkinnedMesh===!0?new a_(w,b):new Ti(w,b),E.isSkinnedMesh===!0&&E.normalizeSkinWeights(),S.mode===ms.TRIANGLE_STRIP?E.geometry=Jw(E.geometry,Xx):S.mode===ms.TRIANGLE_FAN&&(E.geometry=Jw(E.geometry,Hg));else if(S.mode===ms.LINES)E=new to(w,b);else if(S.mode===ms.LINE_STRIP)E=new Sa(w,b);else if(S.mode===ms.LINE_LOOP)E=new u_(w,b);else if(S.mode===ms.POINTS)E=new c_(w,b);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+S.mode);Object.keys(E.geometry.morphAttributes).length>0&&Bk(E,s),E.name=t.createUniqueName(s.name||"mesh_"+e),ca(E,s),S.extensions&&Bu(r,E,S),t.assignFinalMaterial(E),g.push(E)}for(let x=0,A=g.length;x<A;x++)t.associations.set(g[x],{meshes:e,primitives:x});if(g.length===1)return s.extensions&&Bu(r,g[0],s),g[0];const y=new ga;s.extensions&&Bu(r,y,s),t.associations.set(y,{meshes:e});for(let x=0,A=g.length;x<A;x++)y.add(g[x]);return y})}loadCamera(e){let t;const n=this.json.cameras[e],r=n[n.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?t=new Dn(FC.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):n.type==="orthographic"&&(t=new Zs(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),ca(t,n),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],n=[];for(let r=0,s=t.joints.length;r<s;r++)n.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(r){const s=r.pop(),a=r,l=[],f=[];for(let d=0,p=a.length;d<p;d++){const g=a[d];if(g){l.push(g);const y=new Lt;s!==null&&y.fromArray(s.array,d*16),f.push(y)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[d])}return new hp(l,f)})}loadAnimation(e){const t=this.json,n=this,r=t.animations[e],s=r.name?r.name:"animation_"+e,a=[],l=[],f=[],d=[],p=[];for(let g=0,y=r.channels.length;g<y;g++){const x=r.channels[g],A=r.samplers[x.sampler],w=x.target,S=w.node,E=r.parameters!==void 0?r.parameters[A.input]:A.input,b=r.parameters!==void 0?r.parameters[A.output]:A.output;w.node!==void 0&&(a.push(this.getDependency("node",S)),l.push(this.getDependency("accessor",E)),f.push(this.getDependency("accessor",b)),d.push(A),p.push(w))}return Promise.all([Promise.all(a),Promise.all(l),Promise.all(f),Promise.all(d),Promise.all(p)]).then(function(g){const y=g[0],x=g[1],A=g[2],w=g[3],S=g[4],E=[];for(let b=0,T=y.length;b<T;b++){const R=y[b],I=x[b],F=A[b],z=w[b],D=S[b];if(R===void 0)continue;R.updateMatrix&&R.updateMatrix();const O=n._createAnimationTracks(R,I,F,z,D);if(O)for(let G=0;G<O.length;G++)E.push(O[G])}return new rh(s,void 0,E)})}createNodeMesh(e){const t=this.json,n=this,r=t.nodes[e];return r.mesh===void 0?null:n.getDependency("mesh",r.mesh).then(function(s){const a=n._getNodeRef(n.meshCache,r.mesh,s);return r.weights!==void 0&&a.traverse(function(l){if(l.isMesh)for(let f=0,d=r.weights.length;f<d;f++)l.morphTargetInfluences[f]=r.weights[f]}),a})}loadNode(e){const t=this.json,n=this,r=t.nodes[e],s=n._loadNodeShallow(e),a=[],l=r.children||[];for(let d=0,p=l.length;d<p;d++)a.push(n.getDependency("node",l[d]));const f=r.skin===void 0?Promise.resolve(null):n.getDependency("skin",r.skin);return Promise.all([s,Promise.all(a),f]).then(function(d){const p=d[0],g=d[1],y=d[2];y!==null&&p.traverse(function(x){x.isSkinnedMesh&&x.bind(y,Ik)});for(let x=0,A=g.length;x<A;x++)p.add(g[x]);return p})}_loadNodeShallow(e){const t=this.json,n=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],a=s.name?r.createUniqueName(s.name):"",l=[],f=r._invokeOne(function(d){return d.createNodeMesh&&d.createNodeMesh(e)});return f&&l.push(f),s.camera!==void 0&&l.push(r.getDependency("camera",s.camera).then(function(d){return r._getNodeRef(r.cameraCache,s.camera,d)})),r._invokeAll(function(d){return d.createNodeAttachment&&d.createNodeAttachment(e)}).forEach(function(d){l.push(d)}),this.nodeCache[e]=Promise.all(l).then(function(d){let p;if(s.isBone===!0?p=new p0:d.length>1?p=new ga:d.length===1?p=d[0]:p=new sn,p!==d[0])for(let g=0,y=d.length;g<y;g++)p.add(d[g]);if(s.name&&(p.userData.name=s.name,p.name=a),ca(p,s),s.extensions&&Bu(n,p,s),s.matrix!==void 0){const g=new Lt;g.fromArray(s.matrix),p.applyMatrix4(g)}else s.translation!==void 0&&p.position.fromArray(s.translation),s.rotation!==void 0&&p.quaternion.fromArray(s.rotation),s.scale!==void 0&&p.scale.fromArray(s.scale);return r.associations.has(p)||r.associations.set(p,{}),r.associations.get(p).nodes=e,p}),this.nodeCache[e]}loadScene(e){const t=this.extensions,n=this.json.scenes[e],r=this,s=new ga;n.name&&(s.name=r.createUniqueName(n.name)),ca(s,n),n.extensions&&Bu(t,s,n);const a=n.nodes||[],l=[];for(let f=0,d=a.length;f<d;f++)l.push(r.getDependency("node",a[f]));return Promise.all(l).then(function(f){for(let p=0,g=f.length;p<g;p++)s.add(f[p]);const d=p=>{const g=new Map;for(const[y,x]of r.associations)(y instanceof vi||y instanceof Gn)&&g.set(y,x);return p.traverse(y=>{const x=r.associations.get(y);x!=null&&g.set(y,x)}),g};return r.associations=d(s),s})}_createAnimationTracks(e,t,n,r,s){const a=[],l=e.name?e.name:e.uuid,f=[];vl[s.path]===vl.weights?e.traverse(function(y){y.morphTargetInfluences&&f.push(y.name?y.name:y.uuid)}):f.push(l);let d;switch(vl[s.path]){case vl.weights:d=oc;break;case vl.rotation:d=Bl;break;case vl.position:case vl.scale:d=ac;break;default:switch(n.itemSize){case 1:d=oc;break;case 2:case 3:default:d=ac;break}break}const p=r.interpolation!==void 0?Tk[r.interpolation]:ic,g=this._getArrayFromAccessor(n);for(let y=0,x=f.length;y<x;y++){const A=new d(f[y]+"."+vl[s.path],t.array,g,p);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(A),a.push(A)}return a}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const n=vx(t.constructor),r=new Float32Array(t.length);for(let s=0,a=t.length;s<a;s++)r[s]=t[s]*n;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(n){const r=this instanceof Bl?Ek:eT;return new r(this.times,this.values,this.getValueSize()/3,n)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Fk(i,e,t){const n=e.attributes,r=new Dl;if(n.POSITION!==void 0){const l=t.json.accessors[n.POSITION],f=l.min,d=l.max;if(f!==void 0&&d!==void 0){if(r.set(new H(f[0],f[1],f[2]),new H(d[0],d[1],d[2])),l.normalized){const p=vx(qf[l.componentType]);r.min.multiplyScalar(p),r.max.multiplyScalar(p)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const l=new H,f=new H;for(let d=0,p=s.length;d<p;d++){const g=s[d];if(g.POSITION!==void 0){const y=t.json.accessors[g.POSITION],x=y.min,A=y.max;if(x!==void 0&&A!==void 0){if(f.setX(Math.max(Math.abs(x[0]),Math.abs(A[0]))),f.setY(Math.max(Math.abs(x[1]),Math.abs(A[1]))),f.setZ(Math.max(Math.abs(x[2]),Math.abs(A[2]))),y.normalized){const w=vx(qf[y.componentType]);f.multiplyScalar(w)}l.max(f)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(l)}i.boundingBox=r;const a=new Fl;r.getCenter(a.center),a.radius=r.min.distanceTo(r.max)/2,i.boundingSphere=a}function $w(i,e,t){const n=e.attributes,r=[];function s(a,l){return t.getDependency("accessor",a).then(function(f){i.setAttribute(l,f)})}for(const a in n){const l=yx[a]||a.toLowerCase();l in i.attributes||r.push(s(n[a],l))}if(e.indices!==void 0&&!i.index){const a=t.getDependency("accessor",e.indices).then(function(l){i.setIndex(l)});r.push(a)}return ca(i,e),Fk(i,e,t),Promise.all(r).then(function(){return e.targets!==void 0?Pk(i,e.targets,t):i})}const lv=new WeakMap;class Nk extends gr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,r){const s=new $r(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,a=>{const l={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(a,l).then(t).catch(r)},n,r)}decodeDracoFile(e,t,n,r){const s={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const f in t.attributeTypes){const d=t.attributeTypes[f];d.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[f]=d.name)}const n=JSON.stringify(t);if(lv.has(e)){const f=lv.get(e);if(f.key===n)return f.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,a=e.byteLength,l=this._getWorker(s,a).then(f=>(r=f,new Promise((d,p)=>{r._callbacks[s]={resolve:d,reject:p},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(f=>this._createGeometry(f.geometry));return l.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),lv.set(e,{key:n,promise:l}),l}_createGeometry(e){const t=new Vt;e.index&&t.setIndex(new cn(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const r=e.attributes[n],s=r.name,a=r.array,l=r.itemSize;t.setAttribute(s,new cn(a,l))}return t}_loadLibrary(e,t){const n=new $r(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((r,s)=>{n.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(n=>{const r=n[0];e||(this.decoderConfig.wasmBinary=n[1]);const s=kk.toString(),a=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const a=s.data;switch(a.type){case"decode":r._callbacks[a.id].resolve(a);break;case"error":r._callbacks[a.id].reject(a);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+a.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function kk(){let i,e;onmessage=function(a){const l=a.data;switch(l.type){case"init":i=l.decoderConfig,e=new Promise(function(p){i.onModuleLoaded=function(g){p({draco:g})},DracoDecoderModule(i)});break;case"decode":const f=l.buffer,d=l.taskConfig;e.then(p=>{const g=p.draco,y=new g.Decoder,x=new g.DecoderBuffer;x.Init(new Int8Array(f),f.byteLength);try{const A=t(g,y,x,d),w=A.attributes.map(S=>S.array.buffer);A.index&&w.push(A.index.array.buffer),self.postMessage({type:"decode",id:l.id,geometry:A},w)}catch(A){console.error(A),self.postMessage({type:"error",id:l.id,error:A.message})}finally{g.destroy(x),g.destroy(y)}});break}};function t(a,l,f,d){const p=d.attributeIDs,g=d.attributeTypes;let y,x;const A=l.GetEncodedGeometryType(f);if(A===a.TRIANGULAR_MESH)y=new a.Mesh,x=l.DecodeBufferToMesh(f,y);else if(A===a.POINT_CLOUD)y=new a.PointCloud,x=l.DecodeBufferToPointCloud(f,y);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!x.ok()||y.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+x.error_msg());const w={index:null,attributes:[]};for(const S in p){const E=self[g[S]];let b,T;if(d.useUniqueIDs)T=p[S],b=l.GetAttributeByUniqueId(y,T);else{if(T=l.GetAttributeId(y,a[p[S]]),T===-1)continue;b=l.GetAttribute(y,T)}w.attributes.push(r(a,l,y,S,E,b))}return A===a.TRIANGULAR_MESH&&(w.index=n(a,l,y)),a.destroy(y),w}function n(a,l,f){const p=f.num_faces()*3,g=p*4,y=a._malloc(g);l.GetTrianglesUInt32Array(f,g,y);const x=new Uint32Array(a.HEAPF32.buffer,y,p).slice();return a._free(y),{array:x,itemSize:1}}function r(a,l,f,d,p,g){const y=g.num_components(),A=f.num_points()*y,w=A*p.BYTES_PER_ELEMENT,S=s(a,p),E=a._malloc(w);l.GetAttributeDataArrayForAllPoints(f,g,S,w,E);const b=new p(a.HEAPF32.buffer,E,A).slice();return a._free(E),{name:d,array:b,itemSize:y}}function s(a,l){switch(l){case Float32Array:return a.DT_FLOAT32;case Int8Array:return a.DT_INT8;case Int16Array:return a.DT_INT16;case Int32Array:return a.DT_INT32;case Uint8Array:return a.DT_UINT8;case Uint16Array:return a.DT_UINT16;case Uint32Array:return a.DT_UINT32}}}let Ag;const uv=()=>{if(Ag)return Ag;const i="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),n=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=i;WebAssembly.validate(t)&&(r=e);let s;const a=WebAssembly.instantiate(l(r),{}).then(g=>{s=g.instance,s.exports.__wasm_call_ctors()});function l(g){const y=new Uint8Array(g.length);for(let A=0;A<g.length;++A){const w=g.charCodeAt(A);y[A]=w>96?w-71:w>64?w-65:w>47?w+4:w>46?63:62}let x=0;for(let A=0;A<g.length;++A)y[x++]=y[A]<60?n[y[A]]:(y[A]-60)*64+y[++A];return y.buffer.slice(0,x)}function f(g,y,x,A,w,S){const E=s.exports.sbrk,b=x+3&-4,T=E(b*A),R=E(w.length),I=new Uint8Array(s.exports.memory.buffer);I.set(w,R);const F=g(T,x,A,R,w.length);if(F===0&&S&&S(T,b,A),y.set(I.subarray(T,T+x*A)),E(T-E(0)),F!==0)throw new Error(`Malformed buffer data: ${F}`)}const d={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},p={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Ag={ready:a,supported:!0,decodeVertexBuffer(g,y,x,A,w){f(s.exports.meshopt_decodeVertexBuffer,g,y,x,A,s.exports[d[w]])},decodeIndexBuffer(g,y,x,A){f(s.exports.meshopt_decodeIndexBuffer,g,y,x,A)},decodeIndexSequence(g,y,x,A){f(s.exports.meshopt_decodeIndexSequence,g,y,x,A)},decodeGltfBuffer(g,y,x,A,w,S){f(s.exports[p[w]],g,y,x,A,s.exports[d[S]])}},Ag},Ok=()=>parseInt(ch.replace(/\D+/g,"")),tT=Ok();let wg=null,nT="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function iT(i=!0,e=!0,t){return n=>{t&&t(n),i&&(wg||(wg=new Nk),wg.setDecoderPath(typeof i=="string"?i:nT),n.setDRACOLoader(wg)),e&&n.setMeshoptDecoder(typeof uv=="function"?uv():uv)}}const Rp=(i,e,t,n)=>Pp(N_,i,iT(e,t,n));Rp.preload=(i,e,t,n)=>Pp.preload(N_,i,iT(e,t,n));Rp.clear=i=>Pp.clear(N_,i);Rp.setDecoderPath=i=>{nT=i};const rT=Z.forwardRef(({makeDefault:i,camera:e,regress:t,domElement:n,enableDamping:r=!0,keyEvents:s=!1,onChange:a,onStart:l,onEnd:f,...d},p)=>{const g=ys(F=>F.invalidate),y=ys(F=>F.camera),x=ys(F=>F.gl),A=ys(F=>F.events),w=ys(F=>F.setEvents),S=ys(F=>F.set),E=ys(F=>F.get),b=ys(F=>F.performance),T=e||y,R=n||A.connected||x.domElement,I=Z.useMemo(()=>new ek(T),[T]);return bp(()=>{I.enabled&&I.update()},-1),Z.useEffect(()=>(s&&I.connect(s===!0?R:s),I.connect(R),()=>void I.dispose()),[s,R,t,I,g]),Z.useEffect(()=>{const F=O=>{g(),t&&b.regress(),a&&a(O)},z=O=>{l&&l(O)},D=O=>{f&&f(O)};return I.addEventListener("change",F),I.addEventListener("start",z),I.addEventListener("end",D),()=>{I.removeEventListener("start",z),I.removeEventListener("end",D),I.removeEventListener("change",F)}},[a,l,f,I,g,w]),Z.useEffect(()=>{if(i){const F=E().controls;return S({controls:I}),()=>S({controls:F})}},[i,I]),Z.createElement("primitive",Ma({ref:p,object:I,enableDamping:r},d))});var cv={exports:{}},fv,eS;function Uk(){if(eS)return fv;eS=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return fv=i,fv}var hv,tS;function zk(){if(tS)return hv;tS=1;var i=Uk();function e(){}function t(){}return t.resetWarningCache=e,hv=function(){function n(a,l,f,d,p,g){if(g!==i){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function r(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},hv}var nS;function sT(){return nS||(nS=1,cv.exports=zk()()),cv.exports}const dv=tT>=154?"opaque_fragment":"output_fragment";class Gk extends dp{constructor(e){super(e),this.onBeforeCompile=(t,n)=>{const{isWebGL2:r}=n.capabilities;t.fragmentShader=t.fragmentShader.replace(`#include <${dv}>`,`
        ${r?`#include <${dv}>`:`#extension GL_OES_standard_derivatives : enable
#include <${dv}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${tT>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const Hk=Z.forwardRef((i,e)=>{const[t]=Z.useState(()=>new Gk(null));return Z.createElement("primitive",Ma({},i,{object:t,ref:e,attach:"material"}))});let Ru,Md;const Vk=Z.createContext(null),iS=new Lt,rS=new H,Wk=Z.forwardRef(({children:i,range:e,limit:t=1e3,...n},r)=>{const s=Z.useRef(null);Z.useImperativeHandle(r,()=>s.current,[]);const[a,l]=Z.useState([]),[[f,d,p]]=Z.useState(()=>[new Float32Array(t*3),Float32Array.from({length:t*3},()=>1),Float32Array.from({length:t},()=>1)]);Z.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),bp(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),iS.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(t,e!==void 0?e:t,a.length),Ru=0;Ru<a.length;Ru++)Md=a[Ru].current,Md.getWorldPosition(rS).applyMatrix4(iS),rS.toArray(f,Ru*3),s.current.geometry.attributes.position.needsUpdate=!0,Md.matrixWorldNeedsUpdate=!0,Md.color.toArray(d,Ru*3),s.current.geometry.attributes.color.needsUpdate=!0,p.set([Md.size],Ru),s.current.geometry.attributes.size.needsUpdate=!0});const g=Z.useMemo(()=>({getParent:()=>s,subscribe:y=>(l(x=>[...x,y]),()=>l(x=>x.filter(A=>A.current!==y.current)))}),[]);return Z.createElement("points",Ma({userData:{instances:a},matrixAutoUpdate:!1,ref:s,raycast:()=>null},n),Z.createElement("bufferGeometry",null,Z.createElement("bufferAttribute",{attach:"attributes-position",count:f.length/3,array:f,itemSize:3,usage:qu}),Z.createElement("bufferAttribute",{attach:"attributes-color",count:d.length/3,array:d,itemSize:3,usage:qu}),Z.createElement("bufferAttribute",{attach:"attributes-size",count:p.length,array:p,itemSize:1,usage:qu})),Z.createElement(Vk.Provider,{value:g},i))}),jk=Z.forwardRef(({children:i,positions:e,colors:t,sizes:n,stride:r=3,...s},a)=>{const l=Z.useRef(null);return Z.useImperativeHandle(a,()=>l.current,[]),bp(()=>{const f=l.current.geometry.attributes;f.position.needsUpdate=!0,t&&(f.color.needsUpdate=!0),n&&(f.size.needsUpdate=!0)}),Z.createElement("points",Ma({ref:l},s),Z.createElement("bufferGeometry",null,Z.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/r,array:e,itemSize:r,usage:qu}),t&&Z.createElement("bufferAttribute",{attach:"attributes-color",count:t.length/r,array:t,itemSize:3,usage:qu}),n&&Z.createElement("bufferAttribute",{attach:"attributes-size",count:n.length/r,array:n,itemSize:1,usage:qu})),i)}),Jk=Z.forwardRef((i,e)=>i.positions instanceof Float32Array?Z.createElement(jk,Ma({},i,{ref:e})):Z.createElement(Wk,Ma({},i,{ref:e})));function k_({all:i,scene:e,camera:t}){const n=ys(({gl:a})=>a),r=ys(({camera:a})=>a),s=ys(({scene:a})=>a);return Z.useLayoutEffect(()=>{const a=[];i&&(e||s).traverse(d=>{d.visible===!1&&(a.push(d),d.visible=!0)}),n.compile(e||s,t||r);const l=new e_(128);new $x(.01,1e5,l).update(n,e||s),l.dispose(),a.forEach(d=>d.visible=!1)},[]),null}const oT=()=>{const{progress:i}=jN();return ne.jsxs(zN,{as:"div",center:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[ne.jsx("span",{className:"canvas-loader"}),ne.jsxs("p",{style:{fontSize:14,color:"#F1F1F1",fontWeight:800,marginTop:40},children:[i.toFixed(2),"%"]})]})},Xk=()=>{const i=Rp("./submarine/scene.gltf");return ne.jsxs("mesh",{children:[ne.jsx("hemisphereLight",{intensity:.35,groundColor:"black"}),ne.jsx("pointLight",{intensity:1,position:[2,3,4]}),ne.jsx("spotLight",{position:[-20,50,10],angle:.12,intensity:1,castShadow:!0,"shadow-mapSize":1024}),ne.jsx("primitive",{object:i.scene,scale:100,"position-y":0,"rotation-y":0})]})},Kk=()=>ne.jsxs(D_,{shadows:!0,frameloop:"demand",gl:{preserveDrawingBuffer:!0},camera:{fov:45,near:.1,far:200,position:[-4,3,6]},children:[ne.jsxs(Z.Suspense,{fallback:ne.jsx(oT,{}),children:[ne.jsx(rT,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),ne.jsx(Xk,{})]}),ne.jsx(k_,{all:!0})]}),Yk=({isMobile:i})=>{const e=Rp("./boat/scene.gltf");return ne.jsxs("mesh",{children:[ne.jsx("hemisphereLight",{intensity:.15,groundColor:"black"}),ne.jsx("pointLight",{intensity:1}),ne.jsx("spotLight",{position:[-20,50,50],angle:.12,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize":1024}),ne.jsx("primitive",{object:e.scene,scale:i?.006:.0105,position:i?[0,-2.25,0]:[0,-2.25,-1.5],rotation:[0,2.3,-.1]})]})},Qk=()=>{const[i,e]=Z.useState(!1);return Z.useEffect(()=>{const t=window.matchMedia("(max-width: 640px)");e(t.matches);const n=r=>{e(r.matches)};return t.addEventListener("change",n),()=>{t.removeEventListener("change",n)}},[]),ne.jsxs(D_,{frameloop:"demand",shadows:!0,camera:{position:[20,3,5],fov:25},gl:{preserveDrawingBuffer:!0},children:[ne.jsxs(Z.Suspense,{fallback:ne.jsx(oT,{}),children:[ne.jsx(rT,{enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),ne.jsx(Yk,{isMobile:i})]}),ne.jsx(k_,{all:!0})]})};function Zf(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function sS(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function oS(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sS(Object(t),!0).forEach(function(n){Zf(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):sS(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function aT(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}new Be;new Be;var ds=function i(e,t,n){var r=this;aT(this,i),Zf(this,"dot2",function(s,a){return r.x*s+r.y*a}),Zf(this,"dot3",function(s,a,l){return r.x*s+r.y*a+r.z*l}),this.x=e,this.y=t,this.z=n},qk=[new ds(1,1,0),new ds(-1,1,0),new ds(1,-1,0),new ds(-1,-1,0),new ds(1,0,1),new ds(-1,0,1),new ds(1,0,-1),new ds(-1,0,-1),new ds(0,1,1),new ds(0,-1,1),new ds(0,1,-1),new ds(0,-1,-1)],aS=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],lS=new Array(512),uS=new Array(512),Zk=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var n;t&1?n=aS[t]^e&255:n=aS[t]^e>>8&255,lS[t]=lS[t+256]=n,uS[t]=uS[t+256]=qk[n%12]}};Zk(0);function $k(i){if(typeof i=="number")i=Math.abs(i);else if(typeof i=="string"){var e=i;i=0;for(var t=0;t<e.length;t++)i=(i+(t+1)*(e.charCodeAt(t)%96))%2147483647}return i===0&&(i=311),i}function cS(i){var e=$k(i);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var eO=function i(e){var t=this;aT(this,i),Zf(this,"seed",0),Zf(this,"init",function(n){t.seed=n,t.value=cS(n)}),Zf(this,"value",cS(this.seed)),this.init(e)},tO=new eO(Math.random()),nO={radius:1,center:[0,0,0]};function iO(i,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tO,n=oS(oS({},nO),e),r=n.radius,s=n.center,a=0;a<i.length;a+=3){var l=Math.pow(t.value(),.3333333333333333),f=t.value()*2-1,d=t.value()*2-1,p=t.value()*2-1,g=Math.sqrt(f*f+d*d+p*p);f=l*f/g,d=l*d/g,p=l*p/g,i[a]=f*r+s[0],i[a+1]=d*r+s[1],i[a+2]=p*r+s[2]}return i}const rO=i=>{const e=Z.useRef(),[t]=Z.useState(()=>iO(new Float32Array(5e3),{radius:1.2}));return bp((n,r)=>{e.current.rotation.x-=r/60,e.current.rotation.x-=r/80}),ne.jsx("group",{rotation:[0,0,Math.PI/4],children:ne.jsx(Jk,{ref:e,positions:t,stride:3,frustumCalled:!0,...i,children:ne.jsx(Hk,{transparent:!0,opacity:.3,color:"#2B7FFF",size:.002,sizeAttenuation:!0,depthWrite:!1})})})},sO=()=>ne.jsx("div",{className:"w-full h-auto absolute inset-0 z-[-1]",children:ne.jsxs(D_,{camera:{position:[0,0,1]},children:[ne.jsx(Z.Suspense,{fallback:null,children:ne.jsx(rO,{})}),ne.jsx(k_,{all:!0})]})}),lT=Z.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"}),_0=Z.createContext({});function oO(){return Z.useContext(_0).visualElement}const O_=Z.createContext(null),A0=typeof document<"u",fS=A0?Z.useLayoutEffect:Z.useEffect,uT=Z.createContext({strict:!1});function aO(i,e,t,n){const r=oO(),s=Z.useContext(uT),a=Z.useContext(O_),l=Z.useContext(lT).reducedMotion,f=Z.useRef();n=n||s.renderer,!f.current&&n&&(f.current=n(i,{visualState:e,parent:r,props:t,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=f.current;return Z.useInsertionEffect(()=>{d&&d.update(t,a)}),fS(()=>{d&&d.render()}),Z.useEffect(()=>{d&&d.updateFeatures()}),(window.HandoffAppearAnimations?fS:Z.useEffect)(()=>{d&&d.animationState&&d.animationState.animateChanges()}),d}function Jf(i){return typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function lO(i,e,t){return Z.useCallback(n=>{n&&i.mount&&i.mount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):Jf(t)&&(t.current=n))},[e])}function tp(i){return typeof i=="string"||Array.isArray(i)}function w0(i){return typeof i=="object"&&typeof i.start=="function"}const U_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],z_=["initial",...U_];function S0(i){return w0(i.animate)||z_.some(e=>tp(i[e]))}function cT(i){return!!(S0(i)||i.variants)}function uO(i,e){if(S0(i)){const{initial:t,animate:n}=i;return{initial:t===!1||tp(t)?t:void 0,animate:tp(n)?n:void 0}}return i.inherit!==!1?e:{}}function cO(i){const{initial:e,animate:t}=uO(i,Z.useContext(_0));return Z.useMemo(()=>({initial:e,animate:t}),[hS(e),hS(t)])}function hS(i){return Array.isArray(i)?i.join(" "):i}const dS={animation:["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},np={};for(const i in dS)np[i]={isEnabled:e=>dS[i].some(t=>!!e[t])};function fO(i){for(const e in i)np[e]={...np[e],...i[e]}}function fT(i){const e=Z.useRef(null);return e.current===null&&(e.current=i()),e.current}const Fd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let hO=1;function dO(){return fT(()=>{if(Fd.hasEverUpdated)return hO++})}const hT=Z.createContext({}),dT=Z.createContext({}),pO=Symbol.for("motionComponentSymbol");function mO({preloadedFeatures:i,createVisualElement:e,useRender:t,useVisualState:n,Component:r}){i&&fO(i);function s(l,f){let d;const p={...Z.useContext(lT),...l,layoutId:gO(l)},{isStatic:g}=p,y=cO(l),x=g?void 0:dO(),A=n(l,g);if(!g&&A0){y.visualElement=aO(r,A,p,e);const w=Z.useContext(dT),S=Z.useContext(uT).strict;y.visualElement&&(d=y.visualElement.loadFeatures(p,S,i,x,w))}return Z.createElement(_0.Provider,{value:y},d&&y.visualElement?Z.createElement(d,{visualElement:y.visualElement,...p}):null,t(r,l,x,lO(A,y.visualElement,f),A,g,y.visualElement))}const a=Z.forwardRef(s);return a[pO]=r,a}function gO({layoutId:i}){const e=Z.useContext(hT).id;return e&&i!==void 0?e+"-"+i:i}function yO(i){function e(n,r={}){return mO(i(n,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(n,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const vO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function G_(i){return typeof i!="string"||i.includes("-")?!1:!!(vO.indexOf(i)>-1||/[A-Z]/.test(i))}const Xg={};function xO(i){Object.assign(Xg,i)}const M0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hc=new Set(M0);function pT(i,{layout:e,layoutId:t}){return hc.has(i)||i.startsWith("origin")||(e||t!==void 0)&&(!!Xg[i]||i==="opacity")}const kr=i=>!!(i&&i.getVelocity),_O={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},AO=M0.length;function wO(i,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},n,r){let s="";for(let a=0;a<AO;a++){const l=M0[a];if(i[l]!==void 0){const f=_O[l]||l;s+=`${f}(${i[l]}) `}}return e&&!i.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(i,n?"":s):t&&n&&(s="none"),s}const mT=i=>e=>typeof e=="string"&&e.startsWith(i),gT=mT("--"),xx=mT("var(--"),SO=(i,e)=>e&&typeof i=="number"?e.transform(i):i,oh=(i,e,t)=>Math.min(Math.max(t,i),e),dc={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},Nd={...dc,transform:i=>oh(0,1,i)},Sg={...dc,default:1},kd=i=>Math.round(i*1e5)/1e5,ip=/(-)?([\d]*\.?[\d])+/g,_x=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,MO=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Lp(i){return typeof i=="string"}const Ip=i=>({test:e=>Lp(e)&&e.endsWith(i)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${i}`}),xl=Ip("deg"),Eo=Ip("%"),Pt=Ip("px"),CO=Ip("vh"),EO=Ip("vw"),pS={...Eo,parse:i=>Eo.parse(i)/100,transform:i=>Eo.transform(i*100)},mS={...dc,transform:Math.round},yT={borderWidth:Pt,borderTopWidth:Pt,borderRightWidth:Pt,borderBottomWidth:Pt,borderLeftWidth:Pt,borderRadius:Pt,radius:Pt,borderTopLeftRadius:Pt,borderTopRightRadius:Pt,borderBottomRightRadius:Pt,borderBottomLeftRadius:Pt,width:Pt,maxWidth:Pt,height:Pt,maxHeight:Pt,size:Pt,top:Pt,right:Pt,bottom:Pt,left:Pt,padding:Pt,paddingTop:Pt,paddingRight:Pt,paddingBottom:Pt,paddingLeft:Pt,margin:Pt,marginTop:Pt,marginRight:Pt,marginBottom:Pt,marginLeft:Pt,rotate:xl,rotateX:xl,rotateY:xl,rotateZ:xl,scale:Sg,scaleX:Sg,scaleY:Sg,scaleZ:Sg,skew:xl,skewX:xl,skewY:xl,distance:Pt,translateX:Pt,translateY:Pt,translateZ:Pt,x:Pt,y:Pt,z:Pt,perspective:Pt,transformPerspective:Pt,opacity:Nd,originX:pS,originY:pS,originZ:Pt,zIndex:mS,fillOpacity:Nd,strokeOpacity:Nd,numOctaves:mS};function H_(i,e,t,n){const{style:r,vars:s,transform:a,transformOrigin:l}=i;let f=!1,d=!1,p=!0;for(const g in e){const y=e[g];if(gT(g)){s[g]=y;continue}const x=yT[g],A=SO(y,x);if(hc.has(g)){if(f=!0,a[g]=A,!p)continue;y!==(x.default||0)&&(p=!1)}else g.startsWith("origin")?(d=!0,l[g]=A):r[g]=A}if(e.transform||(f||n?r.transform=wO(i.transform,t,p,n):r.transform&&(r.transform="none")),d){const{originX:g="50%",originY:y="50%",originZ:x=0}=l;r.transformOrigin=`${g} ${y} ${x}`}}const V_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vT(i,e,t){for(const n in e)!kr(e[n])&&!pT(n,t)&&(i[n]=e[n])}function TO({transformTemplate:i},e,t){return Z.useMemo(()=>{const n=V_();return H_(n,e,{enableHardwareAcceleration:!t},i),Object.assign({},n.vars,n.style)},[e])}function bO(i,e,t){const n=i.style||{},r={};return vT(r,n,i),Object.assign(r,TO(i,e,t)),i.transformValues?i.transformValues(r):r}function PO(i,e,t){const n={},r=bO(i,e,t);return i.drag&&i.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(n.tabIndex=0),n.style=r,n}const BO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Kg(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||BO.has(i)}let xT=i=>!Kg(i);function RO(i){i&&(xT=e=>e.startsWith("on")?!Kg(e):i(e))}try{RO(require("@emotion/is-prop-valid").default)}catch{}function LO(i,e,t){const n={};for(const r in i)r==="values"&&typeof i.values=="object"||(xT(r)||t===!0&&Kg(r)||!e&&!Kg(r)||i.draggable&&r.startsWith("onDrag"))&&(n[r]=i[r]);return n}function gS(i,e,t){return typeof i=="string"?i:Pt.transform(e+t*i)}function IO(i,e,t){const n=gS(e,i.x,i.width),r=gS(t,i.y,i.height);return`${n} ${r}`}const DO={offset:"stroke-dashoffset",array:"stroke-dasharray"},FO={offset:"strokeDashoffset",array:"strokeDasharray"};function NO(i,e,t=1,n=0,r=!0){i.pathLength=1;const s=r?DO:FO;i[s.offset]=Pt.transform(-n);const a=Pt.transform(e),l=Pt.transform(t);i[s.array]=`${a} ${l}`}function W_(i,{attrX:e,attrY:t,originX:n,originY:r,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...f},d,p,g){if(H_(i,f,d,g),p){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:y,style:x,dimensions:A}=i;y.transform&&(A&&(x.transform=y.transform),delete y.transform),A&&(n!==void 0||r!==void 0||x.transform)&&(x.transformOrigin=IO(A,n!==void 0?n:.5,r!==void 0?r:.5)),e!==void 0&&(y.x=e),t!==void 0&&(y.y=t),s!==void 0&&NO(y,s,a,l,!1)}const _T=()=>({...V_(),attrs:{}}),j_=i=>typeof i=="string"&&i.toLowerCase()==="svg";function kO(i,e,t,n){const r=Z.useMemo(()=>{const s=_T();return W_(s,e,{enableHardwareAcceleration:!1},j_(n),i.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(i.style){const s={};vT(s,i.style,i),r.style={...s,...r.style}}return r}function OO(i=!1){return(t,n,r,s,{latestValues:a},l)=>{const d=(G_(t)?kO:PO)(n,a,l,t),g={...LO(n,typeof t=="string",i),...d,ref:s},{children:y}=n,x=Z.useMemo(()=>kr(y)?y.get():y,[y]);return r&&(g["data-projection-id"]=r),Z.createElement(t,{...g,children:x})}}const J_=i=>i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function AT(i,{style:e,vars:t},n,r){Object.assign(i.style,e,r&&r.getProjectionStyles(n));for(const s in t)i.style.setProperty(s,t[s])}const wT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ST(i,e,t,n){AT(i,e,void 0,n);for(const r in e.attrs)i.setAttribute(wT.has(r)?r:J_(r),e.attrs[r])}function X_(i,e){const{style:t}=i,n={};for(const r in t)(kr(t[r])||e.style&&kr(e.style[r])||pT(r,i))&&(n[r]=t[r]);return n}function MT(i,e){const t=X_(i,e);for(const n in i)if(kr(i[n])||kr(e[n])){const r=n==="x"||n==="y"?"attr"+n.toUpperCase():n;t[r]=i[n]}return t}function K_(i,e,t,n={},r={}){return typeof e=="function"&&(e=e(t!==void 0?t:i.custom,n,r)),typeof e=="string"&&(e=i.variants&&i.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:i.custom,n,r)),e}const Yg=i=>Array.isArray(i),UO=i=>!!(i&&typeof i=="object"&&i.mix&&i.toValue),zO=i=>Yg(i)?i[i.length-1]||0:i;function kg(i){const e=kr(i)?i.get():i;return UO(e)?e.toValue():e}function GO({scrapeMotionValuesFromProps:i,createRenderState:e,onMount:t},n,r,s){const a={latestValues:HO(n,r,s,i),renderState:e()};return t&&(a.mount=l=>t(n,l,a)),a}const CT=i=>(e,t)=>{const n=Z.useContext(_0),r=Z.useContext(O_),s=()=>GO(i,e,n,r);return t?s():fT(s)};function HO(i,e,t,n){const r={},s=n(i,{});for(const y in s)r[y]=kg(s[y]);let{initial:a,animate:l}=i;const f=S0(i),d=cT(i);e&&d&&!f&&i.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let p=t?t.initial===!1:!1;p=p||a===!1;const g=p?l:a;return g&&typeof g!="boolean"&&!w0(g)&&(Array.isArray(g)?g:[g]).forEach(x=>{const A=K_(i,x);if(!A)return;const{transitionEnd:w,transition:S,...E}=A;for(const b in E){let T=E[b];if(Array.isArray(T)){const R=p?T.length-1:0;T=T[R]}T!==null&&(r[b]=T)}for(const b in w)r[b]=w[b]}),r}const VO={useVisualState:CT({scrapeMotionValuesFromProps:MT,createRenderState:_T,onMount:(i,e,{renderState:t,latestValues:n})=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}W_(t,n,{enableHardwareAcceleration:!1},j_(e.tagName),i.transformTemplate),ST(e,t)}})},WO={useVisualState:CT({scrapeMotionValuesFromProps:X_,createRenderState:V_})};function jO(i,{forwardMotionProps:e=!1},t,n){return{...G_(i)?VO:WO,preloadedFeatures:t,useRender:OO(e),createVisualElement:n,Component:i}}function ya(i,e,t,n={passive:!0}){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t)}const ET=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1;function C0(i,e="page"){return{point:{x:i[e+"X"],y:i[e+"Y"]}}}const JO=i=>e=>ET(e)&&i(e,C0(e));function _a(i,e,t,n){return ya(i,e,JO(t),n)}const XO=(i,e)=>t=>e(i(t)),Ml=(...i)=>i.reduce(XO);function TT(i){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=i,t):!1}}const yS=TT("dragHorizontal"),vS=TT("dragVertical");function bT(i){let e=!1;if(i==="y")e=vS();else if(i==="x")e=yS();else{const t=yS(),n=vS();t&&n?e=()=>{t(),n()}:(t&&t(),n&&n())}return e}function PT(){const i=bT(!0);return i?(i(),!1):!0}class Ol{constructor(e){this.isMounted=!1,this.node=e}update(){}}function xS(i,e){const t="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),r=(s,a)=>{if(s.type==="touch"||PT())return;const l=i.getProps();i.animationState&&l.whileHover&&i.animationState.setActive("whileHover",e),l[n]&&l[n](s,a)};return _a(i.current,t,r,{passive:!i.getProps()[n]})}class KO extends Ol{mount(){this.unmount=Ml(xS(this.node,!0),xS(this.node,!1))}unmount(){}}class YO extends Ol{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ml(ya(this.node.current,"focus",()=>this.onFocus()),ya(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const BT=(i,e)=>e?i===e?!0:BT(i,e.parentElement):!1,$s=i=>i;function pv(i,e){if(!e)return;const t=new PointerEvent("pointer"+i);e(t,C0(t))}class QO extends Ol{constructor(){super(...arguments),this.removeStartListeners=$s,this.removeEndListeners=$s,this.removeAccessibleListeners=$s,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const n=this.node.getProps(),s=_a(window,"pointerup",(l,f)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:p}=this.node.getProps();BT(this.node.current,l.target)?d&&d(l,f):p&&p(l,f)},{passive:!(n.onTap||n.onPointerUp)}),a=_a(window,"pointercancel",(l,f)=>this.cancelPress(l,f),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Ml(s,a),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||pv("up",this.node.getProps().onTap)};this.removeEndListeners(),this.removeEndListeners=ya(this.node.current,"keyup",a),pv("down",(l,f)=>{this.startPress(l,f)})},t=ya(this.node.current,"keydown",e),n=()=>{this.isPressing&&pv("cancel",(s,a)=>this.cancelPress(s,a))},r=ya(this.node.current,"blur",n);this.removeAccessibleListeners=Ml(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&n(e,t)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!PT()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&n(e,t)}mount(){const e=this.node.getProps(),t=_a(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=ya(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ml(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Ax=new WeakMap,mv=new WeakMap,qO=i=>{const e=Ax.get(i.target);e&&e(i)},ZO=i=>{i.forEach(qO)};function $O({root:i,...e}){const t=i||document;mv.has(t)||mv.set(t,{});const n=mv.get(t),r=JSON.stringify(e);return n[r]||(n[r]=new IntersectionObserver(ZO,{root:i,...e})),n[r]}function e4(i,e,t){const n=$O(e);return Ax.set(i,t),n.observe(i),()=>{Ax.delete(i),n.unobserve(i)}}const t4={some:0,all:1};class n4 extends Ol{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}viewportFallback(){requestAnimationFrame(()=>{this.hasEnteredView=!0;const{onViewportEnter:e}=this.node.getProps();e&&e(null),this.node.animationState&&this.node.animationState.setActive("whileInView",!0)})}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:s,fallback:a=!0}=e;if(typeof IntersectionObserver>"u"){a&&this.viewportFallback();return}const l={root:t?t.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:t4[r]},f=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,s&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),x=p?g:y;x&&x(d)};return e4(this.node.current,l,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(i4(e,t))&&this.startObserver()}unmount(){}}function i4({viewport:i={}},{viewport:e={}}={}){return t=>i[t]!==e[t]}const r4={inView:{Feature:n4},tap:{Feature:QO},focus:{Feature:YO},hover:{Feature:KO}};function RT(i,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==i.length)return!1;for(let n=0;n<t;n++)if(e[n]!==i[n])return!1;return!0}const s4=i=>/^\-?\d*\.?\d+$/.test(i),o4=i=>/^0[^.\s]+$/.test(i),Aa={delta:0,timestamp:0},LT=1/60*1e3,a4=typeof performance<"u"?()=>performance.now():()=>Date.now(),IT=typeof window<"u"?i=>window.requestAnimationFrame(i):i=>setTimeout(()=>i(a4()),LT);function l4(i){let e=[],t=[],n=0,r=!1,s=!1;const a=new WeakSet,l={schedule:(f,d=!1,p=!1)=>{const g=p&&r,y=g?e:t;return d&&a.add(f),y.indexOf(f)===-1&&(y.push(f),g&&r&&(n=e.length)),f},cancel:f=>{const d=t.indexOf(f);d!==-1&&t.splice(d,1),a.delete(f)},process:f=>{if(r){s=!0;return}if(r=!0,[e,t]=[t,e],t.length=0,n=e.length,n)for(let d=0;d<n;d++){const p=e[d];p(f),a.has(p)&&(l.schedule(p),i())}r=!1,s&&(s=!1,l.process(f))}};return l}const u4=40;let wx=!0,rp=!1,Sx=!1;const Dp=["read","update","preRender","render","postRender"],E0=Dp.reduce((i,e)=>(i[e]=l4(()=>rp=!0),i),{}),pr=Dp.reduce((i,e)=>{const t=E0[e];return i[e]=(n,r=!1,s=!1)=>(rp||f4(),t.schedule(n,r,s)),i},{}),Rl=Dp.reduce((i,e)=>(i[e]=E0[e].cancel,i),{}),gv=Dp.reduce((i,e)=>(i[e]=()=>E0[e].process(Aa),i),{}),c4=i=>E0[i].process(Aa),DT=i=>{rp=!1,Aa.delta=wx?LT:Math.max(Math.min(i-Aa.timestamp,u4),1),Aa.timestamp=i,Sx=!0,Dp.forEach(c4),Sx=!1,rp&&(wx=!1,IT(DT))},f4=()=>{rp=!0,wx=!0,Sx||IT(DT)};function Y_(i,e){i.indexOf(e)===-1&&i.push(e)}function Q_(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}class q_{constructor(){this.subscriptions=[]}add(e){return Y_(this.subscriptions,e),()=>Q_(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,n);else for(let s=0;s<r;s++){const a=this.subscriptions[s];a&&a(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Z_(i,e){return e?i*(1e3/e):0}const h4=i=>!isNaN(parseFloat(i));class d4{constructor(e,t={}){this.version="9.1.7",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,r=!0)=>{this.prev=this.current,this.current=n;const{delta:s,timestamp:a}=Aa;this.lastUpdated!==a&&(this.timeDelta=s,this.lastUpdated=a,pr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>pr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=h4(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new q_);const n=this.events[e].add(t);return e==="change"?()=>{n(),pr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Z_(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ah(i,e){return new d4(i,e)}const $_=(i,e)=>t=>!!(Lp(t)&&MO.test(t)&&t.startsWith(i)||e&&Object.prototype.hasOwnProperty.call(t,e)),FT=(i,e,t)=>n=>{if(!Lp(n))return n;const[r,s,a,l]=n.match(ip);return{[i]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},p4=i=>oh(0,255,i),yv={...dc,transform:i=>Math.round(p4(i))},Ku={test:$_("rgb","red"),parse:FT("red","green","blue"),transform:({red:i,green:e,blue:t,alpha:n=1})=>"rgba("+yv.transform(i)+", "+yv.transform(e)+", "+yv.transform(t)+", "+kd(Nd.transform(n))+")"};function m4(i){let e="",t="",n="",r="";return i.length>5?(e=i.substring(1,3),t=i.substring(3,5),n=i.substring(5,7),r=i.substring(7,9)):(e=i.substring(1,2),t=i.substring(2,3),n=i.substring(3,4),r=i.substring(4,5),e+=e,t+=t,n+=n,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const Mx={test:$_("#"),parse:m4,transform:Ku.transform},Xf={test:$_("hsl","hue"),parse:FT("hue","saturation","lightness"),transform:({hue:i,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(i)+", "+Eo.transform(kd(e))+", "+Eo.transform(kd(t))+", "+kd(Nd.transform(n))+")"},hr={test:i=>Ku.test(i)||Mx.test(i)||Xf.test(i),parse:i=>Ku.test(i)?Ku.parse(i):Xf.test(i)?Xf.parse(i):Mx.parse(i),transform:i=>Lp(i)?i:i.hasOwnProperty("red")?Ku.transform(i):Xf.transform(i)},NT="${c}",kT="${n}";function g4(i){var e,t;return isNaN(i)&&Lp(i)&&(((e=i.match(ip))===null||e===void 0?void 0:e.length)||0)+(((t=i.match(_x))===null||t===void 0?void 0:t.length)||0)>0}function Qg(i){typeof i=="number"&&(i=`${i}`);const e=[];let t=0,n=0;const r=i.match(_x);r&&(t=r.length,i=i.replace(_x,NT),e.push(...r.map(hr.parse)));const s=i.match(ip);return s&&(n=s.length,i=i.replace(ip,kT),e.push(...s.map(dc.parse))),{values:e,numColors:t,numNumbers:n,tokenised:i}}function OT(i){return Qg(i).values}function UT(i){const{values:e,numColors:t,tokenised:n}=Qg(i),r=e.length;return s=>{let a=n;for(let l=0;l<r;l++)a=a.replace(l<t?NT:kT,l<t?hr.transform(s[l]):kd(s[l]));return a}}const y4=i=>typeof i=="number"?0:i;function v4(i){const e=OT(i);return UT(i)(e.map(y4))}const Ll={test:g4,parse:OT,createTransformer:UT,getAnimatableNone:v4},x4=new Set(["brightness","contrast","saturate","opacity"]);function _4(i){const[e,t]=i.slice(0,-1).split("(");if(e==="drop-shadow")return i;const[n]=t.match(ip)||[];if(!n)return i;const r=t.replace(n,"");let s=x4.has(e)?1:0;return n!==t&&(s*=100),e+"("+s+r+")"}const A4=/([a-z-]*)\(.*?\)/g,Cx={...Ll,getAnimatableNone:i=>{const e=i.match(A4);return e?e.map(_4).join(" "):i}},w4={...yT,color:hr,backgroundColor:hr,outlineColor:hr,fill:hr,stroke:hr,borderColor:hr,borderTopColor:hr,borderRightColor:hr,borderBottomColor:hr,borderLeftColor:hr,filter:Cx,WebkitFilter:Cx},e1=i=>w4[i];function t1(i,e){let t=e1(i);return t!==Cx&&(t=Ll),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const zT=i=>e=>e.test(i),S4={test:i=>i==="auto",parse:i=>i},GT=[dc,Pt,Eo,xl,EO,CO,S4],Cd=i=>GT.find(zT(i)),M4=[...GT,hr,Ll],C4=i=>M4.find(zT(i));function E4(i){const e={};return i.values.forEach((t,n)=>e[n]=t.get()),e}function T4(i){const e={};return i.values.forEach((t,n)=>e[n]=t.getVelocity()),e}function T0(i,e,t){const n=i.getProps();return K_(n,e,t!==void 0?t:n.custom,E4(i),T4(i))}function b4(i,e,t){i.hasValue(e)?i.getValue(e).set(t):i.addValue(e,ah(t))}function P4(i,e){const t=T0(i,e);let{transitionEnd:n={},transition:r={},...s}=t?i.makeTargetAnimatable(t,!1):{};s={...s,...n};for(const a in s){const l=zO(s[a]);b4(i,a,l)}}function B4(i,e,t){var n,r;const s=Object.keys(e).filter(l=>!i.hasValue(l)),a=s.length;if(a)for(let l=0;l<a;l++){const f=s[l],d=e[f];let p=null;Array.isArray(d)&&(p=d[0]),p===null&&(p=(r=(n=t[f])!==null&&n!==void 0?n:i.readValue(f))!==null&&r!==void 0?r:e[f]),p!=null&&(typeof p=="string"&&(s4(p)||o4(p))?p=parseFloat(p):!C4(p)&&Ll.test(d)&&(p=t1(f,d)),i.addValue(f,ah(p,{owner:i})),t[f]===void 0&&(t[f]=p),p!==null&&i.setBaseTarget(f,p))}}function R4(i,e){return e?(e[i]||e.default||e).from:void 0}function L4(i,e,t){const n={};for(const r in i){const s=R4(r,e);if(s!==void 0)n[r]=s;else{const a=t.getValue(r);a&&(n[r]=a.get())}}return n}function qg(i){return!!(kr(i)&&i.add)}const I4="framerAppearId",D4="data-"+J_(I4);let Zg=$s;const Og=i=>i*1e3,F4={current:!1},n1=i=>e=>e<=.5?i(2*e)/2:(2-i(2*(1-e)))/2,i1=i=>e=>1-i(1-e),r1=i=>i*i,N4=i1(r1),s1=n1(r1),zn=(i,e,t)=>-t*i+t*e+i;function vv(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*(2/3-t)*6:i}function k4({hue:i,saturation:e,lightness:t,alpha:n}){i/=360,e/=100,t/=100;let r=0,s=0,a=0;if(!e)r=s=a=t;else{const l=t<.5?t*(1+e):t+e-t*e,f=2*t-l;r=vv(f,l,i+1/3),s=vv(f,l,i),a=vv(f,l,i-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}const xv=(i,e,t)=>{const n=i*i;return Math.sqrt(Math.max(0,t*(e*e-n)+n))},O4=[Mx,Ku,Xf],U4=i=>O4.find(e=>e.test(i));function _S(i){const e=U4(i);let t=e.parse(i);return e===Xf&&(t=k4(t)),t}const HT=(i,e)=>{const t=_S(i),n=_S(e),r={...t};return s=>(r.red=xv(t.red,n.red,s),r.green=xv(t.green,n.green,s),r.blue=xv(t.blue,n.blue,s),r.alpha=zn(t.alpha,n.alpha,s),Ku.transform(r))};function VT(i,e){return typeof i=="number"?t=>zn(i,e,t):hr.test(i)?HT(i,e):jT(i,e)}const WT=(i,e)=>{const t=[...i],n=t.length,r=i.map((s,a)=>VT(s,e[a]));return s=>{for(let a=0;a<n;a++)t[a]=r[a](s);return t}},z4=(i,e)=>{const t={...i,...e},n={};for(const r in t)i[r]!==void 0&&e[r]!==void 0&&(n[r]=VT(i[r],e[r]));return r=>{for(const s in n)t[s]=n[s](r);return t}},jT=(i,e)=>{const t=Ll.createTransformer(e),n=Qg(i),r=Qg(e);return n.numColors===r.numColors&&n.numNumbers>=r.numNumbers?Ml(WT(n.values,r.values),t):a=>`${a>0?e:i}`},sp=(i,e,t)=>{const n=e-i;return n===0?1:(t-i)/n},AS=(i,e)=>t=>zn(i,e,t);function G4(i){return typeof i=="number"?AS:typeof i=="string"?hr.test(i)?HT:jT:Array.isArray(i)?WT:typeof i=="object"?z4:AS}function H4(i,e,t){const n=[],r=t||G4(i[0]),s=i.length-1;for(let a=0;a<s;a++){let l=r(i[a],i[a+1]);if(e){const f=Array.isArray(e)?e[a]:e;l=Ml(f,l)}n.push(l)}return n}function JT(i,e,{clamp:t=!0,ease:n,mixer:r}={}){const s=i.length;Zg(s===e.length),Zg(!n||!Array.isArray(n)||n.length===s-1),i[0]>i[s-1]&&(i=[...i].reverse(),e=[...e].reverse());const a=H4(e,n,r),l=a.length,f=d=>{let p=0;if(l>1)for(;p<i.length-2&&!(d<i[p+1]);p++);const g=sp(i[p],i[p+1],d);return a[p](g)};return t?d=>f(oh(i[0],i[s-1],d)):f}function V4(i,e){const t=i[i.length-1];for(let n=1;n<=e;n++){const r=sp(0,e,n);i.push(zn(t,1,r))}}function W4(i){const e=[0];return V4(e,i.length-1),e}function j4(i,e){return i.map(t=>t*e)}const XT=(i,e,t)=>(((1-3*t+3*e)*i+(3*t-6*e))*i+3*e)*i,J4=1e-7,X4=12;function K4(i,e,t,n,r){let s,a,l=0;do a=e+(t-e)/2,s=XT(a,n,r)-i,s>0?t=a:e=a;while(Math.abs(s)>J4&&++l<X4);return a}function KT(i,e,t,n){if(i===e&&t===n)return $s;const r=s=>K4(s,0,1,i,t);return s=>s===0||s===1?s:XT(r(s),e,n)}const YT=i=>1-Math.sin(Math.acos(i)),o1=i1(YT),Y4=n1(o1),QT=KT(.33,1.53,.69,.99),a1=i1(QT),Q4=n1(a1),q4=i=>(i*=2)<1?.5*a1(i):.5*(2-Math.pow(2,-10*(i-1))),Z4={linear:$s,easeIn:r1,easeInOut:s1,easeOut:N4,circIn:YT,circInOut:Y4,circOut:o1,backIn:a1,backInOut:Q4,backOut:QT,anticipate:q4},wS=i=>{if(Array.isArray(i)){Zg(i.length===4);const[e,t,n,r]=i;return KT(e,t,n,r)}else if(typeof i=="string")return Z4[i];return i},$4=i=>Array.isArray(i)&&typeof i[0]!="number";function eU(i,e){return i.map(()=>e||s1).splice(0,i.length-1)}function Ex({keyframes:i,ease:e=s1,times:t,duration:n=300}){i=[...i];const r=$4(e)?e.map(wS):wS(e),s={done:!1,value:i[0]},a=j4(t&&t.length===i.length?t:W4(i),n);function l(){return JT(a,i,{ease:Array.isArray(r)?r:eU(i,r)})}let f=l();return{next:d=>(s.value=f(d),s.done=d>=n,s),flipTarget:()=>{i.reverse(),f=l()}}}const SS=.001,tU=.01,nU=10,iU=.05,rU=1;function sU({duration:i=800,bounce:e=.25,velocity:t=0,mass:n=1}){let r,s,a=1-e;a=oh(iU,rU,a),i=oh(tU,nU,i/1e3),a<1?(r=d=>{const p=d*a,g=p*i,y=p-t,x=Tx(d,a),A=Math.exp(-g);return SS-y/x*A},s=d=>{const g=d*a*i,y=g*t+t,x=Math.pow(a,2)*Math.pow(d,2)*i,A=Math.exp(-g),w=Tx(Math.pow(d,2),a);return(-r(d)+SS>0?-1:1)*((y-x)*A)/w}):(r=d=>{const p=Math.exp(-d*i),g=(d-t)*i+1;return-.001+p*g},s=d=>{const p=Math.exp(-d*i),g=(t-d)*(i*i);return p*g});const l=5/i,f=aU(r,s,l);if(i=i*1e3,isNaN(f))return{stiffness:100,damping:10,duration:i};{const d=Math.pow(f,2)*n;return{stiffness:d,damping:a*2*Math.sqrt(n*d),duration:i}}}const oU=12;function aU(i,e,t){let n=t;for(let r=1;r<oU;r++)n=n-i(n)/e(n);return n}function Tx(i,e){return i*Math.sqrt(1-e*e)}const lU=["duration","bounce"],uU=["stiffness","damping","mass"];function MS(i,e){return e.some(t=>i[t]!==void 0)}function cU(i){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...i};if(!MS(i,uU)&&MS(i,lU)){const t=sU(i);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}const fU=5;function qT({keyframes:i,restDelta:e,restSpeed:t,...n}){let r=i[0],s=i[i.length-1];const a={done:!1,value:r},{stiffness:l,damping:f,mass:d,velocity:p,duration:g,isResolvedFromDuration:y}=cU(n);let x=hU,A=p?-(p/1e3):0;const w=f/(2*Math.sqrt(l*d));function S(){const E=s-r,b=Math.sqrt(l/d)/1e3,T=Math.abs(E)<5;if(t||(t=T?.01:2),e||(e=T?.005:.5),w<1){const R=Tx(b,w);x=I=>{const F=Math.exp(-w*b*I);return s-F*((A+w*b*E)/R*Math.sin(R*I)+E*Math.cos(R*I))}}else if(w===1)x=R=>s-Math.exp(-b*R)*(E+(A+b*E)*R);else{const R=b*Math.sqrt(w*w-1);x=I=>{const F=Math.exp(-w*b*I),z=Math.min(R*I,300);return s-F*((A+w*b*E)*Math.sinh(z)+R*E*Math.cosh(z))/R}}}return S(),{next:E=>{const b=x(E);if(y)a.done=E>=g;else{let T=A;if(E!==0)if(w<1){const F=Math.max(0,E-fU);T=Z_(b-x(F),E-F)}else T=0;const R=Math.abs(T)<=t,I=Math.abs(s-b)<=e;a.done=R&&I}return a.value=a.done?s:b,a},flipTarget:()=>{A=-A,[r,s]=[s,r],S()}}}qT.needsInterpolation=(i,e)=>typeof i=="string"||typeof e=="string";const hU=i=>0;function dU({keyframes:i=[0],velocity:e=0,power:t=.8,timeConstant:n=350,restDelta:r=.5,modifyTarget:s}){const a=i[0],l={done:!1,value:a};let f=t*e;const d=a+f,p=s===void 0?d:s(d);return p!==d&&(f=p-a),{next:g=>{const y=-f*Math.exp(-g/n);return l.done=!(y>r||y<-r),l.value=l.done?p:p+y,l},flipTarget:()=>{}}}const pU={decay:dU,keyframes:Ex,tween:Ex,spring:qT};function ZT(i,e,t=0){return i-e-t}function mU(i,e=0,t=0,n=!0){return n?ZT(e+-i,e,t):e-(i-e)+t}function gU(i,e,t,n){return n?i>=e+t:i<=-t}const yU=i=>{const e=({delta:t})=>i(t);return{start:()=>pr.update(e,!0),stop:()=>Rl.update(e)}};function $g({duration:i,driver:e=yU,elapsed:t=0,repeat:n=0,repeatType:r="loop",repeatDelay:s=0,keyframes:a,autoplay:l=!0,onPlay:f,onStop:d,onComplete:p,onRepeat:g,onUpdate:y,type:x="keyframes",...A}){const w=t;let S,E=0,b=i,T=!1,R=!0,I;const F=pU[a.length>2?"keyframes":x]||Ex,z=a[0],D=a[a.length-1];let O={done:!1,value:z};const{needsInterpolation:G}=F;G&&G(z,D)&&(I=JT([0,100],[z,D],{clamp:!1}),a=[0,100]);const Y=F({...A,duration:i,keyframes:a});function he(){E++,r==="reverse"?(R=E%2===0,t=mU(t,b,s,R)):(t=ZT(t,b,s),r==="mirror"&&Y.flipTarget()),T=!1,g&&g()}function ie(){S&&S.stop(),p&&p()}function $(ge){R||(ge=-ge),t+=ge,T||(O=Y.next(Math.max(0,t)),I&&(O.value=I(O.value)),T=R?O.done:t<=0),y&&y(O.value),T&&(E===0&&(b=b!==void 0?b:t),E<n?gU(t,b,s,R)&&he():ie())}function ce(){f&&f(),S=e($),S.start()}return l&&ce(),{stop:()=>{d&&d(),S&&S.stop()},set currentTime(ge){t=w,$(ge)},sample:ge=>{t=w;const ve=i&&typeof i=="number"?Math.max(i*.5,50):50;let V=0;for($(0);V<=ge;){const re=ge-V;$(Math.min(re,ve)),V+=ve}return O}}}function vU(i){return!i||Array.isArray(i)||typeof i=="string"&&$T[i]}const Bd=([i,e,t,n])=>`cubic-bezier(${i}, ${e}, ${t}, ${n})`,$T={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bd([0,.65,.55,1]),circOut:Bd([.55,0,1,.45]),backIn:Bd([.31,.01,.66,-.59]),backOut:Bd([.33,1.53,.69,.99])};function xU(i){if(i)return Array.isArray(i)?Bd(i):$T[i]}function _U(i,e,t,{delay:n=0,duration:r,repeat:s=0,repeatType:a="loop",ease:l,times:f}={}){return i.animate({[e]:t,offset:f},{delay:n,duration:r,easing:xU(l),fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const CS={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},_v={},eb={};for(const i in CS)eb[i]=()=>(_v[i]===void 0&&(_v[i]=CS[i]()),_v[i]);function AU(i,{repeat:e,repeatType:t="loop"}){const n=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[n]}const wU=new Set(["opacity","clipPath","filter","transform"]),Mg=10;function SU(i,e,{onUpdate:t,onComplete:n,...r}){if(!(eb.waapi()&&wU.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0))return!1;let{keyframes:a,duration:l=300,elapsed:f=0,ease:d}=r;if(r.type==="spring"||!vU(r.ease)){if(r.repeat===1/0)return;const g=$g({...r,elapsed:0});let y={done:!1,value:a[0]};const x=[];let A=0;for(;!y.done&&A<2e4;)y=g.sample(A),x.push(y.value),A+=Mg;a=x,l=A-Mg,d="linear"}const p=_U(i.owner.current,e,a,{...r,delay:-f,duration:l,ease:d});return p.onfinish=()=>{i.set(AU(a,r)),pr.update(()=>p.cancel()),n&&n()},{get currentTime(){return p.currentTime||0},set currentTime(g){p.currentTime=g},stop:()=>{const{currentTime:g}=p;if(g){const y=$g({...r,autoplay:!1});i.setWithVelocity(y.sample(g-Mg).value,y.sample(g).value,Mg)}pr.update(()=>p.cancel())}}}function tb(i,e){const t=performance.now(),n=({timestamp:r})=>{const s=r-t;s>=e&&(Rl.read(n),i(s-e))};return pr.read(n,!0),()=>Rl.read(n)}function MU({keyframes:i,elapsed:e,onUpdate:t,onComplete:n}){const r=()=>{t&&t(i[i.length-1]),n&&n()};return e?{stop:tb(r,-e)}:r()}function CU({keyframes:i,velocity:e=0,min:t,max:n,power:r=.8,timeConstant:s=750,bounceStiffness:a=500,bounceDamping:l=10,restDelta:f=1,modifyTarget:d,driver:p,onUpdate:g,onComplete:y,onStop:x}){const A=i[0];let w;function S(R){return t!==void 0&&R<t||n!==void 0&&R>n}function E(R){return t===void 0?n:n===void 0||Math.abs(t-R)<Math.abs(n-R)?t:n}function b(R){w&&w.stop(),w=$g({keyframes:[0,1],velocity:0,...R,driver:p,onUpdate:I=>{g&&g(I),R.onUpdate&&R.onUpdate(I)},onComplete:y,onStop:x})}function T(R){b({type:"spring",stiffness:a,damping:l,restDelta:f,...R})}if(S(A))T({velocity:e,keyframes:[A,E(A)]});else{let R=r*e+A;typeof d<"u"&&(R=d(R));const I=E(R),F=I===t?-1:1;let z,D;const O=G=>{z=D,D=G,e=Z_(G-z,Aa.delta),(F===1&&G>I||F===-1&&G<I)&&T({keyframes:[G,I],velocity:e})};b({type:"decay",keyframes:[A,0],velocity:e,timeConstant:s,power:r,restDelta:f,modifyTarget:d,onUpdate:S(R)?O:void 0})}return{stop:()=>w&&w.stop()}}const EU={type:"spring",stiffness:500,damping:25,restSpeed:10},TU=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),bU={type:"keyframes",duration:.8},PU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},BU=(i,{keyframes:e})=>e.length>2?bU:hc.has(i)?i.startsWith("scale")?TU(e[1]):EU:PU,bx=(i,e)=>i==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Ll.test(e)&&!e.startsWith("url("));function RU({when:i,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:r,repeat:s,repeatType:a,repeatDelay:l,from:f,elapsed:d,...p}){return!!Object.keys(p).length}function ES(i){return i===0||typeof i=="string"&&parseFloat(i)===0&&i.indexOf(" ")===-1}function TS(i){return typeof i=="number"?0:t1("",i)}function nb(i,e){return i[e]||i.default||i}function LU(i,e,t,n){const r=bx(e,t);let s=n.from!==void 0?n.from:i.get();return s==="none"&&r&&typeof t=="string"?s=t1(e,t):ES(s)&&typeof t=="string"?s=TS(t):!Array.isArray(t)&&ES(t)&&typeof s=="string"&&(t=TS(s)),Array.isArray(t)?(t[0]===null&&(t[0]=s),t):[s,t]}const l1=(i,e,t,n={})=>r=>{const s=nb(n,i)||{},a=s.delay||n.delay||0;let{elapsed:l=0}=n;l=l-Og(a);const f=LU(e,i,t,s),d=f[0],p=f[f.length-1],g=bx(i,d),y=bx(i,p);let x={keyframes:f,velocity:e.getVelocity(),...s,elapsed:l,onUpdate:A=>{e.set(A),s.onUpdate&&s.onUpdate(A)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(!g||!y||F4.current||s.type===!1)return MU(x);if(s.type==="inertia")return CU(x);if(RU(s)||(x={...x,...BU(i,x)}),x.duration&&(x.duration=Og(x.duration)),x.repeatDelay&&(x.repeatDelay=Og(x.repeatDelay)),e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const A=SU(e,i,x);if(A)return A}return $g(x)};function IU(i,e,t={}){i.notify("AnimationStart",e);let n;if(Array.isArray(e)){const r=e.map(s=>Px(i,s,t));n=Promise.all(r)}else if(typeof e=="string")n=Px(i,e,t);else{const r=typeof e=="function"?T0(i,e,t.custom):e;n=ib(i,r,t)}return n.then(()=>i.notify("AnimationComplete",e))}function Px(i,e,t={}){const n=T0(i,e,t.custom);let{transition:r=i.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(r=t.transitionOverride);const s=n?()=>ib(i,n,t):()=>Promise.resolve(),a=i.variantChildren&&i.variantChildren.size?(f=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:g}=r;return DU(i,e,d+f,p,g,t)}:()=>Promise.resolve(),{when:l}=r;if(l){const[f,d]=l==="beforeChildren"?[s,a]:[a,s];return f().then(d)}else return Promise.all([s(),a(t.delay)])}function ib(i,e,{delay:t=0,transitionOverride:n,type:r}={}){let{transition:s=i.getDefaultTransition(),transitionEnd:a,...l}=i.makeTargetAnimatable(e);const f=i.getValue("willChange");n&&(s=n);const d=[],p=r&&i.animationState&&i.animationState.getState()[r];for(const g in l){const y=i.getValue(g),x=l[g];if(!y||x===void 0||p&&NU(p,g))continue;const A={delay:t,elapsed:0,...s};if(window.HandoffAppearAnimations&&!y.hasAnimated){const S=i.getProps()[D4];S&&(A.elapsed=window.HandoffAppearAnimations(S,g,y,pr))}let w=y.start(l1(g,y,x,i.shouldReduceMotion&&hc.has(g)?{type:!1}:A));qg(f)&&(f.add(g),w=w.then(()=>f.remove(g))),d.push(w)}return Promise.all(d).then(()=>{a&&P4(i,a)})}function DU(i,e,t=0,n=0,r=1,s){const a=[],l=(i.variantChildren.size-1)*n,f=r===1?(d=0)=>d*n:(d=0)=>l-d*n;return Array.from(i.variantChildren).sort(FU).forEach((d,p)=>{d.notify("AnimationStart",e),a.push(Px(d,e,{...s,delay:t+f(p)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(a)}function FU(i,e){return i.sortNodePosition(e)}function NU({protectedKeys:i,needsAnimating:e},t){const n=i.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}const kU=[...U_].reverse(),OU=U_.length;function UU(i){return e=>Promise.all(e.map(({animation:t,options:n})=>IU(i,t,n)))}function zU(i){let e=UU(i);const t=HU();let n=!0;const r=(f,d)=>{const p=T0(i,d);if(p){const{transition:g,transitionEnd:y,...x}=p;f={...f,...x,...y}}return f};function s(f){e=f(i)}function a(f,d){const p=i.getProps(),g=i.getVariantContext(!0)||{},y=[],x=new Set;let A={},w=1/0;for(let E=0;E<OU;E++){const b=kU[E],T=t[b],R=p[b]!==void 0?p[b]:g[b],I=tp(R),F=b===d?T.isActive:null;F===!1&&(w=E);let z=R===g[b]&&R!==p[b]&&I;if(z&&n&&i.manuallyAnimateOnMount&&(z=!1),T.protectedKeys={...A},!T.isActive&&F===null||!R&&!T.prevProp||w0(R)||typeof R=="boolean")continue;const D=GU(T.prevProp,R);let O=D||b===d&&T.isActive&&!z&&I||E>w&&I;const G=Array.isArray(R)?R:[R];let Y=G.reduce(r,{});F===!1&&(Y={});const{prevResolvedValues:he={}}=T,ie={...he,...Y},$=ce=>{O=!0,x.delete(ce),T.needsAnimating[ce]=!0};for(const ce in ie){const ge=Y[ce],ve=he[ce];A.hasOwnProperty(ce)||(ge!==ve?Yg(ge)&&Yg(ve)?!RT(ge,ve)||D?$(ce):T.protectedKeys[ce]=!0:ge!==void 0?$(ce):x.add(ce):ge!==void 0&&x.has(ce)?$(ce):T.protectedKeys[ce]=!0)}T.prevProp=R,T.prevResolvedValues=Y,T.isActive&&(A={...A,...Y}),n&&i.blockInitialAnimation&&(O=!1),O&&!z&&y.push(...G.map(ce=>({animation:ce,options:{type:b,...f}})))}if(x.size){const E={};x.forEach(b=>{const T=i.getBaseTarget(b);T!==void 0&&(E[b]=T)}),y.push({animation:E})}let S=!!y.length;return n&&p.initial===!1&&!i.manuallyAnimateOnMount&&(S=!1),n=!1,S?e(y):Promise.resolve()}function l(f,d,p){var g;if(t[f].isActive===d)return Promise.resolve();(g=i.variantChildren)===null||g===void 0||g.forEach(x=>{var A;return(A=x.animationState)===null||A===void 0?void 0:A.setActive(f,d)}),t[f].isActive=d;const y=a(p,f);for(const x in t)t[x].protectedKeys={};return y}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>t}}function GU(i,e){return typeof e=="string"?e!==i:Array.isArray(e)?!RT(e,i):!1}function Lu(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HU(){return{animate:Lu(!0),whileInView:Lu(),whileHover:Lu(),whileTap:Lu(),whileDrag:Lu(),whileFocus:Lu(),exit:Lu()}}class VU extends Ol{constructor(e){super(e),e.animationState||(e.animationState=zU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),w0(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let WU=0;class jU extends Ol{constructor(){super(...arguments),this.id=WU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const JU={animation:{Feature:VU},exit:{Feature:jU}},bS=(i,e)=>Math.abs(i-e);function XU(i,e){const t=bS(i.x,e.x),n=bS(i.y,e.y);return Math.sqrt(t**2+n**2)}class rb{constructor(e,t,{transformPagePoint:n}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=wv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=XU(d.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:y}=d,{timestamp:x}=Aa;this.history.push({...y,timestamp:x});const{onStart:A,onMove:w}=this.handlers;p||(A&&A(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Av(p,this.transformPagePoint),pr.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:g,onSessionEnd:y}=this.handlers,x=wv(d.type==="pointercancel"?this.lastMoveEventInfo:Av(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(d,x),y&&y(d,x)},!ET(e))return;this.handlers=t,this.transformPagePoint=n;const r=C0(e),s=Av(r,this.transformPagePoint),{point:a}=s,{timestamp:l}=Aa;this.history=[{...a,timestamp:l}];const{onSessionStart:f}=t;f&&f(e,wv(s,this.history)),this.removeListeners=Ml(_a(window,"pointermove",this.handlePointerMove),_a(window,"pointerup",this.handlePointerUp),_a(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Rl.update(this.updatePoint)}}function Av(i,e){return e?{point:e(i.point)}:i}function PS(i,e){return{x:i.x-e.x,y:i.y-e.y}}function wv({point:i},e){return{point:i,delta:PS(i,sb(e)),offset:PS(i,KU(e)),velocity:YU(e,.1)}}function KU(i){return i[0]}function sb(i){return i[i.length-1]}function YU(i,e){if(i.length<2)return{x:0,y:0};let t=i.length-1,n=null;const r=sb(i);for(;t>=0&&(n=i[t],!(r.timestamp-n.timestamp>Og(e)));)t--;if(!n)return{x:0,y:0};const s=(r.timestamp-n.timestamp)/1e3;if(s===0)return{x:0,y:0};const a={x:(r.x-n.x)/s,y:(r.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function es(i){return i.max-i.min}function Bx(i,e=0,t=.01){return Math.abs(i-e)<=t}function BS(i,e,t,n=.5){i.origin=n,i.originPoint=zn(e.min,e.max,i.origin),i.scale=es(t)/es(e),(Bx(i.scale,1,1e-4)||isNaN(i.scale))&&(i.scale=1),i.translate=zn(t.min,t.max,i.origin)-i.originPoint,(Bx(i.translate)||isNaN(i.translate))&&(i.translate=0)}function Od(i,e,t,n){BS(i.x,e.x,t.x,n?n.originX:void 0),BS(i.y,e.y,t.y,n?n.originY:void 0)}function RS(i,e,t){i.min=t.min+e.min,i.max=i.min+es(e)}function QU(i,e,t){RS(i.x,e.x,t.x),RS(i.y,e.y,t.y)}function LS(i,e,t){i.min=e.min-t.min,i.max=i.min+es(e)}function Ud(i,e,t){LS(i.x,e.x,t.x),LS(i.y,e.y,t.y)}function qU(i,{min:e,max:t},n){return e!==void 0&&i<e?i=n?zn(e,i,n.min):Math.max(i,e):t!==void 0&&i>t&&(i=n?zn(t,i,n.max):Math.min(i,t)),i}function IS(i,e,t){return{min:e!==void 0?i.min+e:void 0,max:t!==void 0?i.max+t-(i.max-i.min):void 0}}function ZU(i,{top:e,left:t,bottom:n,right:r}){return{x:IS(i.x,t,r),y:IS(i.y,e,n)}}function DS(i,e){let t=e.min-i.min,n=e.max-i.max;return e.max-e.min<i.max-i.min&&([t,n]=[n,t]),{min:t,max:n}}function $U(i,e){return{x:DS(i.x,e.x),y:DS(i.y,e.y)}}function ez(i,e){let t=.5;const n=es(i),r=es(e);return r>n?t=sp(e.min,e.max-n,i.min):n>r&&(t=sp(i.min,i.max-r,e.min)),oh(0,1,t)}function tz(i,e){const t={};return e.min!==void 0&&(t.min=e.min-i.min),e.max!==void 0&&(t.max=e.max-i.min),t}const Rx=.35;function nz(i=Rx){return i===!1?i=0:i===!0&&(i=Rx),{x:FS(i,"left","right"),y:FS(i,"top","bottom")}}function FS(i,e,t){return{min:NS(i,e),max:NS(i,t)}}function NS(i,e){return typeof i=="number"?i:i[e]||0}const kS=()=>({translate:0,scale:1,origin:0,originPoint:0}),zd=()=>({x:kS(),y:kS()}),OS=()=>({min:0,max:0}),ci=()=>({x:OS(),y:OS()});function Mo(i){return[i("x"),i("y")]}function ob({top:i,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:i,max:n}}}function iz({x:i,y:e}){return{top:e.min,right:i.max,bottom:e.max,left:i.min}}function rz(i,e){if(!e)return i;const t=e({x:i.left,y:i.top}),n=e({x:i.right,y:i.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function Sv(i){return i===void 0||i===1}function Lx({scale:i,scaleX:e,scaleY:t}){return!Sv(i)||!Sv(e)||!Sv(t)}function Nu(i){return Lx(i)||ab(i)||i.z||i.rotate||i.rotateX||i.rotateY}function ab(i){return US(i.x)||US(i.y)}function US(i){return i&&i!=="0%"}function e0(i,e,t){const n=i-t,r=e*n;return t+r}function zS(i,e,t,n,r){return r!==void 0&&(i=e0(i,r,n)),e0(i,t,n)+e}function Ix(i,e=0,t=1,n,r){i.min=zS(i.min,e,t,n,r),i.max=zS(i.max,e,t,n,r)}function lb(i,{x:e,y:t}){Ix(i.x,e.translate,e.scale,e.originPoint),Ix(i.y,t.translate,t.scale,t.originPoint)}function sz(i,e,t,n=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,a;for(let l=0;l<r;l++){s=t[l],a=s.projectionDelta;const f=s.instance;f&&f.style&&f.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Kf(i,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,lb(i,a)),n&&Nu(s.latestValues)&&Kf(i,s.latestValues))}e.x=GS(e.x),e.y=GS(e.y)}function GS(i){return Number.isInteger(i)||i>1.0000000000001||i<.999999999999?i:1}function _l(i,e){i.min=i.min+e,i.max=i.max+e}function HS(i,e,[t,n,r]){const s=e[r]!==void 0?e[r]:.5,a=zn(i.min,i.max,s);Ix(i,e[t],e[n],a,e.scale)}const oz=["x","scaleX","originX"],az=["y","scaleY","originY"];function Kf(i,e){HS(i.x,e,oz),HS(i.y,e,az)}function ub(i,e){return ob(rz(i.getBoundingClientRect(),e))}function lz(i,e,t){const n=ub(i,t),{scroll:r}=e;return r&&(_l(n.x,r.offset.x),_l(n.y,r.offset.y)),n}const uz=new WeakMap;class cz{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ci(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const r=f=>{this.stopAnimation(),t&&this.snapToCursor(C0(f,"page").point)},s=(f,d)=>{const{drag:p,dragPropagation:g,onDragStart:y}=this.getProps();if(p&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=bT(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mo(A=>{let w=this.getAxisMotionValue(A).get()||0;if(Eo.test(w)){const{projection:S}=this.visualElement;if(S&&S.layout){const E=S.layout.layoutBox[A];E&&(w=es(E)*(parseFloat(w)/100))}}this.originPoint[A]=w}),y&&y(f,d);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(f,d)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:y,onDrag:x}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:A}=d;if(g&&this.currentDirection===null){this.currentDirection=fz(A),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",d.point,A),this.updateAxis("y",d.point,A),this.visualElement.render(),x&&x(f,d)},l=(f,d)=>this.stop(f,d);this.panSession=new rb(e,{onSessionStart:r,onStart:s,onMove:a,onSessionEnd:l},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&s(e,t)}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Cg(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=qU(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:n}=this.visualElement.projection||{},r=this.constraints;e&&Jf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=ZU(n.layoutBox,e):this.constraints=!1,this.elastic=nz(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Mo(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=tz(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Jf(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=lz(n,r.root,this.visualElement.getTransformPagePoint());let a=$U(r.layout.layoutBox,s);if(t){const l=t(iz(a));this.hasMutatedConstraints=!!l,l&&(a=ob(l))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),f=this.constraints||{},d=Mo(p=>{if(!Cg(p,t,this.currentDirection))return;let g=f&&f[p]||{};a&&(g={min:0,max:0});const y=r?200:1e6,x=r?40:1e7,A={type:"inertia",velocity:n?e[p]:0,bounceStiffness:y,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...s,...g};return this.startAxisValueAnimation(p,A)});return Promise.all(d).then(l)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(l1(e,n,0,t))}stopAnimation(){Mo(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Mo(t=>{const{drag:n}=this.getProps();if(!Cg(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:a,max:l}=r.layout.layoutBox[t];s.set(e[t]-zn(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Jf(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Mo(a=>{const l=this.getAxisMotionValue(a);if(l){const f=l.get();r[a]=ez({min:f,max:f},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Mo(a=>{if(!Cg(a,e,null))return;const l=this.getAxisMotionValue(a),{min:f,max:d}=this.constraints[a];l.set(zn(f,d,r[a]))})}addListeners(){if(!this.visualElement.current)return;uz.set(this.visualElement,this);const e=this.visualElement.current,t=_a(e,"pointerdown",f=>{const{drag:d,dragListener:p=!0}=this.getProps();d&&p&&this.start(f)}),n=()=>{const{dragConstraints:f}=this.getProps();Jf(f)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),n();const a=ya(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d})=>{this.isDragging&&d&&(Mo(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=f[p].translate,g.set(g.get()+f[p].translate))}),this.visualElement.render())});return()=>{a(),t(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:a=Rx,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function Cg(i,e,t){return(e===!0||e===i)&&(t===null||t===i)}function fz(i,e=10){let t=null;return Math.abs(i.y)>e?t="y":Math.abs(i.x)>e&&(t="x"),t}class hz extends Ol{constructor(e){super(e),this.removeGroupControls=$s,this.removeListeners=$s,this.controls=new cz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$s}unmount(){this.removeGroupControls(),this.removeListeners()}}class dz extends Ol{constructor(){super(...arguments),this.removePointerDownListener=$s}onPointerDown(e){this.session=new rb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:e,onStart:t,onMove:n,onEnd:(s,a)=>{delete this.session,r&&r(s,a)}}}mount(){this.removePointerDownListener=_a(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function pz(){const i=Z.useContext(O_);if(i===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:n}=i,r=Z.useId();return Z.useEffect(()=>n(r),[]),!e&&t?[!1,()=>t&&t(r)]:[!0]}function VS(i,e){return e.max===e.min?0:i/(e.max-e.min)*100}const Ed={correct:(i,e)=>{if(!e.target)return i;if(typeof i=="string")if(Pt.test(i))i=parseFloat(i);else return i;const t=VS(i,e.target.x),n=VS(i,e.target.y);return`${t}% ${n}%`}},cb=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function mz(i){const e=cb.exec(i);if(!e)return[,];const[,t,n]=e;return[t,n]}function Dx(i,e,t=1){const[n,r]=mz(i);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);return s?s.trim():xx(r)?Dx(r,e,t+1):r}function gz(i,{...e},t){const n=i.current;if(!(n instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),i.values.forEach(r=>{const s=r.get();if(!xx(s))return;const a=Dx(s,n);a&&r.set(a)});for(const r in e){const s=e[r];if(!xx(s))continue;const a=Dx(s,n);a&&(e[r]=a,t&&t[r]===void 0&&(t[r]=s))}return{target:e,transitionEnd:t}}const WS="_$css",yz={correct:(i,{treeScale:e,projectionDelta:t})=>{const n=i,r=i.includes("var("),s=[];r&&(i=i.replace(cb,x=>(s.push(x),WS)));const a=Ll.parse(i);if(a.length>5)return n;const l=Ll.createTransformer(i),f=typeof a[0]!="number"?1:0,d=t.x.scale*e.x,p=t.y.scale*e.y;a[0+f]/=d,a[1+f]/=p;const g=zn(d,p,.5);typeof a[2+f]=="number"&&(a[2+f]/=g),typeof a[3+f]=="number"&&(a[3+f]/=g);let y=l(a);if(r){let x=0;y=y.replace(WS,()=>{const A=s[x];return x++,A})}return y}};class vz extends Gd.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:s}=e;xO(xz),s&&(t.group&&t.group.add(s),n&&n.register&&r&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Fd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:s}=this.props,a=n.projection;return a&&(a.isPresent=s,r||e.layoutDependency!==t||t===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||pr.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function fb(i){const[e,t]=pz(),n=Z.useContext(hT);return Gd.createElement(vz,{...i,layoutGroup:n,switchLayoutGroup:Z.useContext(dT),isPresent:e,safeToRemove:t})}const xz={borderRadius:{...Ed,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ed,borderTopRightRadius:Ed,borderBottomLeftRadius:Ed,borderBottomRightRadius:Ed,boxShadow:yz};function _z(i,e,t={}){const n=kr(i)?i:ah(i);return n.start(l1("",n,e,t)),{stop:()=>n.stop(),isAnimating:()=>n.isAnimating()}}const hb=["TopLeft","TopRight","BottomLeft","BottomRight"],Az=hb.length,jS=i=>typeof i=="string"?parseFloat(i):i,JS=i=>typeof i=="number"||Pt.test(i);function wz(i,e,t,n,r,s){r?(i.opacity=zn(0,t.opacity!==void 0?t.opacity:1,Sz(n)),i.opacityExit=zn(e.opacity!==void 0?e.opacity:1,0,Mz(n))):s&&(i.opacity=zn(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,n));for(let a=0;a<Az;a++){const l=`border${hb[a]}Radius`;let f=XS(e,l),d=XS(t,l);if(f===void 0&&d===void 0)continue;f||(f=0),d||(d=0),f===0||d===0||JS(f)===JS(d)?(i[l]=Math.max(zn(jS(f),jS(d),n),0),(Eo.test(d)||Eo.test(f))&&(i[l]+="%")):i[l]=d}(e.rotate||t.rotate)&&(i.rotate=zn(e.rotate||0,t.rotate||0,n))}function XS(i,e){return i[e]!==void 0?i[e]:i.borderRadius}const Sz=db(0,.5,o1),Mz=db(.5,.95,$s);function db(i,e,t){return n=>n<i?0:n>e?1:t(sp(i,e,n))}function KS(i,e){i.min=e.min,i.max=e.max}function ps(i,e){KS(i.x,e.x),KS(i.y,e.y)}function YS(i,e,t,n,r){return i-=e,i=e0(i,1/t,n),r!==void 0&&(i=e0(i,1/r,n)),i}function Cz(i,e=0,t=1,n=.5,r,s=i,a=i){if(Eo.test(e)&&(e=parseFloat(e),e=zn(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=zn(s.min,s.max,n);i===s&&(l-=e),i.min=YS(i.min,e,t,l,r),i.max=YS(i.max,e,t,l,r)}function QS(i,e,[t,n,r],s,a){Cz(i,e[t],e[n],e[r],e.scale,s,a)}const Ez=["x","scaleX","originX"],Tz=["y","scaleY","originY"];function qS(i,e,t,n){QS(i.x,e,Ez,t?t.x:void 0,n?n.x:void 0),QS(i.y,e,Tz,t?t.y:void 0,n?n.y:void 0)}function ZS(i){return i.translate===0&&i.scale===1}function pb(i){return ZS(i.x)&&ZS(i.y)}function Fx(i,e){return i.x.min===e.x.min&&i.x.max===e.x.max&&i.y.min===e.y.min&&i.y.max===e.y.max}function $S(i){return es(i.x)/es(i.y)}class bz{constructor(){this.members=[]}add(e){Y_(this.members,e),e.scheduleRender()}remove(e){if(Q_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let n;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function eM(i,e,t){let n="";const r=i.x.translate/e.x,s=i.y.translate/e.y;if((r||s)&&(n=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:f,rotateX:d,rotateY:p}=t;f&&(n+=`rotate(${f}deg) `),d&&(n+=`rotateX(${d}deg) `),p&&(n+=`rotateY(${p}deg) `)}const a=i.x.scale*e.x,l=i.y.scale*e.y;return(a!==1||l!==1)&&(n+=`scale(${a}, ${l})`),n||"none"}const Pz=(i,e)=>i.depth-e.depth;class Bz{constructor(){this.children=[],this.isDirty=!1}add(e){Y_(this.children,e),this.isDirty=!0}remove(e){Q_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Pz),this.isDirty=!1,this.children.forEach(e)}}function Rz(i){window.MotionDebug&&window.MotionDebug.record(i)}const tM=["","X","Y","Z"],nM=1e3;let Lz=0;const ku={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function mb({attachResizeListener:i,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(a,l={},f=e==null?void 0:e()){this.id=Lz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{ku.totalNodes=ku.resolvedTargetDeltas=ku.recalculatedProjection=0,this.nodes.forEach(Fz),this.nodes.forEach(Uz),this.nodes.forEach(zz),this.nodes.forEach(Nz),Rz(ku)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=a,this.latestValues=l,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0,a&&this.root.registerPotentialNode(a,this);for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Bz)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new q_),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const f=this.eventHandlers.get(a);f&&f.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}registerPotentialNode(a,l){this.potentialNodes.set(a,l)}mount(a,l=!1){if(this.instance)return;this.isSVG=a instanceof SVGElement&&a.tagName!=="svg",this.instance=a;const{layoutId:f,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),l&&(d||f)&&(this.isLayoutDirty=!0),i){let g;const y=()=>this.root.updateBlockedByResize=!1;i(a,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=tb(y,250),Fd.hasAnimatedSinceResize&&(Fd.hasAnimatedSinceResize=!1,this.nodes.forEach(rM))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeTargetChanged:x,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||p.getDefaultTransition()||jz,{onLayoutAnimationStart:S,onLayoutAnimationComplete:E}=p.getProps(),b=!this.targetLayout||!Fx(this.targetLayout,A)||x,T=!y&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||y&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,T);const R={...nb(w,"layout"),onPlay:S,onComplete:E};(p.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else!y&&this.animationProgress===0&&rM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Rl.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Gz),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:l,layout:f}=this.options;if(l===void 0&&!f)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iM);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(Jz),this.potentialNodes.clear()),this.nodes.forEach(Oz),this.nodes.forEach(Iz),this.nodes.forEach(Dz),this.clearAllSnapshots(),gv.update(),gv.preRender(),gv.render())}clearAllSnapshots(){this.nodes.forEach(kz),this.sharedNodes.forEach(Hz)}scheduleUpdateProjection(){pr.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){pr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ci(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:n(this.instance),offset:t(this.instance)})}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!pb(this.projectionDelta),f=this.getTransformTemplate(),d=f?f(this.latestValues,""):void 0,p=d!==this.prevTransformTemplateValue;a&&(l||Nu(this.latestValues)||p)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let f=this.removeElementScroll(l);return a&&(f=this.removeTransform(f)),Xz(f),{animationId:this.root.animationId,measuredBox:l,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return ci();const l=a.measureViewportBox(),{scroll:f}=this.root;return f&&(_l(l.x,f.offset.x),_l(l.y,f.offset.y)),l}removeElementScroll(a){const l=ci();ps(l,a);for(let f=0;f<this.path.length;f++){const d=this.path[f],{scroll:p,options:g}=d;if(d!==this.root&&p&&g.layoutScroll){if(p.isRoot){ps(l,a);const{scroll:y}=this.root;y&&(_l(l.x,-y.offset.x),_l(l.y,-y.offset.y))}_l(l.x,p.offset.x),_l(l.y,p.offset.y)}}return l}applyTransform(a,l=!1){const f=ci();ps(f,a);for(let d=0;d<this.path.length;d++){const p=this.path[d];!l&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Kf(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Nu(p.latestValues)&&Kf(f,p.latestValues)}return Nu(this.latestValues)&&Kf(f,this.latestValues),f}removeTransform(a){const l=ci();ps(l,a);for(let f=0;f<this.path.length;f++){const d=this.path[f];if(!d.instance||!Nu(d.latestValues))continue;Lx(d.latestValues)&&d.updateSnapshot();const p=ci(),g=d.measurePageBox();ps(p,g),qS(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,p)}return Nu(this.latestValues)&&qS(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var a;const l=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty),!((!!this.resumingFrom||this!==l)&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout?(this.relativeParent=y,this.relativeTarget=ci(),this.relativeTargetOrigin=ci(),Ud(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),ps(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ci(),this.targetWithTransforms=ci()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?QU(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ps(this.target,this.layout.layoutBox),lb(this.target,this.targetDelta)):ps(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target?(this.relativeParent=y,this.relativeTarget=ci(),this.relativeTargetOrigin=ci(),Ud(this.relativeTargetOrigin,this.target,y.target),ps(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ku.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Lx(this.parent.latestValues)||ab(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),f=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(d=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),d)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;ps(this.layoutCorrected,this.layout.layoutBox),sz(this.layoutCorrected,this.treeScale,this.path,f);const{target:y}=l;if(!y)return;this.projectionDelta||(this.projectionDelta=zd(),this.projectionDeltaWithTransform=zd());const x=this.treeScale.x,A=this.treeScale.y,w=this.projectionTransform;Od(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=eM(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==x||this.treeScale.y!==A)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),ku.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,l=!1){const f=this.snapshot,d=f?f.latestValues:{},p={...this.latestValues},g=zd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const y=ci(),x=f?f.source:void 0,A=this.layout?this.layout.source:void 0,w=x!==A,S=this.getStack(),E=!S||S.members.length<=1,b=!!(w&&!E&&this.options.crossfade===!0&&!this.path.some(Wz));this.animationProgress=0;let T;this.mixTargetDelta=R=>{const I=R/1e3;sM(g.x,a.x,I),sM(g.y,a.y,I),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ud(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Vz(this.relativeTarget,this.relativeTargetOrigin,y,I),T&&Fx(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=ci()),ps(T,this.relativeTarget)),w&&(this.animationValues=p,wz(p,d,this.latestValues,I,b,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Rl.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pr.update(()=>{Fd.hasAnimatedSinceResize=!0,this.currentAnimation=_z(0,nM,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:f,layout:d,latestValues:p}=a;if(!(!l||!f||!d)){if(this!==a&&this.layout&&d&&gb(this.options.animationType,this.layout.layoutBox,d.layoutBox)){f=this.target||ci();const g=es(this.layout.layoutBox.x);f.x.min=a.target.x.min,f.x.max=f.x.min+g;const y=es(this.layout.layoutBox.y);f.y.min=a.target.y.min,f.y.max=f.y.min+y}ps(l,f),Kf(l,p),Od(this.projectionDeltaWithTransform,this.layoutCorrected,l,p)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new bz),this.sharedNodes.get(a).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:f}={}){const d=this.getStack();d&&d.promote(this,f),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:f}=a;if((f.rotate||f.rotateX||f.rotateY||f.rotateZ)&&(l=!0),!l)return;const d={};for(let p=0;p<tM.length;p++){const g="rotate"+tM[p];f[g]&&(d[g]=f[g],a.setStaticValue(g,0))}a.render();for(const p in d)a.setStaticValue(p,d[p]);a.scheduleRender()}getProjectionStyles(a={}){var l,f;const d={};if(!this.instance||this.isSVG)return d;if(this.isVisible)d.visibility="";else return{visibility:"hidden"};const p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=kg(a.pointerEvents)||"",d.transform=p?p(this.latestValues,""):"none",d;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=kg(a.pointerEvents)||""),this.hasProjected&&!Nu(this.latestValues)&&(w.transform=p?p({},""):"none",this.hasProjected=!1),w}const y=g.animationValues||g.latestValues;this.applyTransformsToTarget(),d.transform=eM(this.projectionDeltaWithTransform,this.treeScale,y),p&&(d.transform=p(y,d.transform));const{x,y:A}=this.projectionDelta;d.transformOrigin=`${x.origin*100}% ${A.origin*100}% 0`,g.animationValues?d.opacity=g===this?(f=(l=y.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const w in Xg){if(y[w]===void 0)continue;const{correct:S,applyTo:E}=Xg[w],b=d.transform==="none"?y[w]:S(y[w],g);if(E){const T=E.length;for(let R=0;R<T;R++)d[E[R]]=b}else d[w]=b}return this.options.layoutId&&(d.pointerEvents=g===this?kg(a.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(iM),this.root.sharedNodes.clear()}}}function Iz(i){i.updateLayout()}function Dz(i){var e;const t=((e=i.resumeFrom)===null||e===void 0?void 0:e.snapshot)||i.snapshot;if(i.isLead()&&i.layout&&t&&i.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=i.layout,{animationType:s}=i.options,a=t.source!==i.layout.source;s==="size"?Mo(g=>{const y=a?t.measuredBox[g]:t.layoutBox[g],x=es(y);y.min=n[g].min,y.max=y.min+x}):gb(s,t.layoutBox,n)&&Mo(g=>{const y=a?t.measuredBox[g]:t.layoutBox[g],x=es(n[g]);y.max=y.min+x});const l=zd();Od(l,n,t.layoutBox);const f=zd();a?Od(f,i.applyTransform(r,!0),t.measuredBox):Od(f,n,t.layoutBox);const d=!pb(l);let p=!1;if(!i.resumeFrom){const g=i.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:x}=g;if(y&&x){const A=ci();Ud(A,t.layoutBox,y.layoutBox);const w=ci();Ud(w,n,x.layoutBox),Fx(A,w)||(p=!0),g.options.layoutRoot&&(i.relativeTarget=w,i.relativeTargetOrigin=A,i.relativeParent=g)}}}i.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:f,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:p})}else if(i.isLead()){const{onExitComplete:n}=i.options;n&&n()}i.options.transition=void 0}function Fz(i){ku.totalNodes++,i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function Nz(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function kz(i){i.clearSnapshot()}function iM(i){i.clearMeasurements()}function Oz(i){const{visualElement:e}=i.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),i.resetTransform()}function rM(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0}function Uz(i){i.resolveTargetDelta()}function zz(i){i.calcProjection()}function Gz(i){i.resetRotation()}function Hz(i){i.removeLeadSnapshot()}function sM(i,e,t){i.translate=zn(e.translate,0,t),i.scale=zn(e.scale,1,t),i.origin=e.origin,i.originPoint=e.originPoint}function oM(i,e,t,n){i.min=zn(e.min,t.min,n),i.max=zn(e.max,t.max,n)}function Vz(i,e,t,n){oM(i.x,e.x,t.x,n),oM(i.y,e.y,t.y,n)}function Wz(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const jz={duration:.45,ease:[.4,0,.1,1]};function Jz(i,e){let t=i.root;for(let s=i.path.length-1;s>=0;s--)if(i.path[s].instance){t=i.path[s];break}const r=(t&&t!==i.root?t.instance:document).querySelector(`[data-projection-id="${e}"]`);r&&i.mount(r,!0)}function aM(i){i.min=Math.round(i.min),i.max=Math.round(i.max)}function Xz(i){aM(i.x),aM(i.y)}function gb(i,e,t){return i==="position"||i==="preserve-aspect"&&!Bx($S(e),$S(t),.2)}const Kz=mb({attachResizeListener:(i,e)=>ya(i,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mv={current:void 0},yb=mb({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!Mv.current){const i=new Kz(0,{});i.mount(window),i.setOptions({layoutScroll:!0}),Mv.current=i}return Mv.current},resetTransform:(i,e)=>{i.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),Yz={pan:{Feature:dz},drag:{Feature:hz,ProjectionNode:yb,MeasureLayout:fb}},Qz=new Set(["width","height","top","left","right","bottom","x","y"]),vb=i=>Qz.has(i),qz=i=>Object.keys(i).some(vb),lM=i=>i===dc||i===Pt,uM=(i,e)=>parseFloat(i.split(", ")[e]),cM=(i,e)=>(t,{transform:n})=>{if(n==="none"||!n)return 0;const r=n.match(/^matrix3d\((.+)\)$/);if(r)return uM(r[1],e);{const s=n.match(/^matrix\((.+)\)$/);return s?uM(s[1],i):0}},Zz=new Set(["x","y","z"]),$z=M0.filter(i=>!Zz.has(i));function eG(i){const e=[];return $z.forEach(t=>{const n=i.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e.length&&i.render(),e}const fM={width:({x:i},{paddingLeft:e="0",paddingRight:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),height:({y:i},{paddingTop:e="0",paddingBottom:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),top:(i,{top:e})=>parseFloat(e),left:(i,{left:e})=>parseFloat(e),bottom:({y:i},{top:e})=>parseFloat(e)+(i.max-i.min),right:({x:i},{left:e})=>parseFloat(e)+(i.max-i.min),x:cM(4,13),y:cM(5,14)},tG=(i,e,t)=>{const n=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:a}=s,l={};a==="none"&&e.setStaticValue("display",i.display||"block"),t.forEach(d=>{l[d]=fM[d](n,s)}),e.render();const f=e.measureViewportBox();return t.forEach(d=>{const p=e.getValue(d);p&&p.jump(l[d]),i[d]=fM[d](f,s)}),i},nG=(i,e,t={},n={})=>{e={...e},n={...n};const r=Object.keys(e).filter(vb);let s=[],a=!1;const l=[];if(r.forEach(f=>{const d=i.getValue(f);if(!i.hasValue(f))return;let p=t[f],g=Cd(p);const y=e[f];let x;if(Yg(y)){const A=y.length,w=y[0]===null?1:0;p=y[w],g=Cd(p);for(let S=w;S<A;S++)x?Zg(Cd(y[S])===x):x=Cd(y[S])}else x=Cd(y);if(g!==x)if(lM(g)&&lM(x)){const A=d.get();typeof A=="string"&&d.set(parseFloat(A)),typeof y=="string"?e[f]=parseFloat(y):Array.isArray(y)&&x===Pt&&(e[f]=y.map(parseFloat))}else g!=null&&g.transform&&(x!=null&&x.transform)&&(p===0||y===0)?p===0?d.set(x.transform(p)):e[f]=g.transform(y):(a||(s=eG(i),a=!0),l.push(f),n[f]=n[f]!==void 0?n[f]:e[f],d.jump(y))}),l.length){const f=l.indexOf("height")>=0?window.pageYOffset:null,d=tG(e,i,l);return s.length&&s.forEach(([p,g])=>{i.getValue(p).set(g)}),i.render(),A0&&f!==null&&window.scrollTo({top:f}),{target:d,transitionEnd:n}}else return{target:e,transitionEnd:n}};function iG(i,e,t,n){return qz(e)?nG(i,e,t,n):{target:e,transitionEnd:n}}const rG=(i,e,t,n)=>{const r=gz(i,e,n);return e=r.target,n=r.transitionEnd,iG(i,e,t,n)},Nx={current:null},xb={current:!1};function sG(){if(xb.current=!0,!!A0)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),e=()=>Nx.current=i.matches;i.addListener(e),e()}else Nx.current=!1}function oG(i,e,t){const{willChange:n}=e;for(const r in e){const s=e[r],a=t[r];if(kr(s))i.addValue(r,s),qg(n)&&n.add(r);else if(kr(a))i.addValue(r,ah(s,{owner:i})),qg(n)&&n.remove(r);else if(a!==s)if(i.hasValue(r)){const l=i.getValue(r);!l.hasAnimated&&l.set(s)}else{const l=i.getStaticValue(r);i.addValue(r,ah(l!==void 0?l:s,{owner:i}))}}for(const r in t)e[r]===void 0&&i.removeValue(r);return e}const _b=Object.keys(np),aG=_b.length,hM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],lG=z_.length;class uG{constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>pr.render(this.render,!1,!0);const{latestValues:l,renderState:f}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.isControllingVariants=S0(t),this.isVariantNode=cT(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...p}=this.scrapeMotionValuesFromProps(t,{});for(const g in p){const y=p[g];l[g]!==void 0&&kr(y)&&(y.set(l[g],!1),qg(d)&&d.add(g))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),xb.current||sG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Nx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Rl.update(this.notifyUpdate),Rl.render(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=hc.has(e),r=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&pr.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},n,r,s,a){let l,f;for(let d=0;d<aG;d++){const p=_b[d],{isEnabled:g,Feature:y,ProjectionNode:x,MeasureLayout:A}=np[p];x&&(l=x),g(t)&&(!this.features[p]&&y&&(this.features[p]=new y(this)),A&&(f=A))}if(!this.projection&&l){this.projection=new l(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:p,drag:g,dragConstraints:y,layoutScroll:x,layoutRoot:A}=t;this.projection.setOptions({layoutId:d,layout:p,alwaysMeasureLayout:!!g||y&&Jf(y),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof p=="string"?p:"both",initialPromotionConfig:a,layoutScroll:x,layoutRoot:A})}return f}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update(this.props,this.prevProps):(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ci()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<hM.length;n++){const r=hM[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=oG(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const t={};for(let n=0;n<lG;n++){const r=z_[n],s=this.props[r];(tp(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=ah(t,{owner:this}),this.addValue(e,n)),n}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r=typeof n=="string"||typeof n=="object"?(t=K_(this.props,n))===null||t===void 0?void 0:t[e]:void 0;if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!kr(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new q_),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Ab extends uG{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...n},{transformValues:r},s){let a=L4(n,e||{},this);if(r&&(t&&(t=r(t)),n&&(n=r(n)),a&&(a=r(a))),s){B4(this,n,a);const l=rG(this,n,a,t);t=l.transitionEnd,n=l.target}return{transition:e,transitionEnd:t,...n}}}function cG(i){return window.getComputedStyle(i)}class fG extends Ab{readValueFromInstance(e,t){if(hc.has(t)){const n=e1(t);return n&&n.default||0}else{const n=cG(e),r=(gT(t)?n.getPropertyValue(t):n[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return ub(e,t)}build(e,t,n,r){H_(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return X_(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;kr(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,n,r){AT(e,t,n,r)}}class hG extends Ab{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(hc.has(t)){const n=e1(t);return n&&n.default||0}return t=wT.has(t)?t:J_(t),e.getAttribute(t)}measureInstanceViewportBox(){return ci()}scrapeMotionValuesFromProps(e,t){return MT(e,t)}build(e,t,n,r){W_(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){ST(e,t,n,r)}mount(e){this.isSVGTag=j_(e.tagName),super.mount(e)}}const dG=(i,e)=>G_(i)?new hG(e,{enableHardwareAcceleration:!1}):new fG(e,{enableHardwareAcceleration:!0}),pG={layout:{ProjectionNode:yb,MeasureLayout:fb}},mG={...JU,...r4,...Yz,...pG},mr=yO((i,e)=>jO(i,e,mG,dG));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yG=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),dM=i=>{const e=yG(i);return e.charAt(0).toUpperCase()+e.slice(1)},wb=(...i)=>i.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=Z.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:r="",children:s,iconNode:a,...l},f)=>Z.createElement("svg",{ref:f,...vG,width:e,height:e,stroke:i,strokeWidth:n?Number(t)*24/Number(e):t,className:wb("lucide",r),...l},[...a.map(([d,p])=>Z.createElement(d,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=(i,e)=>{const t=Z.forwardRef(({className:n,...r},s)=>Z.createElement(xG,{ref:s,iconNode:e,className:wb(`lucide-${gG(dM(i))}`,`lucide-${i}`,n),...r}));return t.displayName=dM(i),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],AG=u1("linkedin",_G);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],SG=u1("mail",wG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],CG=u1("map-pin",MG),Vi={paddingX:"sm:px-16 px-6",padding:"sm:px-16 px-6 sm:py-16 py-10",heroHeadText:"font-black text-white lg:text-[80px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[98px] mt-2",heroSubText:"text-[#dfd9ff] font-medium lg:text-[30px] sm:text-[26px] xs:text-[20px] text-[16px] lg:leading-[40px]",sectionHeadText:"text-white font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px]",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider"},EG=()=>ne.jsxs("section",{className:"relative w-full h-screen mx-auto overflow-hidden",children:[ne.jsxs("div",{className:`${Vi.paddingX} absolute inset-0 top-[120px] max-w-7xl mx-auto flex flex-row items-start gap-5`,children:[ne.jsxs("div",{className:"flex flex-col justify-center items-center mt-5",children:[ne.jsx("div",{className:"w-5 h-5 rounded-full bg-[#2563EB]"}),ne.jsx("div",{className:"w-1 sm:h-80 h-40 blue-gradient"})]}),ne.jsxs("div",{className:"z-10",children:[ne.jsxs("h1",{className:`${Vi.heroHeadText} text-white`,children:["Hi, I'm  ",ne.jsx("span",{className:"text-[#2563EB]",children:"Nick"})]}),ne.jsxs("p",{className:`${Vi.heroSubText} mt-2 text-white-100`,children:["I develop software ",ne.jsx("br",{}),"in C++, Java, and Python"]}),ne.jsxs("div",{className:"text-secondary mt-4",children:[ne.jsxs("div",{className:"flex",children:[ne.jsx(CG,{className:"w-4 h-4 relative top-[4px] mr-1"}),ne.jsx("span",{children:"Boston, MA and Los Angeles, CA"})]}),ne.jsxs("div",{className:"flex",children:[ne.jsx(SG,{className:"w-4 h-4 relative top-[4px] mr-1"}),ne.jsx("a",{href:"mailto:nickmhfrank@gmail.com",className:"hover:underline",children:"nickmhfrank@gmail.com"})]}),ne.jsxs("div",{className:"flex",children:[ne.jsx(AG,{className:"w-4 h-4 relative top-[4px] mr-1"}),ne.jsx("a",{href:"https://linkedin.com/in/nmhfrank",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"linkedin.com/in/nmhfrank"})]})]})]})]}),ne.jsx(mr.div,{animate:{y:[0,10,0]},transition:{duration:6,repeat:1/0,repeatType:"loop"},className:"h-full w-full",children:ne.jsx(Qk,{})}),ne.jsx(mr.svg,{className:"absolute bottom-0 left-0 w-[200%] h-[30vh]",viewBox:"0 0 100 100",preserveAspectRatio:"none",style:{x:0},animate:{x:["0%","-50%","0%"]},transition:{duration:6,repeat:1/0,ease:"linear"},children:ne.jsx("path",{fill:"#2563EBb3",d:`
            M0,10
            C20,0 80,20 100,10
            L100,100
            L0,100
            Z`})}),ne.jsx("div",{className:"absolute xs:bottom-10 bottom-32 w-full flex justify-center items-center z-10",children:ne.jsx("a",{href:"#about",children:ne.jsx("div",{className:"w-[35px] h-[64px] rounded-3xl border-4 border-secondary flex justify-center items-start p-2",children:ne.jsx(mr.div,{animate:{y:[0,24,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:"w-3 h-3 rounded-full bg-secondary mb-1"})})})})]}),TG="/NickMFrank/assets/logo-DAy6347E.svg",bG="/NickMFrank/assets/github-BUfx7uqA.png",PG="data:image/svg+xml,%3csvg%20width='20'%20height='12'%20viewBox='0%200%2020%2012'%20fill='%23FFF'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9%202L19%202C19.2652%202%2019.5196%201.89464%2019.7071%201.70711C19.8946%201.51957%2020%201.26522%2020%201C20%200.734784%2019.8946%200.480429%2019.7071%200.292892C19.5196%200.105356%2019.2652%200%2019%200L9%200C8.73478%200%208.48043%200.105356%208.29289%200.292892C8.10536%200.480429%208%200.734784%208%201C8%201.26522%208.10536%201.51957%208.29289%201.70711C8.48043%201.89464%208.73478%202%209%202ZM19%2010L1%2010C0.734784%2010%200.480429%2010.1054%200.292892%2010.2929C0.105356%2010.4804%200%2010.7348%200%2011C0%2011.2652%200.105356%2011.5196%200.292892%2011.7071C0.480429%2011.8946%200.734784%2012%201%2012L19%2012C19.2652%2012%2019.5196%2011.8946%2019.7071%2011.7071C19.8946%2011.5196%2020%2011.2652%2020%2011C20%2010.7348%2019.8946%2010.4804%2019.7071%2010.2929C19.5196%2010.1054%2019.2652%2010%2019%2010V10ZM1%207L19%207C19.2652%207%2019.5196%206.89464%2019.7071%206.70711C19.8946%206.51957%2020%206.26522%2020%206C20%205.73478%2019.8946%205.48043%2019.7071%205.29289C19.5196%205.10536%2019.2652%205%2019%205L1%205C0.734784%205%200.480429%205.10536%200.292892%205.29289C0.105356%205.48043%200%205.73478%200%206C0%206.26522%200.105356%206.51957%200.292892%206.70711C0.480429%206.89464%200.734784%207%201%207Z'%20fill='%23FFFFFF'/%3e%3c/svg%3e",BG="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='%23FFF'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.4099%209L16.7099%202.71C16.8982%202.5217%2017.004%202.2663%2017.004%202C17.004%201.7337%2016.8982%201.47831%2016.7099%201.29C16.5216%201.1017%2016.2662%200.995911%2015.9999%200.995911C15.7336%200.995911%2015.4782%201.1017%2015.2899%201.29L8.99994%207.59L2.70994%201.29C2.52164%201.1017%202.26624%200.995911%201.99994%200.995911C1.73364%200.995911%201.47824%201.1017%201.28994%201.29C1.10164%201.47831%200.995847%201.7337%200.995847%202C0.995847%202.2663%201.10164%202.5217%201.28994%202.71L7.58994%209L1.28994%2015.29C1.19621%2015.383%201.12182%2015.4936%201.07105%2015.6154C1.02028%2015.7373%200.994141%2015.868%200.994141%2016C0.994141%2016.132%201.02028%2016.2627%201.07105%2016.3846C1.12182%2016.5064%201.19621%2016.617%201.28994%2016.71C1.3829%2016.8037%201.4935%2016.8781%201.61536%2016.9289C1.73722%2016.9797%201.86793%2017.0058%201.99994%2017.0058C2.13195%2017.0058%202.26266%2016.9797%202.38452%2016.9289C2.50638%2016.8781%202.61698%2016.8037%202.70994%2016.71L8.99994%2010.41L15.2899%2016.71C15.3829%2016.8037%2015.4935%2016.8781%2015.6154%2016.9289C15.7372%2016.9797%2015.8679%2017.0058%2015.9999%2017.0058C16.132%2017.0058%2016.2627%2016.9797%2016.3845%2016.9289C16.5064%2016.8781%2016.617%2016.8037%2016.7099%2016.71C16.8037%2016.617%2016.8781%2016.5064%2016.9288%2016.3846C16.9796%2016.2627%2017.0057%2016.132%2017.0057%2016C17.0057%2015.868%2016.9796%2015.7373%2016.9288%2015.6154C16.8781%2015.4936%2016.8037%2015.383%2016.7099%2015.29L10.4099%209Z'%20fill='%23FFFFFF'/%3e%3c/svg%3e",RG="/NickMFrank/assets/northeastern-GQsp_biJ.png",LG="/NickMFrank/assets/bose-COGdUSsq.png",IG="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAOKElEQVR4nO3dfYwUZx3A8ed3sNz7AQcUekClpbWNsb7Tai2FQ41tiNXUNP6hprYxGkl8oUgswUYbm9CKGoU/jBotjYkxVmtNQzTWtLUa24rWF9rUYrHA8Q53cO9v3P3MHLPXvWV373lmntmdPb6fZAO7N/M8v5nZZ59nZp55HgMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGIQVS269v6jfT0r25qa2cFAZfQOjP6luSHz3mKZ1xT6sH9obNwYoxReoLKaGzI3BGVx48aNOwoFMqUGFpFWVe3kmAGpJbmB5TehC7WnpcBnAMrjgjIpIitV9X8mrwmteQtdR+EFKk5E5N7cIFR1f/b/2QL8y9wFRORWVd3DsQMqT1XvF5FLcwMRkbUmpwmdW/tS6wIp9N/DfXrVsqbcwKRGRB6Y8onIQxw8IH2uWtZ0QeVao6pfyXkf1Mh3cuyqg4isMMbsCltQk6+XDvRotolloXhHAKROe3v7ZEhdvSOPBAXWpvmc2EF+paPXtC2oMy2NcyYiU9WnYyaZ5Bey1OlFnHydTltePdJ3+MqlTUutExe5U1V3Ffg8OP7jCW5XUioRr80xip23iHxQVX9f4u83qeofJ99bFOBKHsCnjDHrHNeZyQX4x8aYu6JmMjw6vqc2U3NdzkeHjTFLKcCx8/SWt4gsV9XDJf4+pQAX7ImVv07uS0Qa4gbpIKiVg+bgZod18uP9SMS8pcDLevmOk4P/LLqgyIK85W1oocK7evXqx4rEKuPjE7XrpNpMzaq85rZNLZ6/Py+3jLdSvMQrIosiHKMpea9Zs2a363qlCm9BOpVxeLmYkq4xpsFx/SyX+CZft9xyy1PlyKfA68KEjWn2kY5jnF631xjT6nt/GmNWrF279jFf6eWlvdAl2A0bNmxI8jswuRHGXB83Tdtz4IJl32HZoukePjX4xLJF9e/3kdY0vMTrIV/XtIvF7ZSOiNysqr/1kVYo6f1ZKv00xuuab5w8JtO0aUInatmi+g+IyKds8+jpHx2tdMxRich8l1VF5BNFPn+nawiq+jsRqfjxdhA0f79QNdEWICJvLfYnX3mk4oCq6sMHTwz81WbZlsbM7PD8pOqo6lnH/fLTIp+/EGXbJ5pcIu+olv2mqjtXr179RApCcSYiGVWdch2kb/DcGd8dpSI3oQ+eGDjzhsUN82zzsVwuyWZOGppQ1ukGtW+xAhw3PhF5WlXXZN/3Dox2NDdkLnNMppz7M+5pSKE0SvFx/POfLXiXqv7dQ7pT0p4dNYX8K5zwq0ThjU1V1+Z+CY51DrU1N2TSfASlyjqc5BfeOlUdTiKjVJ0TicgGh2WvSTaamS33PHpsnP7vPojIxwq1FpIqvCZtBVhVv2+77L6O3peTjSbV7okbXO55dGvLnIoX4Om6forIpvJF4y545E9Vf54fduL5Rj0Hfu1Yf+fllza22ubjEFNS5ypVdQ48Xbwi0qKqvdHDMubEmeFfLZ5fe1uE2EwC+1NLLScijara55BeofRtOaW//2jfoZVtTcuz78fHVWtqEr3in57bSIhGVXvi3hZa0lp3exp2f1A4p1tGVfvLE40zzS28wcWqhAvvFGk7B/6ww7IunT9mJFUdCx5UiLpt4YMMafD1Kj0++Rer6j1eabaSqib0fw71dl9zWXOLVYIic1TVpVPHjGpCFxAp5vDcc1xVn3Fc1dv+HD03rpnZNdMuF5O3eEUk6A7b47JOUtuSqhrYtvCa87VH1fbISohGudUSPL4ZofB6FRbeqiAiX61w4Z0iNXvOpXugiLwt2Wgq7/DJwai3HrS7f7RYn+fUidIttFL2H+0/qKrfyGZ/4szwa5UsvCZNBVhV/2az3Pr167+jqv9KPqLKWnZJfV3UAOY2Zm4OH8O07mNeKbbHvdLGxlVXtjVO9lYTkbsWz6+9otJxVfwcWEQWq+pxq0RELlPVDtsY81TbOXD+unE8aoz5qKe0osRWcLtF5N2q+ux0y3kSJ94kniiKIzXnwC84FN5MjMJbrXx9QW5LW1dEEXlTXuFNHRFpKrXfegZGByodc1kKcHClU0S+HQy2ljcixNtLrXfizHB3zkgF58oRa9oEo/B7DCnShS7fXj3Sd1ZVX0rj/s4Ska3TdZRpacjUi0hbWQPLU64mtLX9R/vNlUubalV1xHPS1diEPr+SyLWq+m9/IU0/9pKFJH4I0tKEfjRstdgqd1M6vT2xVrY1mrDzt+7r6Out1md/fVLVvcFohZ7T7BCRL1Z849LJpfCaSrZqylWAswOMtQev3kG71vAblzc1qerJcAe5DGw344RDjXr9pVfV7x46OVDRe8AzSEUKcVlr4LDTwNPN9bMnR+E7cnrwz5arfzO8NVJsmJKLhRzvGhr0ta2XXdKw2hizLeF9lztKZORn0Msp6LDhvJEid5Q9zjR0pQyGqnXprC4i96jqg7bLh6r2HLgQEVnm+ap8WZ9GEpEfqOpnYsbgwjne/Uf7j69sa1zsmE85zofTdQ6sqgMuG66qDwRPfSQbVbqFF6DEY2eNsjYBVfWzIlJ0BoI0WNnWuCTKppUz9LQ9jWQ9CHsw/Wm1NMeSFAwIGOy6oIda3GxEZG6ZY/d6YS4hST97HEvaRuT4jePyPNAQ2r1796awRr5gDiRbrqNm+iAi3yp3nq6C3oKu6xw5PfiHcsSWxsdAGJ/JGHO8a6g7ynrh7JJy6MTA8/6j8k9VU393IbgTIiI/cVln6cL694nIDclFdV4ah9QxLk0QEblaVff5TDNFzwPHHT52nqqecV3Ncjmf+1Mtl4vDR7xRmsZJbNPMGVJHVV9JQRiJEJFYt3fCJnHQrP58ercyWjP65YO9legWmrrz4aqvgR3Sr9YRObzEMs3cSFMWtUzS5wgX2QHrktw/XuINpsdR1S6HtIIZGYaa6mfXu6wzDQa1u9gEcyOd7h6xne6yrFwHrBORW4N/T50dtu0E5E1wShL0Q3BJr6l+dl1SAxdQA0dPz1asGnh4dPyZ2kzNmukXjxRPIWmYBscq72CeJ1X9h8s6lnx/n7J87YeZUwOLiNUM/h0nBzqTj2aq3Nn1OntGItUWtZmam3zGtGrVqj0+06skh8KbhFScD8+EGtgqbceuh95/KcPzPJcHwHPX3aSqsTtqGLsr06mugXsHz2lz/WT/nYoO7B/xKr91+iWkugb+YRKJxnz21Uf+kUdvUNVve4yjaGeNTZs2fdJXPkkIzj1zCm/FBftSRLa4BjIwdO57voKPXAMfPjXYs2xRfbNtPg4xudwDXuB4RdAqbREJBs6LNRdP/9CYNtbNmvh/OO6x649loVhj12TT1BqpnapGRK5Q1f0x0k3L1LXnM4g3Y2H8Gtih8Fobc5iy9NTZ4Z+5Xs63PTCqenekDchmIrI9W3jN+XGPvbR0unpGTsdPY7jgaUT2ym4aicibCxTeNHH+gVLVIR8bkKZxoe+YVSPWO2LRvNqPJxtRtAsOwXao6pdz3n/OV0CtLXMWjI3r/XHSmN88p6nQ56r6eJx0kxLO+rc3P/mTZ4dfTFmc74mwWuyLWpGb0D6bJN39o+fmNmZmlVrGJT0LiTSnuvtHn5vbmLk++76rZ6SztWXOQt8xBmMUz4owgdYrHb2DVy9vLjTedKJXVMPhY536ZgePSarqQyX+fpOq/skhyXI0+aMWyMhN9kg1sIi4Dman+b9QYUfvie5wtoU3nJHBxxVN1x+qIP4VRWJaMXJuPLsdk4X3WOfQgRiFt6SwpRLE5DKwuPoqvCKS/yB+6YxVnzPG5M+dm5/mivBJKj2/SvHCG6ZpXXhFZKNLvCOj4z9yWd6D4FguiJSMTmWmexljPq1ltn79+u02sUV4JcIY86FyxmaM2VUsHWPMl0qt6voyxtxd7uNfhFXsxpiNURIfHhl72GXfGGPujbtBrx3rf9H1u2HThK7kOMLJz3Aucruq/sJnkp7SmdjvB44PnF6xpGFyZM5169btevLJJ2ONvRQ8/B8+P2wdRwr5fGLIRrnzMzZ5TinAQTNGVQ/mLnnffffd1tXV5f2Kc9aOHTsm8gsGu0sqDxtFpoy0cvT00J62hXXXeQ5JO7tHHl8wd06pq8NOX55gRFDX/bx58+bI8w8nafv27QWb2EnFW+785s2b17d169ZHivz59eOeWx2Hb5NoqlbdyxgTzJu7dl9H75RmzqETA3vDv81KcpuOdw05HYsgphtvvPHX2TgPHO8PPlx7sR/HGfp6vQl9rHNwdElr3UT3lrN9o2ZeU4YRMYAUEpE1uS0oEblcwl/v3Gb0XlV9CwcQSBeR/EtW5sJ7iap6LccNSBcR+Vpu4e3qHTlqwotY2X6Zk6P9v3okmGCskaY0kALBvFjBgAx5kUyUz4kaOOiXKSKTV1GvXNpoUnz7ALhoBH3U8wtvbqePySZ0MFB6Z89I/qNm2V5IT/GVAcrq2fCu0JSx0vOfwJO8k+JggevDrm8A0uWC09pCF7GeL0cPKAB2tmzZ8mCxMlnqYYbcKSHbd+7c6dQhHEA07e3t2ccTJ8rftm3bnEbBBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIB0MMb8H31SHOtdNvv7AAAAAElFTkSuQmCC",DG="/NickMFrank/assets/cplusplus-OP5KYUXe.png",FG="/NickMFrank/assets/java-qYiqAfyl.png",NG="/NickMFrank/assets/python-DRqmMRr6.png",kG="/NickMFrank/assets/ubuntu-Cuk3nwUu.png",OG="/NickMFrank/assets/c-DJcxw3LG.png",UG="/NickMFrank/assets/javascript-Dib3Xt7D.png",zG="/NickMFrank/assets/git-BxbDQIHT.png",GG="/NickMFrank/assets/scrum-Ffa4v3dP.png",HG="/NickMFrank/assets/supermarket-CLN6WD1Z.png",VG="/NickMFrank/assets/minesweeper-Hu7NxEfA.png",pM=[{id:"about",title:"About"},{id:"work",title:"Work"},{id:"contact",title:"Contact"}],WG=[{title:"C++",icon:DG},{title:"Java",icon:FG},{title:"Python",icon:NG},{title:"Ubuntu",icon:kG},{title:"C",icon:OG},{title:"JavaScript",icon:UG},{title:"Git",icon:zG},{title:"Scrum",icon:GG}],jG=[{title:"Bachelor's in Computer Science",company_name:"Northeastern University",icon:RG,iconBg:"#C4C4C4",date:"September 2020 - May 2024",points:["Graduated with honors from Khoury College of Computer Science and a GPA of 3.7/4.0","Took courses in Software Development, Object-Oriented Design, Algorithms, Networks, Systems, Security, and AI","Developed skill with Windows, Ubuntu, Git, VS Code, Vim, React, Unit Testing, and more"]},{title:"Embedded SW Engineer Co-op",company_name:"Bose Corporation",icon:LG,iconBg:"#1e1e1e",date:"December 2022 - June 2023",points:["Worked inside Scrum team responsible for new features, bug fixes, and explorations ","Programmed on development units with thorough accompanying unit and integration tests"]},{title:"Robotics Software Co-op",company_name:"Busek Co",icon:IG,iconBg:"#479FFF",date:"January 2022 - July 2022",points:["Maintained and updated C++ codebase, independently debugging to enable hardware tests","Implemented changes to pose estimation software, greatly speeding up visual detection","Developed Unity visualization tool to graphically enhance MatLab interface","Tracked data with web-based databases and custom web dashboards over sockets"]}],JG=[{testimonial:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt.",name:"Vinodh Bodapati",designation:"Senior Software Engineer at Bose",image:"https://media.licdn.com/dms/image/v2/C5603AQGV7tNRBaa9FQ/profile-displayphoto-shrink_200_200/profile-displayphoto-shrink_200_200/0/1519119386157?e=1750291200&v=beta&t=xmrweiVmy3UI1pv0zn7Q2W_dVK5eoa31RgJb0NDTiGc"},{testimonial:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt.",name:"Simon Halpern",designation:"Former Director of Robotics at Busek",image:"https://media.licdn.com/dms/image/v2/C4E03AQGBumDrceyd8g/profile-displayphoto-shrink_200_200/profile-displayphoto-shrink_200_200/0/1647271137503?e=1750291200&v=beta&t=LcmNeL37ZrZdl3AhOgsid2WHyQd3FWnbXa6S1GSeARw"},{testimonial:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt.",name:"Matt Rizzo",designation:"Embedded Engineer at Bose",image:"https://media.licdn.com/dms/image/v2/C4D03AQEFxwCBVRimAg/profile-displayphoto-shrink_200_200/profile-displayphoto-shrink_200_200/0/1518647650015?e=1750291200&v=beta&t=Xohok5HNRqemFEk8zTNefBGJAQaQwPe-VkCuIuer5l8"}],XG=[{name:"Supermarket Check Out",description:"C++ program using Object-Oriented Design to create a receipt based on a complex shopping cart. Handles store-wide deals and ensures lowest cost according to individually assigned discounts.",tags:[{name:"c++",color:"blue-text-gradient"},{name:"ood",color:"green-text-gradient"}],image:HG,source_code_link:"https://github.com/NickMFrank/supermarket-example"},{name:"Minesweeper",description:"Complete recreation of the classic game minesweeper in C++. Allows for creation of a custom-sized board with standard functionality (including search for revealed tiles).",tags:[{name:"c++",color:"blue-text-gradient"},{name:"ood",color:"green-text-gradient"},{name:"smfl",color:"pink-text-gradient"}],image:VG,source_code_link:"https://github.com/NickMFrank/MinesweeperGame"}],KG=()=>{const[i,e]=Z.useState(""),[t,n]=Z.useState(!1),[r,s]=Z.useState(!1);return ne.jsx("nav",{className:`${Vi.paddingX} w-full flex items-center py-5 fixed top-0 z-20 navbar`,children:ne.jsxs("div",{className:"w-full flex justify-between items-center max-w-7xl mx-auto",children:[ne.jsxs(F2,{to:"/",className:"flex items-center gap-2",onClick:()=>{e(""),window.scrollTo(0,0)},children:[ne.jsx("img",{src:TG,alt:"logo",className:"w-9 h-9 object-contain"}),ne.jsxs("p",{className:"text-white text-[18px] font-bold cursor-pointer flex",children:["Nick ",ne.jsx("span",{className:"sm:block hidden",children:"| Nicholas Frank"})]})]}),ne.jsx("ul",{className:"list-none hidden sm:flex flex-row gap-10",children:pM.map(a=>ne.jsx("li",{className:`${i===a.title?"text-white":"text-secondary"} hover:text-white text-[18px] font-medium cursor-pointer`,onClick:()=>e(a.title),children:ne.jsx("a",{href:`#${a.id}`,children:a.title})},a.id))}),ne.jsxs("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[ne.jsx("img",{src:t?BG:PG,alt:"menu",className:"w-[28px] h-[28px] object-contain cursor-pointer",onClick:()=>n(!t)}),ne.jsx("div",{className:`${t?"flex":"hidden"} 
            p-6 black-gradient absolute top-20 right-0 mx-4 my-2 min-w-[140px] z=10 rounded-xl`,children:ne.jsx("ul",{className:"list-none flex justify-end items-start flex-col gap-4",children:pM.map(a=>ne.jsx("li",{className:`${i===a.title?"text-white":"text-secondary"} font-nationalpark font-medium cursor-pointer text-[16px]`,onClick:()=>{e(a.title),n(!t)},children:ne.jsx("a",{href:`#${a.id}`,children:a.title})},a.id))})})]})]})})},mM=(i,e,t,n)=>{i.style.transition=`${e} ${t}ms ${n}`},ha=(i,e,t)=>Math.min(Math.max(i,e),t);class YG{constructor(e,t){this.glareAngle=0,this.glareOpacity=0,this.calculateGlareSize=a=>{const{width:l,height:f}=a,d=Math.sqrt(l**2+f**2);return{width:d,height:d}},this.setSize=a=>{const l=this.calculateGlareSize(a);this.glareEl.style.width=`${l.width}px`,this.glareEl.style.height=`${l.height}px`},this.update=(a,l,f,d)=>{this.updateAngle(a,l.glareReverse),this.updateOpacity(a,l,f,d)},this.updateAngle=(a,l)=>{const{xPercentage:f,yPercentage:d}=a,p=180/Math.PI,g=f?Math.atan2(d,-f)*p:0;this.glareAngle=g-(l?180:0)},this.updateOpacity=(a,l,f,d)=>{const{xPercentage:p,yPercentage:g}=a,{glarePosition:y,glareReverse:x,glareMaxOpacity:A}=l,w=f?-1:1,S=d?-1:1,E=x?-1:1;let b=0;switch(y){case"top":b=-p*w*E;break;case"right":b=g*S*E;break;case"bottom":case void 0:b=p*w*E;break;case"left":b=-g*S*E;break;case"all":b=Math.hypot(p,g)}const T=ha(b,0,100);this.glareOpacity=T*A/100},this.render=a=>{const{glareColor:l}=a;this.glareEl.style.transform=`rotate(${this.glareAngle}deg) translate(-50%, -50%)`,this.glareEl.style.opacity=this.glareOpacity.toString(),this.glareEl.style.background=`linear-gradient(0deg, rgba(255,255,255,0) 0%, ${l} 100%)`},this.glareWrapperEl=document.createElement("div"),this.glareEl=document.createElement("div"),this.glareWrapperEl.appendChild(this.glareEl),this.glareWrapperEl.className="glare-wrapper",this.glareEl.className="glare";const n={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden",borderRadius:t,WebkitMaskImage:"-webkit-radial-gradient(white, black)",pointerEvents:"none"},r=this.calculateGlareSize(e),s={position:"absolute",top:"50%",left:"50%",transformOrigin:"0% 0%",pointerEvents:"none",width:`${r.width}px`,height:`${r.height}px`};Object.assign(this.glareWrapperEl.style,n),Object.assign(this.glareEl.style,s)}}class QG{constructor(){this.glareAngle=0,this.glareOpacity=0,this.tiltAngleX=0,this.tiltAngleY=0,this.tiltAngleXPercentage=0,this.tiltAngleYPercentage=0,this.update=(e,t)=>{this.updateTilt(e,t),this.updateTiltManualInput(e,t),this.updateTiltReverse(t),this.updateTiltLimits(t)},this.updateTilt=(e,t)=>{const{xPercentage:n,yPercentage:r}=e,{tiltMaxAngleX:s,tiltMaxAngleY:a}=t;this.tiltAngleX=n*s/100,this.tiltAngleY=r*a/100*-1},this.updateTiltManualInput=(e,t)=>{const{tiltAngleXManual:n,tiltAngleYManual:r,tiltMaxAngleX:s,tiltMaxAngleY:a}=t;(n!==null||r!==null)&&(this.tiltAngleX=n!==null?n:0,this.tiltAngleY=r!==null?r:0,e.xPercentage=100*this.tiltAngleX/s,e.yPercentage=100*this.tiltAngleY/a)},this.updateTiltReverse=e=>{const t=e.tiltReverse?-1:1;this.tiltAngleX=t*this.tiltAngleX,this.tiltAngleY=t*this.tiltAngleY},this.updateTiltLimits=e=>{const{tiltAxis:t}=e;this.tiltAngleX=ha(this.tiltAngleX,-90,90),this.tiltAngleY=ha(this.tiltAngleY,-90,90),t&&(this.tiltAngleX=t==="x"?this.tiltAngleX:0,this.tiltAngleY=t==="y"?this.tiltAngleY:0)},this.updateTiltAnglesPercentage=e=>{const{tiltMaxAngleX:t,tiltMaxAngleY:n}=e;this.tiltAngleXPercentage=this.tiltAngleX/t*100,this.tiltAngleYPercentage=this.tiltAngleY/n*100},this.render=e=>{e.style.transform+=`rotateX(${this.tiltAngleX}deg) rotateY(${this.tiltAngleY}deg) `}}}const qG={scale:1,perspective:1e3,flipVertically:!1,flipHorizontally:!1,reset:!0,transitionEasing:"cubic-bezier(.03,.98,.52,.99)",transitionSpeed:400,trackOnWindow:!1,gyroscope:!1,tiltEnable:!0,tiltReverse:!1,tiltAngleXInitial:0,tiltAngleYInitial:0,tiltMaxAngleX:20,tiltMaxAngleY:20,tiltAxis:void 0,tiltAngleXManual:null,tiltAngleYManual:null,glareEnable:!1,glareMaxOpacity:.7,glareColor:"#ffffff",glarePosition:"bottom",glareReverse:!1,glareBorderRadius:"0"};class b0 extends Z.PureComponent{constructor(){super(...arguments),this.wrapperEl={node:null,size:{width:0,height:0,left:0,top:0},clientPosition:{x:null,y:null,xPercentage:0,yPercentage:0},updateAnimationId:null,scale:1},this.tilt=null,this.glare=null,this.addDeviceOrientationEventListener=async()=>{if(!window.DeviceOrientationEvent)return;const e=DeviceOrientationEvent.requestPermission;typeof e=="function"?await e()==="granted"&&window.addEventListener("deviceorientation",this.onMove):window.addEventListener("deviceorientation",this.onMove)},this.setSize=()=>{this.setWrapperElSize(),this.glare&&this.glare.setSize(this.wrapperEl.size)},this.mainLoop=e=>{this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.processInput(e),this.update(e.type),this.wrapperEl.updateAnimationId=requestAnimationFrame(this.renderFrame)},this.onEnter=e=>{const{onEnter:t}=this.props;this.setSize(),this.wrapperEl.node.style.willChange="transform",this.setTransitions(),t&&t({event:e})},this.onMove=e=>{this.mainLoop(e),this.emitOnMove(e)},this.onLeave=e=>{const{onLeave:t}=this.props;if(this.setTransitions(),t&&t({event:e}),this.props.reset){const n=new CustomEvent("autoreset");this.onMove(n)}},this.processInput=e=>{const{scale:t}=this.props;switch(e.type){case"mousemove":this.wrapperEl.clientPosition.x=e.pageX,this.wrapperEl.clientPosition.y=e.pageY,this.wrapperEl.scale=t;break;case"touchmove":this.wrapperEl.clientPosition.x=e.touches[0].pageX,this.wrapperEl.clientPosition.y=e.touches[0].pageY,this.wrapperEl.scale=t;break;case"deviceorientation":this.processInputDeviceOrientation(e),this.wrapperEl.scale=t;break;case"autoreset":{const{tiltAngleXInitial:n,tiltAngleYInitial:r,tiltMaxAngleX:s,tiltMaxAngleY:a}=this.props,l=r/a*100;this.wrapperEl.clientPosition.xPercentage=ha(n/s*100,-100,100),this.wrapperEl.clientPosition.yPercentage=ha(l,-100,100),this.wrapperEl.scale=1;break}}},this.processInputDeviceOrientation=e=>{if(!e.gamma||!e.beta||!this.props.gyroscope)return;const{tiltMaxAngleX:t,tiltMaxAngleY:n}=this.props,r=e.gamma;this.wrapperEl.clientPosition.xPercentage=e.beta/t*100,this.wrapperEl.clientPosition.yPercentage=r/n*100,this.wrapperEl.clientPosition.xPercentage=ha(this.wrapperEl.clientPosition.xPercentage,-100,100),this.wrapperEl.clientPosition.yPercentage=ha(this.wrapperEl.clientPosition.yPercentage,-100,100)},this.update=e=>{const{tiltEnable:t,flipVertically:n,flipHorizontally:r}=this.props;e!=="autoreset"&&e!=="deviceorientation"&&e!=="propChange"&&this.updateClientInput(),t&&this.tilt.update(this.wrapperEl.clientPosition,this.props),this.updateFlip(),this.tilt.updateTiltAnglesPercentage(this.props),this.glare&&this.glare.update(this.wrapperEl.clientPosition,this.props,n,r)},this.updateClientInput=()=>{const{trackOnWindow:e}=this.props;let t,n;if(e){const{x:r,y:s}=this.wrapperEl.clientPosition;t=s/window.innerHeight*200-100,n=r/window.innerWidth*200-100}else{const{size:{width:r,height:s,left:a,top:l},clientPosition:{x:f,y:d}}=this.wrapperEl;t=(d-l)/s*200-100,n=(f-a)/r*200-100}this.wrapperEl.clientPosition.xPercentage=ha(t,-100,100),this.wrapperEl.clientPosition.yPercentage=ha(n,-100,100)},this.updateFlip=()=>{const{flipVertically:e,flipHorizontally:t}=this.props;e&&(this.tilt.tiltAngleX+=180,this.tilt.tiltAngleY*=-1),t&&(this.tilt.tiltAngleY+=180)},this.renderFrame=()=>{this.resetWrapperElTransform(),this.renderPerspective(),this.tilt.render(this.wrapperEl.node),this.renderScale(),this.glare&&this.glare.render(this.props)}}componentDidMount(){if(this.tilt=new QG,this.initGlare(),this.setSize(),this.addEventListeners(),typeof CustomEvent>"u")return;const e=new CustomEvent("autoreset");this.mainLoop(e);const t=new CustomEvent("initial");this.emitOnMove(t)}componentWillUnmount(){this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.removeEventListeners()}componentDidUpdate(){const e=new CustomEvent("propChange");this.mainLoop(e),this.emitOnMove(e)}addEventListeners(){const{trackOnWindow:e,gyroscope:t}=this.props;window.addEventListener("resize",this.setSize),e&&(window.addEventListener("mouseenter",this.onEnter),window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseout",this.onLeave),window.addEventListener("touchstart",this.onEnter),window.addEventListener("touchmove",this.onMove),window.addEventListener("touchend",this.onLeave)),t&&this.addDeviceOrientationEventListener()}removeEventListeners(){const{trackOnWindow:e,gyroscope:t}=this.props;window.removeEventListener("resize",this.setSize),e&&(window.removeEventListener("mouseenter",this.onEnter),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseout",this.onLeave),window.removeEventListener("touchstart",this.onEnter),window.removeEventListener("touchmove",this.onMove),window.removeEventListener("touchend",this.onLeave)),t&&window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this.onMove)}setWrapperElSize(){const e=this.wrapperEl.node.getBoundingClientRect();this.wrapperEl.size.width=this.wrapperEl.node.offsetWidth,this.wrapperEl.size.height=this.wrapperEl.node.offsetHeight,this.wrapperEl.size.left=e.left+window.scrollX,this.wrapperEl.size.top=e.top+window.scrollY}initGlare(){const{glareEnable:e,glareBorderRadius:t}=this.props;e&&(this.glare=new YG(this.wrapperEl.size,t),this.wrapperEl.node.appendChild(this.glare.glareWrapperEl))}emitOnMove(e){const{onMove:t}=this.props;if(!t)return;let n=0,r=0;this.glare&&(n=this.glare.glareAngle,r=this.glare.glareOpacity),t({tiltAngleX:this.tilt.tiltAngleX,tiltAngleY:this.tilt.tiltAngleY,tiltAngleXPercentage:this.tilt.tiltAngleXPercentage,tiltAngleYPercentage:this.tilt.tiltAngleYPercentage,glareAngle:n,glareOpacity:r,event:e})}resetWrapperElTransform(){this.wrapperEl.node.style.transform=""}renderPerspective(){const{perspective:e}=this.props;this.wrapperEl.node.style.transform+=`perspective(${e}px) `}renderScale(){const{scale:e}=this.wrapperEl;this.wrapperEl.node.style.transform+=`scale3d(${e},${e},${e})`}setTransitions(){const{transitionSpeed:e,transitionEasing:t}=this.props;mM(this.wrapperEl.node,"all",e,t),this.glare&&mM(this.glare.glareEl,"opacity",e,t)}render(){const{children:e,className:t,style:n}=this.props;return ne.jsx("div",{ref:r=>{this.wrapperEl.node=r},onMouseEnter:this.onEnter,onMouseMove:this.onMove,onMouseLeave:this.onLeave,onTouchStart:this.onEnter,onTouchMove:this.onMove,onTouchEnd:this.onLeave,className:t,style:n,children:e})}}b0.defaultProps=qG;const P0=i=>({hidden:{y:-50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",duration:1.25,delay:i}}}),Fp=(i,e,t,n)=>({hidden:{x:i==="left"?100:i==="right"?-100:0,y:i==="up"?100:i==="down"?-100:0,opacity:0},show:{x:0,y:0,opacity:1,transition:{type:e,delay:t,duration:n,ease:"easeOut"}}}),gM=(i,e,t,n)=>({hidden:{x:i==="left"?"-100%":i==="right"?"100%":0,y:i==="up"||i==="down"?"100%":0},show:{x:0,y:0,transition:{type:e,delay:t,duration:n,ease:"easeOut"}}}),ZG=(i,e)=>({hidden:{},show:{transition:{staggerChildren:i,delayChildren:e||0}}}),Np=(i,e)=>function(){return ne.jsxs(mr.section,{variants:ZG(),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.25},className:`${Vi.padding} max-w-7xl mx-auto relative z-0`,children:[ne.jsx("span",{className:"hash-span",id:e,children:""}),ne.jsx(i,{})]})},$G=({index:i,title:e,icon:t})=>ne.jsx(b0,{className:"xs:w-[174px] w-full",children:ne.jsx(mr.div,{variants:Fp("right","spring",.5*i,.4),className:"w-full blue-red-gradient p-[1px] rounded-[20px] shadow-card",children:ne.jsxs("div",{options:{max:30,scale:1,speed:450},className:"bg-tertiary rounded-[20px] py-1 px-4 min-h-[240px] flex justify-evenly items-center flex-col",children:[ne.jsx("img",{src:t,alt:e,className:"w-32 h-32 object-contain"}),ne.jsxs("h3",{className:"text-white text-[20px] font-bold text-center",children:[e," "]})]})})}),eH=()=>ne.jsxs(ne.Fragment,{children:[ne.jsxs(mr.div,{variants:P0(),children:[ne.jsx("p",{className:Vi.sectionSubText,children:"Introduction"}),ne.jsx("h2",{className:Vi.sectionHeadText,children:"Overview."})]}),ne.jsx(mr.p,{variants:Fp("","",.1,1),className:"mt-4 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"Software Engineer with early-career experience in collaborative development environments. Exhibited strength in both implementing new functionality and ensuring code quality through testing. Thrived within rigorous course schedule covering a wide breadth of software disciplines. Eager to contribute by leveraging technical expertise and collaborative skills to build reliable and impactful solutions."}),ne.jsx("div",{className:"mt-10 max-w-[760px] lgabt:max-w-[1280px] ml-[-16px]",children:ne.jsxs("div",{className:"grid gap-4 justify-center grid-cols-[repeat(auto-fit,_minmax(174px,_174px))]",children:[ne.jsx(b0,{options:{max:30,scale:1,speed:50},className:"blue-red-gradient p-[1px] rounded-[20px] shadow-card h-[496px] w-[364px] col-span-2 row-span-2",children:ne.jsx("img",{src:"/src/assets/profile.jpg",alt:"Profile",loading:"lazy",decoding:"async",className:"w-full h-full rounded-[20px] object-cover"})}),WG.map((i,e)=>ne.jsx($G,{index:e,...i},i.title))]})})]}),tH=Np(eH,"about");var Td={},Cv={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var yM;function Sb(){return yM||(yM=1,function(i){(function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var a=typeof s;if(a==="string"||a==="number")n.push(s);else if(Array.isArray(s)){if(s.length){var l=t.apply(null,s);l&&n.push(l)}}else if(a==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){n.push(s.toString());continue}for(var f in s)e.call(s,f)&&s[f]&&n.push(f)}}}return n.join(" ")}i.exports?(t.default=t,i.exports=t):window.classNames=t})()}(Cv)),Cv.exports}var vM;function nH(){if(vM)return Td;vM=1,Td.__esModule=!0,Td.default=void 0;var i=n(lh()),e=n(sT()),t=n(Sb());function n(a){return a&&a.__esModule?a:{default:a}}const r=({animate:a=!0,className:l="",layout:f="2-columns",lineColor:d="#FFF",children:p})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",d),i.default.createElement("div",{className:(0,t.default)(l,"vertical-timeline",{"vertical-timeline--animate":a,"vertical-timeline--two-columns":f==="2-columns","vertical-timeline--one-column-left":f==="1-column"||f==="1-column-left","vertical-timeline--one-column-right":f==="1-column-right"})},p));r.propTypes={children:e.default.oneOfType([e.default.arrayOf(e.default.node),e.default.node]).isRequired,className:e.default.string,animate:e.default.bool,layout:e.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:e.default.string};var s=r;return Td.default=s,Td}var bd={};function kx(){return kx=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},kx.apply(this,arguments)}function iH(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,Ox(i,e)}function Ox(i,e){return Ox=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ox(i,e)}function rH(i,e){if(i==null)return{};var t={},n=Object.keys(i),r,s;for(s=0;s<n.length;s++)r=n[s],!(e.indexOf(r)>=0)&&(t[r]=i[r]);return t}var Ux=new Map,Eg=new WeakMap,xM=0,Mb=void 0;function sH(i){Mb=i}function oH(i){return i?(Eg.has(i)||(xM+=1,Eg.set(i,xM.toString())),Eg.get(i)):"0"}function aH(i){return Object.keys(i).sort().filter(function(e){return i[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?oH(i.root):i[e])}).toString()}function lH(i){var e=aH(i),t=Ux.get(e);if(!t){var n=new Map,r,s=new IntersectionObserver(function(a){a.forEach(function(l){var f,d=l.isIntersecting&&r.some(function(p){return l.intersectionRatio>=p});i.trackVisibility&&typeof l.isVisible>"u"&&(l.isVisible=d),(f=n.get(l.target))==null||f.forEach(function(p){p(d,l)})})},i);r=s.thresholds||(Array.isArray(i.threshold)?i.threshold:[i.threshold||0]),t={id:e,observer:s,elements:n},Ux.set(e,t)}return t}function c1(i,e,t,n){if(t===void 0&&(t={}),n===void 0&&(n=Mb),typeof window.IntersectionObserver>"u"&&n!==void 0){var r=i.getBoundingClientRect();return e(n,{isIntersecting:n,target:i,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),function(){}}var s=lH(t),a=s.id,l=s.observer,f=s.elements,d=f.get(i)||[];return f.has(i)||f.set(i,d),d.push(e),l.observe(i),function(){d.splice(d.indexOf(e),1),d.length===0&&(f.delete(i),l.unobserve(i)),f.size===0&&(l.disconnect(),Ux.delete(a))}}var uH=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function _M(i){return typeof i.children!="function"}var t0=function(i){iH(e,i);function e(n){var r;return r=i.call(this,n)||this,r.node=null,r._unobserveCb=null,r.handleNode=function(s){r.node&&(r.unobserve(),!s&&!r.props.triggerOnce&&!r.props.skip&&r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=s||null,r.observeNode()},r.handleChange=function(s,a){s&&r.props.triggerOnce&&r.unobserve(),_M(r.props)||r.setState({inView:s,entry:a}),r.props.onChange&&r.props.onChange(s,a)},r.state={inView:!!n.initialInView,entry:void 0},r}var t=e.prototype;return t.componentDidUpdate=function(r){(r.rootMargin!==this.props.rootMargin||r.root!==this.props.root||r.threshold!==this.props.threshold||r.skip!==this.props.skip||r.trackVisibility!==this.props.trackVisibility||r.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},t.componentWillUnmount=function(){this.unobserve(),this.node=null},t.observeNode=function(){if(!(!this.node||this.props.skip)){var r=this.props,s=r.threshold,a=r.root,l=r.rootMargin,f=r.trackVisibility,d=r.delay,p=r.fallbackInView;this._unobserveCb=c1(this.node,this.handleChange,{threshold:s,root:a,rootMargin:l,trackVisibility:f,delay:d},p)}},t.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},t.render=function(){if(!_M(this.props)){var r=this.state,s=r.inView,a=r.entry;return this.props.children({inView:s,entry:a,ref:this.handleNode})}var l=this.props,f=l.children,d=l.as,p=rH(l,uH);return Z.createElement(d||"div",kx({ref:this.handleNode},p),f)},e}(Z.Component);t0.displayName="InView";t0.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function cH(i){var e=i===void 0?{}:i,t=e.threshold,n=e.delay,r=e.trackVisibility,s=e.rootMargin,a=e.root,l=e.triggerOnce,f=e.skip,d=e.initialInView,p=e.fallbackInView,g=Z.useRef(),y=Z.useState({inView:!!d}),x=y[0],A=y[1],w=Z.useCallback(function(E){g.current!==void 0&&(g.current(),g.current=void 0),!f&&E&&(g.current=c1(E,function(b,T){A({inView:b,entry:T}),T.isIntersecting&&l&&g.current&&(g.current(),g.current=void 0)},{root:a,rootMargin:s,threshold:t,trackVisibility:r,delay:n},p))},[Array.isArray(t)?t.toString():t,a,s,l,f,r,p,n]);Z.useEffect(function(){!g.current&&x.entry&&!l&&!f&&A({inView:!!d})});var S=[w,x.inView,x.entry];return S.ref=S[0],S.inView=S[1],S.entry=S[2],S}const fH=Object.freeze(Object.defineProperty({__proto__:null,InView:t0,default:t0,defaultFallbackInView:sH,observe:c1,useInView:cH},Symbol.toStringTag,{value:"Module"})),hH=$b(fH);var AM;function dH(){if(AM)return bd;AM=1,bd.__esModule=!0,bd.default=void 0;var i=r(lh()),e=r(sT()),t=r(Sb()),n=hH;function r(l){return l&&l.__esModule?l:{default:l}}const s=({children:l="",className:f="",contentArrowStyle:d=null,contentStyle:p=null,date:g="",dateClassName:y="",icon:x=null,iconClassName:A="",iconOnClick:w=null,onTimelineElementClick:S=null,iconStyle:E=null,id:b="",position:T="",style:R=null,textClassName:I="",intersectionObserverProps:F={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:z=!1})=>i.default.createElement(n.InView,F,({inView:D,ref:O})=>i.default.createElement("div",{ref:O,id:b,className:(0,t.default)(f,"vertical-timeline-element",{"vertical-timeline-element--left":T==="left","vertical-timeline-element--right":T==="right","vertical-timeline-element--no-children":l===""}),style:R},i.default.createElement(i.default.Fragment,null,i.default.createElement("span",{style:E,onClick:w,className:(0,t.default)(A,"vertical-timeline-element-icon",{"bounce-in":D||z,"is-hidden":!(D||z)})},x),i.default.createElement("div",{style:p,onClick:S,className:(0,t.default)(I,"vertical-timeline-element-content",{"bounce-in":D||z,"is-hidden":!(D||z)})},i.default.createElement("div",{style:d,className:"vertical-timeline-element-content-arrow"}),l,i.default.createElement("span",{className:(0,t.default)(y,"vertical-timeline-element-date")},g)))));s.propTypes={children:e.default.oneOfType([e.default.arrayOf(e.default.node),e.default.node]),className:e.default.string,contentArrowStyle:e.default.shape({}),contentStyle:e.default.shape({}),date:e.default.node,dateClassName:e.default.string,icon:e.default.element,iconClassName:e.default.string,iconStyle:e.default.shape({}),iconOnClick:e.default.func,onTimelineElementClick:e.default.func,id:e.default.string,position:e.default.string,style:e.default.shape({}),textClassName:e.default.string,visible:e.default.bool,intersectionObserverProps:e.default.shape({root:e.default.object,rootMargin:e.default.string,threshold:e.default.number,triggerOnce:e.default.bool})};var a=s;return bd.default=a,bd}var Ev,wM;function pH(){return wM||(wM=1,Ev={VerticalTimeline:nH().default,VerticalTimelineElement:dH().default}),Ev}var Cb=pH();const mH=({experience:i})=>ne.jsx(Cb.VerticalTimelineElement,{contentStyle:{background:"#000D29",color:"#fff"},contentArrowStyle:{borderRight:"7px solid #000D29"},date:i.date,iconStyle:{background:i.iconBg},icon:ne.jsx("div",{className:"flex justify-center items-center w-full h-full",children:ne.jsx("img",{src:i.icon,alt:i.company_name,className:"w-[60%] h-[60%] object-contain"})}),children:ne.jsxs("div",{children:[ne.jsx("h3",{className:"text-white text-[24px] font-bold",children:i.title}),ne.jsx("p",{className:"text-secondary text-[16px] font-semibold",style:{margin:0},children:i.company_name}),ne.jsx("ul",{className:"mt-5 list-disc ml-5 space-y-2",children:i.points.map((e,t)=>ne.jsx("li",{className:"text-white-100 text-[14px] pl-1 tracking-wider",children:e},`experience-point-${t}`))})]})}),gH=()=>ne.jsxs(ne.Fragment,{children:[ne.jsxs(mr.div,{variants:P0(),children:[ne.jsx("p",{className:Vi.sectionSubText,children:"What I have done so far"}),ne.jsx("h2",{className:Vi.sectionHeadText,children:"Experience."})]}),ne.jsx("div",{className:"mt-20 flex flex-col",children:ne.jsx(Cb.VerticalTimeline,{children:jG.map((i,e)=>ne.jsx(mH,{experience:i},e))})})]}),yH=Np(gH,"work"),vH=({index:i,name:e,description:t,tags:n,image:r,source_code_link:s})=>ne.jsx(mr.div,{variants:Fp("up","spring",i*.5,.75),children:ne.jsxs(b0,{options:{max:30,scale:1,speed:450},className:"bg-tertiary p-5 rounded-2xl sm:w-[360px] w-full",children:[ne.jsxs("div",{className:"relative w-full h-[115px]",children:[ne.jsx("img",{src:r,alt:e,className:"w-full h-full object-cover rounded-2xl"}),ne.jsx("div",{className:"absolute inset-0 flex justify-end m-3 card-img_hover",children:ne.jsx("div",{onClick:()=>window.open(s,"_blank"),className:"black-gradient w-10 h-10 rounded-full flex justify-center items-center cursor-pointer",children:ne.jsx("img",{src:bG,alt:"github",className:"w-1/2 h-1/2 object-contain"})})})]}),ne.jsxs("div",{className:"mt-5",children:[ne.jsx("h3",{className:"text-white font-bold text-[24px]",children:e}),ne.jsx("p",{className:"mt-2 text-secondary text-[14px]",children:t}),ne.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:n.map(a=>ne.jsxs("p",{className:`text-[14px] ${a.color}`,children:["#",a.name]},a.name))})]})]})}),xH=()=>ne.jsxs(ne.Fragment,{children:[ne.jsxs(mr.div,{variants:P0(),children:[ne.jsx("p",{className:Vi.sectionSubText,children:"My sample work"}),ne.jsx("h2",{className:Vi.sectionHeadText,children:"Projects."})]}),ne.jsx("div",{className:"w-full flex",children:ne.jsx(mr.p,{variants:Fp("","",.1,1),className:"mt-3 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"The following projects showcase some of my skills and experience through real-world examples of my work. Each project is briefly described with a link to my code on GitHub."})}),ne.jsx("div",{className:"mt-20 flex flex-wrap gap-7",children:XG.map((i,e)=>ne.jsx(vH,{index:e,...i},`project-${e}`))})]}),_H=Np(xH,""),AH=({index:i,testimonial:e,name:t,designation:n,image:r})=>ne.jsxs(mr.div,{variants:Fp("","spring",i*.5,.75),className:"bg-black-200 p-10 rounded-3xl xs:w-[320px] w-full",children:[ne.jsx("p",{className:"text-white font-black text-[48px]",children:'"'}),ne.jsxs("div",{className:"mt-1",children:[ne.jsx("p",{className:"text-white tracking-wider text-[18px]",children:e}),ne.jsxs("div",{className:"mt-7 flex justify-between items-center gap-1",children:[ne.jsxs("div",{className:"flex-1 flex flex-col",children:[ne.jsxs("p",{className:"text-white font-medium text-[16px]",children:[ne.jsx("span",{className:"blue-text-gradient",children:"@"})," ",t]}),ne.jsx("p",{className:"mt-1 text-secondary text-[12px]",children:n})]}),ne.jsx("img",{src:r,alt:`feedback-by-${t}`,className:"w-10 h-10 rounded-full object-cover"})]})]})]}),wH=()=>ne.jsxs("div",{className:"mt-12 bg-black-100 rounded-[20px]",children:[ne.jsx("div",{className:`${Vi.padding} bg-tertiary rounded-2xl min-h-[300px]`,children:ne.jsxs(mr.div,{variants:P0(),children:[ne.jsx("p",{className:Vi.sectionSubText,children:"What others say"}),ne.jsx("h2",{className:Vi.sectionHeadText,children:"Testimonials."})]})}),ne.jsx("div",{className:`${Vi.paddingX} -mt-20 pb-14 flex flex-wrap gap-7  items-center justify-center`,children:JG.map((i,e)=>ne.jsx(AH,{index:e,...i},i.name))})]}),SH=Np(wH,""),op={_origin:"https://api.emailjs.com"},MH=(i,e="https://api.emailjs.com")=>{op._userID=i,op._origin=e},Eb=(i,e,t)=>{if(!i)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class SM{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const Tb=(i,e,t={})=>new Promise((n,r)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:a})=>{const l=new SM(a);l.status===200||l.text==="OK"?n(l):r(l)}),s.addEventListener("error",({target:a})=>{r(new SM(a))}),s.open("POST",op._origin+i,!0),Object.keys(t).forEach(a=>{s.setRequestHeader(a,t[a])}),s.send(e)}),CH=(i,e,t,n)=>{const r=n||op._userID;return Eb(r,i,e),Tb("/api/v1.0/email/send",JSON.stringify({lib_version:"3.12.1",user_id:r,service_id:i,template_id:e,template_params:t}),{"Content-type":"application/json"})},EH=i=>{let e;if(typeof i=="string"?e=document.querySelector(i):e=i,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},TH=(i,e,t,n)=>{const r=n||op._userID,s=EH(t);Eb(r,i,e);const a=new FormData(s);return a.append("lib_version","3.12.1"),a.append("service_id",i),a.append("template_id",e),a.append("user_id",r),Tb("/api/v1.0/email/send-form",a)},bH={init:MH,send:CH,sendForm:TH},PH=()=>{const i=Z.useRef(),[e,t]=Z.useState({name:"",email:"",message:""}),[n,r]=Z.useState(!1),s=l=>{const{name:f,value:d}=l.target;t({...e,[f]:d})},a=l=>{l.preventDefault(),r(!0),bH.send("service_o9gvv4t","template_zg98l6i",{from_name:e.name,to_name:"Nick",from_email:e.email,to_email:"nickmhfrank@gmail.com",message:e.message},"sQQSDQNUCga19A5x3").then(()=>{r(!1),alert("Thank you. I will get back to you as soon as possible."),t({name:"",email:"",message:""})},f=>{r(!1),console.log(f),alert("Something went wrong.")})};return ne.jsxs("div",{className:"xl:mt-12 flex xl:flex-row flex-col-reverse gap-10 overflow-hidden",children:[ne.jsxs(mr.div,{variants:gM("left","tween",.2,1),className:"flex-[0.75] bg-black-100 p-8 rounded-2xl",children:[ne.jsx("p",{className:Vi.sectionSubText,children:"Get in touch"}),ne.jsx("h3",{className:Vi.sectionHeadText,children:"Contact."}),ne.jsxs("div",{className:"flex gap-2 justify-evenly mt-2 flex-wrap",children:[ne.jsx("a",{href:"mailto:nickmhfrank@gmail.com",className:"text-white blue-yellow-gradient p-[1px] rounded-[40px] shadow-card",children:ne.jsx("div",{className:"bg-tertiary rounded-[40px] py-2 px-4 flex justify-evenly hover:bg-black-200",children:"nickmhfrank@gmail.com"})}),ne.jsx("a",{href:"https://linkedin.com/in/nmhfrank",target:"_blank",rel:"noopener noreferrer",className:"text-white blue-yellow-gradient p-[1px] rounded-[40px] shadow-card",children:ne.jsx("div",{className:"bg-tertiary rounded-[40px] py-2 px-4 flex justify-evenly hover:bg-black-200",children:"linkedin.com/in/nmhfrank"})})]}),ne.jsxs("form",{ref:i,onSubmit:a,className:"mt-8 flex flex-col gap-8",children:[ne.jsxs("label",{className:"flex flex-col",children:[ne.jsx("span",{className:"text-white font-medium mb-4",children:"Your Name"}),ne.jsx("input",{type:"text",name:"name",value:e.name,onChange:s,placeholder:"What's your name?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outlined-none border-none font-medium"})]}),ne.jsxs("label",{className:"flex flex-col",children:[ne.jsx("span",{className:"text-white font-medium mb-4",children:"Your Email"}),ne.jsx("input",{type:"email",name:"email",value:e.email,onChange:s,placeholder:"What's your email?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outlined-none border-none font-medium"})]}),ne.jsxs("label",{className:"flex flex-col",children:[ne.jsx("span",{className:"text-white font-medium mb-4",children:"Your Message"}),ne.jsx("textarea",{rows:"7",name:"message",value:e.message,onChange:s,placeholder:"What do you want to say?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outlined-none border-none font-medium"})]}),ne.jsx("button",{type:"submit",className:"bg-tertiary py-3 px-8 outline-none w-fit text-white font-bold shadow-md shadow-primary rounded-xl",children:n?"Sending...":"Send"})]})]}),ne.jsx(mr.div,{variants:gM("right","tween",.2,1),className:"xl:flex-1 xl:h-auto md:h-[550px] h-[350px]",children:ne.jsx(Kk,{})})]})},BH=Np(PH,"contact"),RH=()=>ne.jsxs("div",{className:"pb-2",children:[ne.jsxs("div",{className:"flex justify-center center-items flex-wrap text-center text-white space-x-6",children:[ne.jsxs("p",{children:["Based on tutorial from ",ne.jsx("a",{href:"https://www.youtube.com/@javascriptmastery",target:"_blank",rel:"noopener noreferrer",className:"hover:underline text-secondary",children:"JSMastery"})]}),ne.jsxs("p",{children:["Boat model by ",ne.jsx("a",{href:"https://sketchfab.com/JasperTobias",target:"_blank",rel:"noopener noreferrer",className:"hover:underline text-secondary",children:"Jasper Tobias"})]}),ne.jsxs("p",{children:["Submarine model by ",ne.jsx("a",{href:"https://sketchfab.com/robertkotsch",target:"_blank",rel:"noopener noreferrer",className:"hover:underline text-secondary",children:"Robert Kotsch"})]})]}),ne.jsx("p",{className:"text-center md:text-right pr-2",children:"Copyright  2025 Nick Frank. All rights reserved."})]}),LH=()=>ne.jsx(L2,{children:ne.jsxs("div",{className:"relative z-0 overflow-x-visible",children:[ne.jsxs("div",{className:"bg-hero-pattern bg-cover bg-no-repeat bg-center",children:[ne.jsx(KG,{}),ne.jsx(EG,{})]}),ne.jsxs("div",{className:"bg-gradient-to-b from-blue-600 to-slate-950 relative z-0",children:[ne.jsx(tH,{}),ne.jsx(yH,{}),ne.jsx(_H,{}),ne.jsx(SH,{}),ne.jsx(BH,{}),ne.jsx(sO,{}),ne.jsx(RH,{})]})]})});EM.createRoot(document.getElementById("root")).render(ne.jsx(Z.StrictMode,{children:ne.jsx(LH,{})}));
